var Br=Object.freeze,yo=Object.defineProperty;var xt=(l,u)=>Br(yo(l,"raw",{value:Br(u||l.slice())}));var xo="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",go=(l=21)=>{let u="",t=l;for(;t--;)u+=xo[Math.random()*64|0];return u},To=go,xe=class extends Error{constructor(l){super(l),this.name="ui.js \u2764\uFE0F  brackets parse ERROR"}};function bo({open:l,close:u,pos:t,nodes:e},s,n){return{nodeType:"bracket",open:l,close:u,nodes:e,pos:Object.assign({},t,{end:s}),content:n.substring(t.start,s+1),innerContent:n.substring(t.start+1,s)}}function vo(l){let u=new Map;return l.forEach(([t,e=t])=>u.set(t,e)),{quotes:u}}function Eo(l){let u={},t={};return l.forEach(([e,s])=>{t[e]=s,u[s]=e}),{opens:u,closes:t}}function On(l){let{text:u,parent:t,start:e,end:s,opt:n}=l;if(e===s&&!n.includeEmpty)return;let i=n.pairs.reduce((r,h)=>r.concat(h.split("")),[]).map(r=>"".concat(n.escape).concat(r)),o=r=>i.reduce((h,T)=>h.split(T).join(T[1]),r),a=t.pos.depth+1;t.nodes.push({nodeType:"text",pos:{start:e,end:s,depth:a},content:o(u.substring(e,s))})}var Hn=l=>{let u=l.pop();if(u===void 0)throw new xe("LogicError :)");return u};function Bn(l,u){let t=Object.assign({pairs:["()","{}","[]"],nestMax:100,escape:"\\",skip:!1,includeEmpty:!1,quotes:['"',"'","`"]},u||{}),{pairs:e,nestMax:s,escape:n,skip:i}=t,{opens:o,closes:a}=Eo(e),{quotes:r}=vo(t.quotes),h=[{nodeType:"root",nodes:[],pos:{start:0,end:0,depth:-1},content:l}],T=0,w=null,R=0;for(let v=0;v<l.length;v++){let G=Hn(h),J=l[v],I=v>0&&l[v-1]===n;if(i&&["{","}","(",")","[","]"].includes(J)&&G.nodeType==="root")h.push(G);else if(i&&["{","(","["].includes(G.open)&&(J==="<"||J===">"))h.push(G);else if(I)h.push(G);else if(w!==null)w===J&&(w=null),h.push(G);else if(r.has(J))w=r.get(J),R=v,h.push(G);else if(a[J]!==void 0){if(h.length>=s)throw new xe("over nest max limit. options: { nestMax: '".concat(t.nestMax,"' }"));On({text:l,parent:G,start:T,end:v,opt:t}),h.push(G),h.push({nodeType:"bracket-open",pos:{start:v,depth:G.pos.depth+1},open:J,close:a[J],nodes:[]}),T=v+1}else if(o[J]!==void 0){if(G.nodeType==="root"||o[J]!==G.open)throw new xe("404 pair '".concat(o[J],"' :").concat(v));let b=Hn(h);On({text:l,parent:G,start:T,end:v,opt:t});let ct=bo(G,v,l);b.nodes.push(ct),h.push(b),T=v+1}else h.push(G)}if(w!==null)throw new xe("unclosed quote ".concat(w,' near "...').concat(l.substring(T-20,T+30),'..."'));let A=Hn(h);if(A.nodeType!=="root")throw new xe("404 pair '".concat(A.open,"' :").concat(A.pos.start));return On({text:l,parent:A,start:T,end:l.length,opt:t}),A.nodes}function Po(l){return[...l].reduce((u,t)=>(u.quote?(t===u.quote&&(u.quote=void 0),u.a[u.a.length-1]+=t):t==="="?u.a[u.a.length-1].length?u.a.push("="):u.a[u.a.length-1]="=":t===" "?u.a[u.a.length-1]!=="="&&u.a[u.a.length-1].length&&u.a.push(""):(['"',"'","`"].includes(t)&&(u.quote=t),u.a[u.a.length-1]+=t),u),{a:[""]}).a}function Te(l,u="|",t=!1){let e=[...l].reduce((s,n)=>(s.quote?(n===s.quote&&(s.quote=void 0),s.a[s.a.length-1]+=n):n===u?s.a.push(""):(['"',"'","`"].includes(n)&&(s.quote=n),s.a[s.a.length-1]+=n),s),{a:[""]}).a;return t?e.filter(s=>s):e}function Lo(l,u="|"){var t=l.lastIndexOf(u);return[l.substr(0,t),l.substr(t+1)]}function Dr(l){if(['"',"'"].includes(l[0])&&l[0]===l[l.length-1]){for(var u=1;u<l.length-1;){if(l[u]===l[0]&&l[u-1]!=="\\")return!1;u++}return!0}return!1}function wo(l){return l.filter(u=>u.opts&&u.opts.length).forEach(u=>{u.opts2={};let t=u.opts.find(n=>n.type==="loop");if(t){let n=t.key;u.opts2.key=new Function("return ".concat(n))();let i=t.value.split(" as ");if(!i[1])throw"Alias for the loop not defined";let o=i[1].split(",");u.opts2.loop_fn=i[0].trim(),u.opts2.loop_alias=o[0].trim(),o[1]&&(u.opts2.loop_key_alias=o[1].trim())}let e=u.opts.find(n=>n.type==="text");e&&(Dr(e.value)?u.opts2.text=e.value.substring(1,e.value.length-1):u.opts2.textFn=e.value);let s=u.opts.find(n=>n.type==="html");s&&(Dr(s.value)?u.opts2.html=s.value.substring(1,s.value.length-1):u.opts2.htmlFn=s.value),["if","style","attrs","enterStyles","updateStyles","exitStyles","enterAttrs","updateAttrs","exitAttrs"].forEach(n=>{let i=u.opts.find(o=>o.type===n);i&&(u.opts2[n]=i.value)}),u.opts.filter(n=>n.type==="eventCallback").forEach(n=>{u.opts2.events||(u.opts2.events={});let i=n.key.substr(1);if(u.opts2.events[i])throw'ui.js compile error: Duplicate event name "'.concat(i,'"');n.value[0]==="("&&console.warn('"'.concat(n.key,'(" is deprecated. Use "').concat(n.key,'{" inside "').concat(u.content.length>40?u.content.substring(0,40)+"...":u.content,'" declaration')),n.value=n.value[0]==="("?n.value.substring(1,n.value.length-1).trim():n.value.trim(),n.value[0]==="{"?n.value=n.value.substring(0,n.value.length-1)+";this.render()}":n.value="("+n.value+")==this.render()",u.opts2.events[i]=n.value}),u.opts.filter(n=>n.type==="eventBind"||n.type==="eventBindSelfNamed").forEach(n=>{u.opts2.events||(u.opts2.events={});let i=n.key.substr(1);if(u.opts2.events[i])throw'ui.js compile error: Duplicate event name "'.concat(i,'"');u.opts2.events[i]=new Function("return (...args) => this.".concat(n.value,"(...args)"))()}),u.opts.filter(n=>n.type==="eventCallFunction").forEach(n=>{u.opts2.events||(u.opts2.events={});let i=n.key.substr(1);if(u.opts2.events[i])throw'ui.js compile error: Duplicate event name "'.concat(i,'"');u.opts2.events[i]="".concat(n.value).concat(n.args)})}),l.filter(u=>u.opts&&u.opts.length).forEach(u=>{u.opts2||(u.opts2={}),u.opts2.attrs2||(u.opts2.attrs2={},u.opts2.attrsB={},u.opts2.attrsR={}),u.opts.filter(t=>t.type==="booleanAttribute").forEach(t=>{u.opts2.attrs2[t.key]&&console.warn('ui.js compile warning: direct attibute "'.concat(t.key,'" override attrs({...').concat(t.key,'...}) declaration in tag ""!')),u.opts2.attrs2[t.key]=t.key,u.opts2.attrsB[t.key]=!0}),u.opts.filter(t=>t.type==="stringAttribute").forEach(t=>{u.opts2.attrs2[t.key]&&console.warn('ui.js compile warning: direct attibute "'.concat(t.key,'" override attrs({...').concat(t.key,'...}) declaration in tag ""!')),u.opts2.attrs2[t.key]=t.value}),u.opts.filter(t=>t.type==="jsAttribute").forEach(t=>{if(t.key[0]==="%"){var e=t.key.substr(1);u.opts2.attrsR[e]=t.value}else var e=t.key;u.opts2.attrs2[e]&&console.warn('ui.js compile warning: direct attibute "'.concat(e,'" override attrs({...').concat(e,'...}) declaration in tag ""!')),u.opts2.attrs2[e]=t.value.endsWith("%")?t.value:t})}),l.forEach(u=>{u.opts2&&u.opts2.attrs2&&!Object.keys(u.opts2.attrs2).length&&(delete u.opts2.attrs2,delete u.opts2.attrsB),u.opts2&&u.opts2.events&&!Object.keys(u.opts2.events).length&&delete u.opts2.events}),l}function Bt({AAA:l,item:u,tag:t,a:e},s="enter",n="enterStyles"){if(e===s&&l.length){let i=l.shift().content;if(i[0]==="("){if(u.opts.find(o=>o.type===s))throw"ui.js template parse error: duplicate ".concat(s,'() inside "<').concat(t,'>" declaration');u.opts.push({type:n,value:i.slice(1,-1)})}else if(i[0]==="{"){if(s==="if")throw'ui.js template parse error: expected "if(..." but "if'.concat(i[0],'..." found inside "<').concat(t,'>"');if(u.opts.find(o=>o.type===s))throw"ui.js template parse error: duplicate ".concat(s,'() inside "<').concat(t,'>" declaration');u.opts.push({type:n,value:i.slice(1,-1)})}else throw'ui.js template parse error: expected "'.concat(s,'{..." but "').concat(s).concat(i[0],'..." found inside "<').concat(t,'>"');return!0}return!1}function Ao(l){return l.filter(u=>u.nodeType==="bracket"&&u.innerContent[0]!=="/").forEach(u=>{u.opts=[];let t=Bn(u.innerContent).map(s=>({nodeType:s.nodeType,content:s.content.trim()}));var e="";do{let s=t.shift();if(s.nodeType==="bracket")if(u.opts.length){let n=u.opts[u.opts.length-1];if(n.type==="jsAttribute")n.value+=s.content;else throw'ui.js template parse error: unxpected brackets "'.concat(s.content,'" at the end of <').concat(e,"> attributes")}else throw'ui.js template parse error: unxpected brackets "'.concat(s.content,'" at the end of <').concat(e,"> attributes");else if(s.nodeType==="text"){let n=Po(s.content);e||(e=n.shift());do{let i=n.shift();if(n[0]&&n[0][0]==="="){let o=n.shift().substr(1);if(i[0]==="@"){if(['"',"'","`"].includes(o[0]))throw"ui.js template parse error: quotes around ".concat(o," is prohibited");if(t.length&&t[0].nodeType==="bracket"&&!n.length){let a=t.shift();u.opts.push({type:"eventCallFunction",key:i,value:o,args:a.content})}else u.opts.push({type:"eventBind",key:i,value:o.endsWith("/")?o.substring(0,o.length-1):o})}else if(o.startsWith('"')&&o.endsWith('"')||o.startsWith("`")&&o.endsWith("`")||o.startsWith("'")&&o.endsWith("'"))u.opts.push({type:"stringAttribute",key:i,value:o.slice(1,-1)});else if(o.length){let a=o.endsWith("/")?o.substring(0,o.length-1):o;a.startsWith('"')&&a.endsWith('"')||a.startsWith("`")&&a.endsWith("`")||a.startsWith("'")&&a.endsWith("'")?u.opts.push({type:"stringAttribute",key:i,value:a.slice(1,-1)}):u.opts.push({type:"jsAttribute",key:i,value:a})}else{if(!t.length)throw'ui.js template parse error: unxpected end of attribute "...'.concat(i,'=" inside "<').concat(e,'>" declaration');let a=t.shift().content;a[0]==="{"?u.opts.push({type:"eueAttribute",key:i,value:a}):a[0]==="["?u.opts.push({type:"transitionAttribute",key:i,value:a}):u.opts.push({type:"jsAttribute",key:i,value:a.substring(1,a.length-1)})}}else if(i==="loop"&&t.length){let o=t.shift().content;if(o[0]==="("){if(u.opts.find(h=>h.type==="loop"))throw"ui.js template parse error: duplicate loop".concat(o,' inside "<').concat(e,'>" declaration');let[a,r]=Lo(o.slice(1,-1));if(r)u.opts.push({type:"loop",key:r,value:a});else throw'ui.js template parse error: non-keyed loop not supported yet. "loop'.concat(o,'" inside "<').concat(e,'>"')}else throw'ui.js template parse error: expected "loop(..." but "loop'.concat(o[0],'..." found inside "<').concat(e,'>" ')}else if(!Bt({AAA:t,item:u,tag:e,a:i},"if","if")&&!Bt({AAA:t,item:u,tag:e,a:i},"style","style")&&!Bt({AAA:t,item:u,tag:e,a:i},"attrs","attrs")&&!Bt({AAA:t,item:u,tag:e,a:i},"enter","enterStyles")&&!Bt({AAA:t,item:u,tag:e,a:i},"update","updateStyles")&&!Bt({AAA:t,item:u,tag:e,a:i},"exit","exitStyles")&&!Bt({AAA:t,item:u,tag:e,a:i},"#enter","enterAttrs")&&!Bt({AAA:t,item:u,tag:e,a:i},"#update","updateAttrs")&&!Bt({AAA:t,item:u,tag:e,a:i},"#exit","exitAttrs")){if(i==="text"&&t.length){let o=t.shift().content;if(o[0]==="("){if(u.opts.find(a=>a.type==="text"))throw'ui.js template parse error: duplicate text{c} inside "<'.concat(e,'>" declaration');u.opts.push({type:"text",value:o.slice(1,-1)})}else throw'ui.js template parse error: expected "text(..." but "text{c[0]}..." found inside "<'.concat(e,'>"')}else if(i==="html"&&t.length){let o=t.shift().content;if(o[0]==="("){if(u.opts.find(a=>a.type==="html"))throw'ui.js template parse error: duplicate html{c} inside "<'.concat(e,'>" declaration');u.opts.push({type:"html",value:o.slice(1,-1)})}else throw'ui.js template parse error: expected "html(..." but "html{c[0]}..." found inside "<'.concat(e,'>"')}else if(i)if(i[0]==="@")if(!n.length&&t[0]&&t[0].nodeType==="bracket"){let o=t.shift();u.opts.push({type:"eventCallback",key:i,value:o.content})}else i.endsWith("/")?u.opts.push({type:"eventBindSelfNamed",key:i.trim().slice(0,-1),value:i.trim().slice(1,-1)}):u.opts.push({type:"eventBindSelfNamed",key:i.trim(),value:i.trim().slice(1)});else{if(i==="=")throw'ui.js template parse error: unxpected end of attribute "'.concat(i,'" inside "<').concat(e,'>" declaration');i!=="/"&&u.opts.push({type:"booleanAttribute",key:i.endsWith("/")?i.slice(0,-1):i})}}}while(n.length)}}while(t.length)}),wo(l)}var Fr={"!DOCTYPE":!0,"!doctype":!0,area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,menuitem:!0,param:!0,source:!0,track:!0,wbr:!0,circle:!0,ellipse:!0,line:!0,path:!0,polygon:!0,polyline:!0,rect:!0,stop:!0,use:!0},Mo=class extends Error{constructor(l){super(l),this.name="ui.js \u2764\uFE0F  syntax ERROR"}};function jn(l,u=[]){if(!u.length)return l;if(l[0]=="@"){if(l.length===1)throw"empty alias tag <@>";let t=u.find(e=>e.alias===l);if(t)l=t.name;else throw"alias <".concat(l,"> not defined")}return l}function kn(l,u){let t=u.find(e=>e.name===l);return t?t.alias:l}function Co(l,u){let t=[{children:[]}];if(t.last=()=>t[t.length-1],l.forEach(e=>{if(e.nodeType==="text"){var s=t[t.length-1];if(s.text)throw"children and text() attribute at the same time";s.children.push({tag:"#text",content:e.content})}else{var n=e.content.match(new RegExp("^<(@?[a-z][-a-z0-9]*)(\\s.*)?\\/>$","s"));if(n){var s=t[t.length-1];if(s.text)throw"children and text() attribute at the same time";s.children.push(Object.assign({tag:jn(n[1],u)},e.opts2))}else{var i=e.content.match(new RegExp("^<(@?[a-z][-a-z0-9]*)(\\s.*)?>$","s"));if(i)if(Fr[i[1]]){let a=t[t.length-1];if(a.text)throw"children and text() attribute at the same time";a.children.push(Object.assign({tag:jn(i[1],u)},e.opts2))}else t.push(Object.assign({tag:jn(i[1],u),children:[]},e.opts2));else{var o=e.content.match(new RegExp("^<\\/(@?[a-z][-a-z0-9]*)(\\s.*)?>$","s"));if(o){if(Fr[o[1]])throw"can't close self-closing tag \"</".concat(o[1],'>"');let a=t[t.length-2],r=t.pop();if(r.children.length===1&&r.children[0].tag==="#text"?(r.text=r.children[0].content,delete r.children):r.children.length||delete r.children,a){if(a.text)throw"children and text() attribute at the same time";let h=kn(r.tag,u),T=kn(o[1],u);if(h!==T)throw"the opening and closing tags are not the same <".concat(h,">...</").concat(T,">");a.children.push(r)}else throw!r.children||r.children[0].tag!==o[1]?"missing the opening tag for </".concat(o[1],">"):"closed twice tag <".concat(r.children[0].tag,">")}}}}}),t.length>1){let e=t.find(s=>s.tag);throw"Unclosed tag <".concat(kn(e.tag,u),">")}return t[0].children}var Oo=Co,pe={};pe.animate=function(l,u,t,e,s,n,i){if(typeof l!="number"||typeof u!="number"||typeof t!="number"||typeof e!="function")return;typeof s=="string"&&K[s]&&(s=K[s]),typeof s!="function"&&(s=K.linear),typeof n!="function"&&(n=function(){});var o=window.requestAnimationFrame||function(w){window.setTimeout(w,1e3/60)},a=!1,r=u-l;function h(w){if(!a){var R=(w||+new Date)-T;R>=0&&e(s(R,l,r,t)),R>=0&&R>=t?(e(u),n(i,u)):o(h)}}if(e(l),r){var T=window.performance&&window.performance.now?window.performance.now():+new Date;o(h)}return{update:function(w,R,A){T=window.performance&&window.performance.now?window.performance.now():+new Date,l=w,u=R,r=u-l,typeof A=="string"&&K[A]&&(s=K[A])},cancel:function(){a=!0},last:u}};pe.animateCSS=function(l,u,t,e,s,n,i,o){var a=function(r){l.style[u]=r+t};return pe.animate(e,s,n,a,i,o)};pe.cancel=function(l){l&&l.cancel()};var K=pe.easings={};K.linear=function(l,u,t,e){return t*l/e+u};K.easeInQuad=function(l,u,t,e){return t*(l/=e)*l+u};K.easeOutQuad=function(l,u,t,e){return-t*(l/=e)*(l-2)+u};K.easeInOutQuad=function(l,u,t,e){return(l/=e/2)<1?t/2*l*l+u:-t/2*(--l*(l-2)-1)+u};K.easeInCubic=function(l,u,t,e){return t*(l/=e)*l*l+u};K.easeOutCubic=function(l,u,t,e){return t*((l=l/e-1)*l*l+1)+u};K.easeInOutCubic=function(l,u,t,e){return(l/=e/2)<1?t/2*l*l*l+u:t/2*((l-=2)*l*l+2)+u};K.easeInQuart=function(l,u,t,e){return t*(l/=e)*l*l*l+u};K.easeOutQuart=function(l,u,t,e){return-t*((l=l/e-1)*l*l*l-1)+u};K.easeInOutQuart=function(l,u,t,e){return(l/=e/2)<1?t/2*l*l*l*l+u:-t/2*((l-=2)*l*l*l-2)+u};K.easeInQuint=function(l,u,t,e){return t*(l/=e)*l*l*l*l+u};K.easeOutQuint=function(l,u,t,e){return t*((l=l/e-1)*l*l*l*l+1)+u};K.easeInOutQuint=function(l,u,t,e){return(l/=e/2)<1?t/2*l*l*l*l*l+u:t/2*((l-=2)*l*l*l*l+2)+u};K.easeInSine=function(l,u,t,e){return-t*Math.cos(l/e*(Math.PI/2))+t+u};K.easeOutSine=function(l,u,t,e){return t*Math.sin(l/e*(Math.PI/2))+u};K.easeInOutSine=function(l,u,t,e){return-t/2*(Math.cos(Math.PI*l/e)-1)+u};K.easeInExpo=function(l,u,t,e){return l==0?u:t*Math.pow(2,10*(l/e-1))+u};K.easeOutExpo=function(l,u,t,e){return l==e?u+t:t*(-Math.pow(2,-10*l/e)+1)+u};K.easeInOutExpo=function(l,u,t,e){return l==0?u:l==e?u+t:(l/=e/2)<1?t/2*Math.pow(2,10*(l-1))+u:t/2*(-Math.pow(2,-10*--l)+2)+u};K.easeInCirc=function(l,u,t,e){return-t*(Math.sqrt(1-(l/=e)*l)-1)+u};K.easeOutCirc=function(l,u,t,e){return t*Math.sqrt(1-(l=l/e-1)*l)+u};K.easeInOutCirc=function(l,u,t,e){return(l/=e/2)<1?-t/2*(Math.sqrt(1-l*l)-1)+u:t/2*(Math.sqrt(1-(l-=2)*l)+1)+u};K.easeInElastic=function(l,u,t,e){var s=0,n=t;if(l==0)return u;if((l/=e)==1)return u+t;if(s||(s=e*.3),n<Math.abs(t)){n=t;var i=s/4}else var i=s/(2*Math.PI)*Math.asin(t/n);return-(n*Math.pow(2,10*(l-=1))*Math.sin((l*e-i)*(2*Math.PI)/s))+u};K.easeOutElastic=function(l,u,t,e){var s=0,n=t;if(l==0)return u;if((l/=e)==1)return u+t;if(s||(s=e*.3),n<Math.abs(t)){n=t;var i=s/4}else var i=s/(2*Math.PI)*Math.asin(t/n);return n*Math.pow(2,-10*l)*Math.sin((l*e-i)*(2*Math.PI)/s)+t+u};K.easeInOutElastic=function(l,u,t,e){var s=0,n=t;if(l==0)return u;if((l/=e/2)==2)return u+t;if(s||(s=e*(.3*1.5)),n<Math.abs(t)){n=t;var i=s/4}else var i=s/(2*Math.PI)*Math.asin(t/n);return l<1?-.5*(n*Math.pow(2,10*(l-=1))*Math.sin((l*e-i)*(2*Math.PI)/s))+u:n*Math.pow(2,-10*(l-=1))*Math.sin((l*e-i)*(2*Math.PI)/s)*.5+t+u};K.easeInBack=function(l,u,t,e,s){return s==null&&(s=1.70158),t*(l/=e)*l*((s+1)*l-s)+u};K.easeOutBack=function(l,u,t,e,s){return s==null&&(s=1.70158),t*((l=l/e-1)*l*((s+1)*l+s)+1)+u};K.easeInOutBack=function(l,u,t,e,s){return s==null&&(s=1.70158),(l/=e/2)<1?t/2*(l*l*(((s*=1.525)+1)*l-s))+u:t/2*((l-=2)*l*(((s*=1.525)+1)*l+s)+2)+u};K.easeInBounce=function(l,u,t,e){return t-K.easeOutBounce(e-l,0,t,e)+u};K.easeOutBounce=function(l,u,t,e){return(l/=e)<1/2.75?t*(7.5625*l*l)+u:l<2/2.75?t*(7.5625*(l-=1.5/2.75)*l+.75)+u:l<2.5/2.75?t*(7.5625*(l-=2.25/2.75)*l+.9375)+u:t*(7.5625*(l-=2.625/2.75)*l+.984375)+u};K.easeInOutBounce=function(l,u,t,e){return l<e/2?K.easeInBounce(l*2,0,t,e)*.5+u:K.easeOutBounce(l*2-e,0,t,e)*.5+t*.5+u};var Rt=pe,Ho={},ce=Ho,Dt={duration:500};function zr(l,u,t){var e=l[u];if(u<t)for(;u<t;u++)l[u]=l[u+1];else for(;u>t;u--)l[u]=l[u-1];l[t]=e}function We(l,u){if(typeof ce[l.tag]=="function")var t=new ce[l.tag](u,l);else if(l.svg)var t=document.createElementNS("http://www.w3.org/2000/svg",l.tag);else var t=document.createElement(l.tag);return Object.assign(t,{_attrs:{},_styles:{},_attrsV:{},_styleV:{},_colors:{},_events:{}}),t}function jo(l,u,t){u._BASE_ELEMENT?t?l._childNodes.splice(l._childNodes.findIndex(e=>e===t)+1,0,u):l._childNodes.unshift(u):t?t.after(u):l.prepend(u)}function Ye(l,u){u._BASE_ELEMENT?l._childNodes.unshift(u):l.prepend(u)}function Dn(l,u,t){var e,s=void 0,n="linear",i=void 0,o=void 0,a=void 0;if(typeof t=="object"){var r=t.duration||Dt.duration,h=t.to;t.ease&&(n=t.ease),t.fn&&(i=t.fn),t.done&&(o=t.done),t.from!==void 0&&(s=t.from),t.default!==void 0&&(a=t.default)}else var r=Dt.duration,h=t;if(s===void 0){var T=l.__rendererName?l.state[u]:l.getAttribute(u);s=T==null?a||0:Number(T)}Rt.cancel(l._attrs[u]),i?(s=((e=l._attrs[u])==null?void 0:e.last)||0,l._attrs[u]=Rt.animate(s,h,r,w=>{l.setAttribute(u,i(w))},n,o,l)):l._attrs[u]=Rt.animate(s,h,r,w=>{l.setAttribute(u,w)},n,o,l)}function ko(l,u,t){var e="linear",s=0;if(typeof t=="object"){var n=t.duration||Dt.duration,i=t.to;t.ease&&(e=t.ease),t.delay&&(s=t.delay)}else var n=Dt.duration,i=t;l._colors[u]=u+" "+n+"ms "+e+" "+s+"ms",clearTimeout(l._styles[u]),l._styles[u]=setTimeout(()=>{delete l._colors[u];var a=Object.values(l._colors).join(",");l._transition!=a&&(l._transition=a,l._transition?l.style.setProperty("transition",l._transition):l.style.removeProperty("transition"))},n+s);var o=Object.values(l._colors).join(",");l._transition!=o&&(l._transition=o,l._transition?l.style.setProperty("transition",l._transition):l.style.removeProperty("transition")),l.style.getPropertyValue(u)||l.style.setProperty(u,"#000000"),l.style.setProperty(u,getComputedStyle(l)[u]),setTimeout(()=>{l.style.setProperty(u,i)},0)}function us(l,u,t){if(["color","background","fill","stroke","background-color","border-color"].includes(u)){ko(l,u,t);return}var e="linear",s=void 0,n=void 0,i=0,o="",a=void 0,r=void 0;if(typeof t=="object"){if(typeof t.duration=="function"&&(t.duration=t.duration()),t.duration===0&&t.to){Rt.cancel(l._styles[u]),l.style.setProperty(u,t.to);return}var h=t.duration||Dt.duration,T=t.to;t.from!==void 0&&(n=t.from),t.default!==void 0&&(r=t.default),t.ease&&(e=t.ease),t.done&&(s=t.done),t.threshold!==void 0&&(i=t.threshold),t.fn&&(a=t.fn)}else var h=Dt.duration,T=t;var w=u.startsWith("--"),R=w?l.style.getPropertyValue(u):l.style[u];if(!R&&r&&(R=r),typeof T=="string"?["px","%","deg","vw","vh","em"].some(A=>{if(T.endsWith(A))return n!==void 0?n.endsWith(A)&&(n=Number(n.substring(0,n.length-A.length))):n=Number(R.substring(0,R.length-A.length)),T=Number(T.substring(0,T.length-A.length)),o=A,!0})||(T=Number(T)):n===void 0&&(n=Number(R)),i&&Math.abs(n-T)<i){Rt.cancel(l._styles[u]),l.style.setProperty(u,t.to);return}Rt.cancel(l._styles[u]),a?l._styles[u]=Rt.animate(n,T,h,A=>{l.style.setProperty(u,a(A+o))},e,s,l):l._styles[u]=Rt.animate(n,T,h,A=>{l.style.setProperty(u,A+o)},e,s,l)}function ps(l,u){return!!(l==="input"&&["checked","autofocus","readonly","required","disabled","multiple"].includes(u)||l==="option"&&["selected"].includes(u)||l==="button"&&["disabled","multiple"].includes(u)||l==="select"&&["disabled"].includes(u))}function cs(l,u,t,e,s){return typeof s!="object"?(l.setAttribute(e,s),Dt.duration):(Dn(l,e,s),s.duration?s.duration:Dt.duration)}function ms(l,u,t,e,s){return us(l,e,s),s.duration?s.duration:Dt.duration}function So(l,u,t,e,s,n){var i=0,o=0;if(u.exitAttrs){var a=u.exitAttrs(t);typeof a=="object"&&(o=Object.entries(a).reduce((h,T)=>Math.max(cs(l,u,t,T[0],T[1]),h),0))}if(u.exitStyles){var r=u.exitStyles(t);typeof r=="object"&&(i=Object.entries(r).reduce((h,T)=>Math.max(ms(l,u,t,T[0],T[1]),h),0))}if(l.isExit=!0,i>0||o>0){let h=setTimeout(()=>n.Done.then(()=>{be(l),s.exit.delete(e)}),i>o?i:o);s.exit.set(e,{element:l,timeout:h});return}clearTimeout(s.exit[e]),be(l)}function Uo(l,u,t,e,s){var n=0,i=0;if(u.exitAttrs){var o=u.exitAttrs(t);typeof o=="object"&&(i=Object.entries(o).reduce((r,h)=>Math.max(cs(l,u,t,h[0],h[1]),r),0))}if(u.exitStyles){var a=u.exitStyles(t);typeof a=="object"&&(n=Object.entries(a).reduce((r,h)=>Math.max(ms(l,u,t,h[0],h[1]),r),0))}if(l.isExit=!0,n>0||i>0){let r=setTimeout(()=>e.Done.then(()=>{e.__i__[s]=!1,be(l)}),n>i?n:i);return e.__i__[s]={exit:r},!1}return clearTimeout(e.__i__[s]),e.__i__[s]=!1,be(l),!0}async function be(l){if(l.nodeName==="#text"){console.log("TEXT");return}if(l.__i__)for(let t of Object.values(l.__i__))clearTimeout(t.exit);for(let t of Object.values(l._attrs))t!=null&&t.cancel&&t.cancel();for(let t of Object.values(l._styles))t!=null&&t.cancel&&t.cancel();let u=l.__rendererName?l.document._childNodes:l.children;for(;u.length;){let t=u[u.length-1];await be(t)}await l.remove()}function ge(l,u,t,e,s,n,i){var o=s.keys,a=s.elements,r=s.exit,h=a.length,T=i.length,w=h>T?h:T,R=0,A=0,v=0;do{if(A<T){var G=l.key(i[A],A);if(A>=h){h++,w=h>T?h:T;var J=r.get(G);if(J){clearTimeout(J.timeout);var I=J.element;delete I.isExit,l.svg||(I.className=""),r.delete(G)}else var I=We(l,u);if(e[l.loop_alias]=i[A],l.loop_key_alias&&(e[l.loop_key_alias]=A),Nn(I,l,e,bt,J),A===0)if(r.size)for(let vt of r){vt[1].element.before(I);break}else t?t.after(I):Ye(u,I);else a[A-1].after(I);a.splice(A,0,I),I.key=G,o[G]=!0,A++;continue}else{var b=a[A].key;if(G===b){e[l.loop_alias]=i[A],l.loop_key_alias&&(e[l.loop_key_alias]=A),l.Update_Tag(a[A],l,e,bt),A++;continue}else if(o[G]){var ct=void 0,gt=void 0;let vt;for(var wt=void 0,_t=A+1;_t<w;_t++)if(!ct&&_t<h&&a[_t].key===G&&(ct=_t+1),!gt&&_t<T&&l.key(i[_t],_t)===b&&(gt=_t+1),ct&&gt){var dt=a[A];if(ct>=gt)vt=a[ct-1],u.insertBefore(vt,dt),e[l.loop_alias]=i[A],l.loop_key_alias&&(e[l.loop_key_alias]=A),l.Update_Tag(vt,l,e,bt),ct===gt?(_t-A>1&&(ct>=a.length?a[_t-1].after(dt):u.insertBefore(dt,a[ct])),a[A]=a[_t],a[_t]=dt):(zr(a,ct-1,A),R++),A++;else{vt=!0;var Tt=gt-1+R;if(Tt>=a.length)a[a.length-2].after(dt);else{if(!a[Tt])throw 9999999999;u.insertBefore(dt,a[Tt])}zr(a,A,(Tt>h?h:Tt)-1),e[l.loop_alias]=i[A],l.loop_key_alias&&(e[l.loop_key_alias]=A),l.Update_Tag(dt,l,e,bt)}break}if(vt)continue}else{h++,w=h>T?h:T;var J=r.get(G);if(J)clearTimeout(J.timeout),I=J.element,delete I.isExit,l.svg||(I.className=""),r.delete(G);else var I=We(l,u);e[l.loop_alias]=i[A],l.loop_key_alias&&(e[l.loop_key_alias]=A),Nn(I,l,e,bt,J),A===0?t?t.after(I):Ye(u,I):a[A-1].after(I),a.splice(A,0,I),I.key=G,o[G]=!0,A++;continue}}}delete o[a[A].key],l.loop_key_alias&&(e[l.loop_key_alias]=A+v,v++),So(a[A],l,e,a[A].key,s,u),a.splice(A,1),h--,w=h>T?h:T}while(A<w);return s.length=a.length,r.size+s.length}function Ro(){return{ret_element:function(l,u,t,e){return l},children:function(l,u,t,e){e.UPDATE_Chidldren(l,u.children,t)},fn_text:function(l,u,t,e){var s=u.text(t);if(!l){console.log("NOT element.__lastText",l),console.trace();return}l.__lastText!==s&&(l.textContent=l.__lastText=s)},fn_html:function(l,u,t,e){var s=u.html(t);l.__lastHTML!==s&&(l.innerHTML=l.__lastHTML=s)},updateProps:function(l,u,t,e){u.updateProps(l,u,t,e)}}}function fs(l){var u=[],t=Ro();return l.tag==="#text"?(u.push(t.ret_element),u):(l.children?u.push(t.children):l.html?typeof l.html=="function"&&u.push(t.fn_html):l.text&&typeof l.text=="function"&&u.push(t.fn_text),l.updateProps&&(u=[...u,...l.updateProps]),u.push(t.ret_element),u)}function $o(l,u,t,e,s,n){return u.Update_Tag(l.__rendererName?l._childNodes[s]:l.childNodes[s],u,t,bt),s+1}function No(l,u,t,e,s,n){let i=u.loop(t);if(!n||n.length===0){if(!n||n.exit.size===0)return i.length?e===0?(u.enter(u,l,void 0,t,e,i,bt),s+l.__i__[e].length):(u.enter(u,l,s===0?void 0:l.__rendererName?l._childNodes[s-1]:l.childNodes[s-1],t,e,i,bt),s+l.__i__[e].length):s;if(i.length){let o=ge(u,l,e===0||s===0?void 0:l.__rendererName?l._childNodes[s]:l.childNodes[s],t,n,e,i);return s+o}else return s+n.exit.size}else if(i.length){let o=ge(u,l,e===0||s===0?void 0:l.__rendererName?l._childNodes[s-1]:l.childNodes[s-1],t,n,e,i);return s+o}else{let o=ge(u,l,e===0||s===0?void 0:l.__rendererName?l._childNodes[s]:l.childNodes[s],t,n,e,i);return s+o}}function Io(l,u,t,e,s,n){if(n===!1)if(u.if(t)){let a=We(u,l);if(u.children)ve(a,u.children,t);else if(u.text){var i=typeof u.text=="function"?u.text(t):u.text;a.__lastText!==i&&(a.textContent=a.__lastText=i)}else if(u.html){var o=typeof u.html=="function"?u.html(t):u.html;a.__lastHTML!==o&&(a.innerHTML=a.__lastHTML=o)}return u.enterProps&&u.enterProps(a,u,t,bt),s===0?Ye(l,a):l.__rendererName?l._childNodes[s-1].after(a):l.childNodes[s-1].after(a),l.__i__[e]={exit:!1},s+1}else return s;else{if(u.if(t))return n.exit?(clearTimeout(n.exit),u.enterProps&&u.enterProps(l.__rendererName?l._childNodes[s]:l.childNodes[s],u,t,bt),l.__i__[e]={exit:!1},s+1):(u.Update_Tag(l.__rendererName?l._childNodes[s]:l.childNodes[s],u,t,bt),s+1);if(n.exit)return s+1;{let a=l.__rendererName?l._childNodes:l.childNodes;return Uo(a[s],u,t,l,e)?s:s+1}}}function Bo(l,u,t,e,s,n){if(n===!1||n.length===0)if(u.if(t)){let i=u.loop(t);return i.length?e===0?(u.enter(u,l,void 0,t,e,i,bt),s+l.__i__[e].length):(u.enter(u,l,s===0?void 0:l.__rendererName?l._childNodes[s-1]:l.childNodes[s-1],t,e,i,bt),s+l.__i__[e].length):s}else return s;else if(u.if(t)){let i=u.loop(t),o=ge(u,l,e===0&&s===0?void 0:l.__rendererName||l.__rendererName?l._childNodes[s]:l.childNodes[s],t,n,e,i);return s+o}else{if(n.length===0)return s+n.exit.size;{let i=ge(u,l,e===0&&s===0?void 0:l.__rendererName?l._childNodes[s]:l.childNodes[s],t,n,e,[]);return s+i}}}function _s(l,u,t){if(!l.isExit){var e=void 0;l.Done=new Promise(n=>e=n);var s=0;u.every((n,i)=>{if(!l.__i__)return console.groupCollapsed("Not initialized element!!! "+n.tag),console.dir(l),console.log("component",u),console.log("tag",n),console.trace(),console.groupEnd(),!1;let o=l.__i__[i];return n.tag==="#text"?(s++,!0):(n.hasOwnProperty("if")?n.loop?s=Bo(l,n,t,i,s,o):s=Io(l,n,t,i,s,o):n.loop?s=No(l,n,t,i,s,o):s=$o(l,n,t,i,s,o),!0)}),e()}}function Do(l,u,t,e){var s,n;if(l.tag==="input"&&t==="value")u._attrsV[t]!==e&&(u._attrsV[t]=e,u.value!=e&&(u.value=e));else if(t==="class"){if(typeof e=="object"&&e!==null)throw"Cannot do transition on class attribute";var i=e||void 0;u._attrsV[t]!==i&&(u._attrsV[t]=i,i?l.svg?u.setAttribute(t,i):u.className=i:u.removeAttribute(t))}else if(t==="style"){if(typeof e=="object"&&e!==null)throw"Cannot do transition on style attribute";var i=e||void 0;u._attrsV[t]!==i&&(u._attrsV[t]=i,i?u.setAttribute(t,i):u.removeAttribute(t))}else(typeof e=="object"||u._attrsV[t]!==e||Array.isArray(e))&&(ps(l.tag,t)?(u._attrsV[t]=e,l.tag==="input"&&l.attrs2.type==="radio"&&t==="checked"&&!l.attrsB[t]?l.attrs2.value?l.attrs2.value==e?(u.setAttribute(t,""),u[t]=t):(u.removeAttribute(t),u[t]=""):e?(u.setAttribute(t,""),u[t]=t):(u.removeAttribute(t),u[t]=""):e?u.setAttribute(t,"")||(u[t]=t):u.removeAttribute(t)||(u[t]="")):l.tag==="textarea"&&t==="value"?u.value=e:(!l.attrs3||!l.attrs3[t])&&typeof e=="object"?e!=null&&e.skip||u._attrsV[t]!==e.to&&(u._attrsV[t]=e.to,e!=null&&e.disabled?((s=u._attrs[t])!=null&&s.cancel&&u._attrs[t].cancel(),u.setAttribute(t,e.to)):Dn(u,t,e)):u._attrsV[t]!==e&&(u._attrsV[t]=e,(n=u._attrs[t])!=null&&n.cancel&&u._attrs[t].cancel(),u.setAttribute(t,e)))}function Fo(){return{updateAttrs:function(l,u,t,e){Object.entries(u.updateAttrs(t)).forEach(([s,n])=>{e.updateAttribute(u,l,s,n)})},attrs3:function(l,u,t,e){Object.entries(u.attrs3).forEach(([s,n])=>{e.updateAttribute(u,l,s,typeof n=="function"?n(t):n)})},updateStyles:function(l,u,t,e){Object.entries(u.updateStyles(t)).forEach(([s,n])=>{var i;typeof n=="object"?l._styleV[s]!==n.to&&(n!=null&&n.skip||(l._styleV[s]=n.to,n!=null&&n.disabled?((i=l._styles[s])!=null&&i.cancel&&l._styles[s].cancel(),l.style.setProperty(s,n.to)):e.animateCSS(l,s,n))):l._styleV[s]!==n&&(l._styleV[s]=n,l.style.setProperty(s,n))})},style:function(l,u,t,e){Object.entries(u.style(t)).forEach(([s,n])=>{l._styleV[s]!==n&&(l._styleV[s]=n,l.style.setProperty(s,n))})},events:function(l,u,t,e){l.__datum={...t}}}}function ds(l){let u=[],t=Fo();return l.updateAttrs&&u.push(t.updateAttrs),l.attrs3&&u.push(t.attrs3),l.style&&u.push(t.style),l.updateStyles&&u.push(t.updateStyles),l.events&&u.push(t.events),u}var zo=(...l)=>l.filter(u=>typeof u=="function").reduce((u,t)=>u===null?t:function(...e){u.apply(this,e),t.apply(this,e)},null),Vo={createElement:We,insertElement:jo,prependElement:Ye,Enter_Children:ve,UPDATE_Chidldren:_s,Update_Tag:fs,animateAttr:Dn,animateCSS:us,enterProps:hs,enterAttribute:Go,updateProps:ds,updateAttribute:Do},bt=Vo;function Go(l,u,t,e){var s;if(t==="class"){var n=e||void 0;u._attrsV[t]=n,n&&(l.svg?u.setAttribute(t,n):u.className=n)}else if(t==="style"){var n=e||void 0;u._attrsV[t]=n,n&&u.setAttribute(t,n)}else t==="id"?(u._attrsV[t]=e,u.id=e,u.setAttribute(t,e)):ps(l.tag,t)?l.tag==="input"&&l.attrs2.type==="radio"&&t==="checked"&&!l.attrsB[t]?l.attrs2.value?l.attrs2.value==e&&(u.setAttribute(t,""),u._attrsV[t]=e&&!0):e&&(u.setAttribute(t,""),u._attrsV[t]=e&&!0):(u._attrsV[t]=e&&!0,e&&u.setAttribute(t,"")):l.tag==="textarea"&&t==="value"?(u._attrsV[t]=e,u.innerHTML=e):((s=u._attrs[t])!=null&&s.cancel&&u._attrs[t].cancel(),u._attrsV[t]=e,u.setAttribute(t,e))}function Wo(){return{enterAttrs:function(l,u,t,e){Object.entries(u.enterAttrs(t)).forEach(([s,n])=>{var i;if(Array.isArray(n))throw"not implemented";typeof n=="object"?(l._attrsV[s]=n,e.animateAttr(l,s,n)):((i=l._attrs[s])!=null&&i.cancel&&l._attrs[s].cancel(),e.enterAttribute(u,l,s,n))})},attrs:function(l,u,t,e){var s=u.attrs?u.attrs(t):{};u.attrs2&&Object.entries(u.attrs2).forEach(([n,i])=>{s[n]=typeof i=="function"?i(t):i}),Object.entries(s).forEach(([n,i])=>{e.enterAttribute(u,l,n,i)})},enterStyles:function(l,u,t,e){Object.entries(u.enterStyles(t)).forEach(([s,n])=>{var i;if(Array.isArray(n))throw"not implemented";typeof n=="object"?(l._styleV[s]=n.to,e.animateCSS(l,s,n)):(l._styleV[s]=n,(i=l._styles[s])!=null&&i.cancel&&l._styles[s].cancel(),l.style.setProperty(s,n))})},style:function(l,u,t,e){Object.entries(u.style(t)).forEach(([s,n])=>{l._styleV[s]=n,l.style.setProperty(s,n)})},events:function(l,u,t,e){l.__datum={...t},Object.entries(u.events).forEach(([s,n])=>{l._events[s]=i=>n(i,l.__datum,l),l.addEventListener(s,l._events[s])})}}}function hs(l){let u=[],t=Wo();return l.enterAttrs&&u.push(t.enterAttrs),(l.attrs||l.attrs2)&&u.push(t.attrs),l.style&&u.push(t.style),l.enterStyles&&u.push(t.enterStyles),l.events&&u.push(t.events),u}function Yo(l){return(u,t,e,s,n,i,o)=>{var a={},r=new Map,h=[],T=e;return i.forEach((w,R)=>{var A=o.createElement(u,t);A.key=u.key(w,R),a[A.key]=!0,h.push(A),s[u.loop_alias]=w,u.loop_key_alias&&(s[u.loop_key_alias]=R),u.enterProps&&u.enterProps(A,u,s,o),u.children?o.Enter_Children(A,u.children,s):(u.text&&(typeof u.text=="function"?A.textContent=A.__lastText=u.text(s):A.textContent=A.__lastText=u.text),u.html&&(typeof u.html=="function"?A.innerHTML=A.__lastHTML=u.html(s):A.innerHTML=A.__lastHTML=u.html)),R===0&&!T?o.prependElement(t,A):T.after(A),T=A}),t.__i__[n]={length:i.length,exit:r,elements:h,keys:a},T}}function qo(l,u,t,e){l.__i__={},u.forEach((s,n)=>{if(s.if&&!s.if(t)){l.__i__[n]=!1;return}if(s.loop){if(s.loop(t).length)throw 123;l.__i__[n]=!1;return}else{let i=l.__rendererName?l._childNodes:l.children;Nn(i[n],s,t,e,!0);return}})}function Nn(l,u,t,e,s){return u.enterProps&&u.enterProps(l,u,t,e),u.children?s?qo(l,u.children,t,e):ve(l,u.children,t):(u.text&&(typeof u.text=="function"?l.textContent=l.__lastText=u.text(t):l.textContent=l.__lastText=u.text),u.html&&(typeof u.html=="function"?l.innerHTML=l.__lastHTML=u.html(t):l.innerHTML=l.__lastHTML=u.html)),l}function Qo(l,u,t,e,s){return l.element=document.createTextNode(l.content),t?t.after(l.element):u.prepend(l.element),u.__i__[s]={exit:!1},l.element}function Jo(l){return(u,t,e,s,n,i,o)=>{var a=o.createElement(u,t);return u.enterProps&&u.enterProps(a,u,s,o),u.text&&(typeof u.text=="function"?a.textContent=a.__lastText=u.text(s):a.textContent=a.__lastText=u.text),u.html&&(typeof u.html=="function"?a.innerHTML=a.__lastHTML=u.html(s):a.innerHTML=a.__lastHTML=u.html),o.insertElement(t,a,e),t.__i__[n]={exit:!1},a}}function Zo(l){return(u,t,e,s,n,i,o)=>{var a=o.createElement(u,t);return u.enterProps&&u.enterProps(a,u,s,o),o.insertElement(t,a,e),o.Enter_Children(a,u.children,s),t.__i__[n]={exit:!1},a}}function ve(l,u,t){l.__i__={};var e;u.forEach((s,n)=>{if(s.if&&!s.if(t)){l.__i__[n]=!1;return}if(s.loop){let i=s.loop(t);if(i.length){e=s.enter(s,l,e,t,n,i,bt);return}else{l.__i__[n]=!1;return}}else{e=s.enter(s,l,e,t,n,void 0,bt);return}})}function Ko(l){if(l.tag==="#text"){l.enter=Qo;return}l.enterProps=hs(l),l.updateProps=ds(l),l.Update_Tag=fs(l),l.loop?l.enter=Yo(l):l.enter=l.children?Zo(l):Jo(l)}var Xo=Object.getPrototypeOf(async function(){}).constructor,Sn=Xo,tl=["svg","g","path","polygon","rect","circle","line","clipPath","cursor","defs","desc","ellipse","filter","font","glyph","image","text","textPath","animate","animateMotion","animateTransform"],ze=(l,u)=>new Function("return ({ ".concat(l.context.join(",")," }) => ").concat(l[u]))(),el=(l,u)=>new Function("return ({ ".concat(l.context.join(",")," }) => ({").concat(l[u],"})"))(),Ve=(l,u,t)=>new Function("return (event, { ".concat(l.context.join(",")," }, element) => {setTimeout(()=>this.render(),0);").concat(u," = event.target.").concat(t,"} "))(),nl=(l,u)=>new Function("return async (event, { ".concat(l.context.join(",")," }, element) => ").concat(u))(),rl=(l,u)=>new Function("return ({ ".concat(l.context.join(",")," }) => ").concat(u.value+(u.args||"")))();function ys(l,u,t){return l.forEach((e,s)=>{tl.includes(e.tag)&&(e.svg=!0),e.context=[...u],e.loop_alias&&(e.loop=ze(e,"loop_fn"),e.context.push(e.loop_alias),e.loop_key_alias&&e.context.push(e.loop_key_alias)),e.textFn&&(e.text=ze(e,"textFn"),delete e.textFn),e.htmlFn&&(e.html=ze(e,"htmlFn"),delete e.htmlFn),e.if&&(e.if=ze(e,"if")),["style","attrs","enterStyles","updateStyles","exitStyles","enterAttrs","updateAttrs","exitAttrs"].forEach(n=>{e[n]&&(e[n]=el(e,n))}),e.events&&Object.entries(e.events).forEach(([n,i])=>{typeof i=="string"&&(e.events[n]=nl(e,i))}),e.attrsR&&Object.keys(e.attrsR).length&&Object.entries(e.attrsR).forEach(([n,i])=>{if(e.events||(e.events={}),e.events.input)throw"@input and reactive attr at the same time";e.tag==="input"?n==="value"?e.events.input=Ve(e,i,"value"):n==="checked"&&(e.attrs2.type==="checkbox"?e.events.input=Ve(e,i,"checked"):e.attrs2.type==="radio"&&(e.events.input=Ve(e,i,"value"))):e.tag==="textarea"&&n==="value"&&(e.events.input=Ve(e,i,"value"))}),e.attrs2&&(Object.keys(e.attrs2).length&&(e.attrs3={}),Object.entries(e.attrs2).forEach(([n,i])=>{typeof i=="object"&&i.type==="jsAttribute"&&(e.attrs3[n]=e.attrs2[n]=rl(e,i))}),Object.keys(e.attrs3).length||delete e.attrs3),Ko(e),e.children&&ys(e.children,e.context,t)}),l}function sl(l){return l.filter(u=>{if(u.nodeType==="bracket"){let t=u.innerContent.split(" ").join("");if(["","/","@","@/","/@"].includes(t))throw"Empty tag <".concat(t,">")}return!(u.nodeType==="text"&&!u.content.trim().length)})}function al(l=""){return sl(Bn(l,{skip:!0,pairs:["<>","{}","()","[]"]}))}function il(l,u=[],t=!1){return ys(Oo(Ao(al(l)),u),["state"],t)}var ol="static|template|state|class|style|walt";function ll(l){return l.split(/\r\n|\n|\r/)}function ul(l,u){let t=l.match(new RegExp("^\\s*<!(".concat(u,")>\\s*$"),"i"));return t?t[1]:null}function pl(l,u){let t=l.match(new RegExp("^\\s*<!".concat(u,"\\s+([^>]*)>\\s*$"),"i"));return t?t[1]:null}async function cl(l){let u=ll(l),t={};var e=void 0,s=0;for(let n=0;n<u.length;n++){let i=u[n];if(!i.trim().length)continue;let o=ul(i,ol);if(!(!o&&["css","import","tag","renderer"].some(a=>{let r=pl(i,a);if(r)return e=a,t[e]||(t[e]=[]),t[a].push(e==="tag"?{value:r,line:n}:r),!0}))){if(!e&&!o){e="template",s=n,t.template="",t.template+="\n"+i;continue}if(o){if(e=o,!t[o])t[o]="";else throw"duplicate <!".concat(o,"> block at line ").concat(n);continue}else{if(["css","import","tag","renderer"].includes(e))if(!t.template)e="template",s=n,t.template="";else{if(i.trim().startsWith("//"))continue;throw'unexpected "'.concat(i.trim(),'" at line ').concat(n,". Template started at line ").concat(s)}t[e]+="\n"+i;continue}}}return t}function Zt(l){return['"',"'","`"].includes(l[0])&&l[0]==l[l.length-1]?l.substring(1,l.length-1).trim():l.trim()}function ml(l){let u={},t=Te(l.value," ",!0).map(Zt);if(t.length>2)throw"excess arguments <!tag ".concat(l.value,"> at line ").concat(l.line);if(t.some(e=>!e))throw"empty argument <!tag ".concat(l.value,"> at line ").concat(l.line);if(t.length===1){if(t[0][0]==="@")throw"alias is present but path is not <!tag ".concat(l.value,"> at line ").concat(l.line);u.alias="@"+t[0].split("\\").pop().split("/").pop(),u.path=t[0]}else{if(t[0][0]!=="@")throw'missing alias identifier "@" <!tag '.concat(l.value,"> at line ").concat(l.line);u.alias=t[0],u.path=t[1]}return u}function fl(l){if(Te(l," ",!0).length>1)throw"excess parameters <!import ".concat(l,">");return Zt(l)}function _l(l){let u=Te(l," ",!0);if(u.length>2)throw"excess parameters <!renderer ".concat(l,">");if(u.length==2&&u[1]!=="html")throw"unknown second parameter <!renderer ".concat(l,">");return Zt(l)}function Ge(l){try{Function("var "+l)}catch(u){return!1}return!0}function dl(l){let u=Te(l," ",!0);if(u.length<3)throw"not enough parameters <!import ".concat(l,">");if(u.length===3){if(u[1].toLowerCase()!=="from")throw"wrong parameters <!import ".concat(l,">");if(u[0].startsWith("{")&&u[0].endsWith("}")){let e=u[0].substring(1,u[0].length-1);if(!e.length)throw"wrong parameters <!import ".concat(l,">");if(!e.split(",").map(s=>s.trim()).every(Ge))throw"invalid variable name <!import ".concat(l,">");return{type:"object",import:u[0],path:Zt(u[2])}}else{if(!Ge(u[0]))throw"invalid variable name <!import ".concat(l,">");return{type:"var",import:u[0],path:Zt(u[2])}}}else{try{var t=Bn(l,{pairs:["{}"]})}catch(e){throw"invalid variable name <!import ".concat(l,">")}if(t.length>2)throw"wrong parameters <!import ".concat(l,">");if(t.length===1){if(t[0].nodeType==="bracket")throw"wrong parameters <!import ".concat(l,">");if(u[0]==="*"&&u[1].toLowerCase()==="as"&&u[3].toLowerCase()==="from"&&u.length===5){if(!Ge(u[2]))throw"invalid variable name <!import ".concat(l,">");return{type:"*",import:u[2],path:Zt(u[4])}}else throw"wrong parameters <!import ".concat(l,">")}else{let e=Te(t[1].content," ",!0);if(e.length!==2||e[0].toLowerCase()!=="from"||!t[0].innerContent.trim().length)throw"wrong parameters <!import ".concat(l,">");let s=t[0].innerContent.split(",").map(n=>n.trim());if(!s.every(Ge))throw"invalid variable name <!import ".concat(l,">");return{type:"object",import:"{"+s.join(",")+"}",path:Zt(e[1])}}}}async function hl(l){let u=await cl(l);return u.tag&&(u.tag=u.tag.map(ml)),u.css&&(u.css=u.css.map(fl)),u.import&&(u.import=u.import.map(dl)),u.renderer&&(u.renderer=u.renderer.map(_l)),u}function yl(l){return["Update_Tag","enterProps","updateProps"].forEach(u=>{Array.isArray(l[u])&&(l[u].length?l[u]=zo(...l[u]):delete l[u])}),l}function xs(l){l.forEach((u,t)=>{l[t]=yl(u),u.children&&xs(u.children)})}var xl=class{constructor({stiffness:l=300,damping:u=70,mass:t=10,delta:e=.01,target:s,current:n,callback:i,done:o}={}){this.stiffness=l,this.damping=u,this.delta=e,this.mass=t,this.callback=i,this.done=o,this.target=s||0,this.current=n||0,this.running=!1,this.velocity=0,this.acceleration=0,this.step()}set(l,u=!1){this.target=l,u?this.current=l:this.running||this.step()}stop(){cancelAnimationFrame(this.rafId),this.done&&this.done(this.current)}start(){this.step()}step(){if(this.isAtTarget())this.current=this.target,this.running=!1,this.done&&this.done(this.current);else{let l=this.lastFrameTime?Math.min(Math.max((Date.now()-this.lastFrameTime)/1e3,.008333333333333333),.03333333333333333):.016666666666666666;this.running=!0,this.advance(l),this.lastFrameTime=Date.now(),this.rafId=requestAnimationFrame(()=>this.step())}this.callback&&this.callback(this.current)}advance(l){let u=-this.stiffness*(this.current-this.target),t=-this.damping*this.velocity;this.acceleration=(u+t)/this.mass,this.velocity+=this.acceleration*l,this.current+=this.velocity*l}isAtTarget(){return Math.abs(this.target-this.current)<this.delta&&Math.abs(this.velocity)<=this.delta}},Yr,qr,Qr,Jr,Zr,Kr,Xr,ts,es,ns,rs,ss,as,is,os,ls,gl=function(l){"use strict";var u=e,t=Object.prototype.hasOwnProperty;function e(){for(var m={},p=0;p<arguments.length;p++){var c=arguments[p];for(var f in c)t.call(c,f)&&(m[f]=c[f])}return m}let s=m=>m;function n(m){function p(c){if(!Array.isArray(c))throw new Error("Transform must be used on an Array. Received "+JSON.stringify(c));let f=(()=>{let[g]=c;return g.Type in m&&typeof m[g.Type]=="function"?m[g.Type]:s})();if(f.length===2)return f(c,p);let[_,...d]=f(c),x=_.params.filter(Boolean).map(g=>p([g,...d]));return u(_,{params:x})}return p}function i(m){let p=c=>{if(c==null)return c;let f="*"in m&&typeof m["*"]=="function"?m["*"]:c.Type in m&&typeof m[c.Type]=="function"?m[c.Type]:s;if(f.length===2)return f(c,p);let _=f(c),d=_.params.map(p);return u(_,{params:d})};return p}var o={map:n,mapNode:i},a=o,r=a.map,h=a.mapNode,T=function(m){let p=c=>{if(c==null)return c;let{params:f}=c,_="*"in m&&typeof m["*"]=="function"?m["*"]:c.Type in m&&typeof m[c.Type]=="function"?m[c.Type]:()=>c;return _.length===2?(_(c,p),c):(_(c),f.forEach(p),c)};return p},w=T,R=function(m,p,c,f,_,d,x,g){if(p===void 0)throw new Error("invariant requires an error message argument");if(!m){var y;if(p===void 0)y=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var L=[c,f,_,d,x,g],E=0;y=new Error(p.replace(/%s/g,function(){return L[E++]})),y.name="Invariant Violation"}throw y.framesToPop=1,y}},A=R,v=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G(m){return m&&m.__esModule?m.default:m}function J(m,p){return p={exports:{}},m(p,p.exports),p.exports}var I=J(function(m,p){(function(c,f){f(p)})(v,function(c){let f={whitespace:/[ \t]+/,comment:[{match:/\/\/.*?$/},{match:/\/\*[^]*?\*\//,lineBreaks:!0}],number:[{match:/0[xX][0-9a-fA-F]+/},{match:/0[oO][0-9]+/},{match:/0[bB][01]+/},{match:/(?:[0-9]+(?:\.[0-9]+)?e-?[0-9]+)/},{match:/[0-9]+\.[0-9]+|[0-9]+/}],char:[{match:/'(?:\\['\\bfnrtv0]|[^'\\\n])'/,value:Jt=>Jt.slice(1,-1)}],string:[{match:/"(?:\\["\\rn]|[^"\\\n])*?"/,value:Jt=>Jt.slice(1,-1)},{match:/'(?:\\['\\bfnrtv0]|[^'\\\n])*?'/,value:Jt=>Jt.slice(1,-1)},{match:/`(?:\\['\\bfnrtv0]|[^'\\])*?`/,value:Jt=>Jt.slice(1,-1)}],identifier:{match:/[A-Za-z_$][A-Za-z0-9_$]*/,keywords:{keyword:["break","if","else","import","as","from","export","return","switch","case","default","const","let","for","continue","do","while","throw","function","global","module","type","lambda"],type:["i32","i64","f32","f64","bool"]}},punctuator:["+","++","-","--",">>",">>>","<<","=","==","+=","-=","=>","<=",">=","!=","%","*","/","^","&","~","|","!","**",":","(",")",".","{","}",",","[","]",";",">","<","?","||","&&","{","}","..."],newline:{match:/(?:\r\n|\r|\n)/,lineBreaks:!0}},_="Program",d="Keyword",x="Export",g="Import",y="Statement",L="IfThenElse",E="Select",P="Else",j="UnaryExpression",U="BinaryExpression",N="TernaryExpression",z="NumberLiteral",W="StringLiteral",nt="CharacterLiteral",et="Punctuator",Wt="Identifier",ft="ArraySubscript",k="Constant",F="Type",V="ArrayType",q="DeclType",Q="GenericType",Z="UserType",tt="FunctionType",rt="Declaration",st="StaticDeclaration",ot="StaticValueList",Pt="ImmutableDeclaration",Lt="FunctionDeclaration",yt="ArrayDeclaration",le="IndirectFunctionCall",he="FunctionCall",Qt="Loop",ye="MemoryAssignment",lt="Assignment",gr="AssignmentExpression",Tr="Param",hn="Typedef",yn="Struct",xn="UnionType",gn="ReturnStatement",Tn="Sequence",bn="ObjectLiteral",vn="Pair",br="TypeCast",En="Break",Pn="Comment",Ln="Sizeof",wn="Spread",vr="Closure",An="Noop",Er="ClosureType",Mn="Block",Pr="ObjectField",Lr="FunctionIndex",wr="FunctionIdentifier",Ar="FunctionPointer",Mr="FunctionArguments",Cr="FunctionResult",Or="FunctionLocals",Hr="NativeMethod",Cn="Unreachable",jr="Access",kr="i32",Sr="f32",Ur="i64",Rr="f64",$r="Memory",Nr="Table",Ir="bool";c.Program=_,c.Keyword=d,c.Export=x,c.Import=g,c.Statement=y,c.IfThenElse=L,c.Select=E,c.Else=P,c.UnaryExpression=j,c.BinaryExpression=U,c.TernaryExpression=N,c.NumberLiteral=z,c.StringLiteral=W,c.CharacterLiteral=nt,c.Punctuator=et,c.Identifier=Wt,c.ArraySubscript=ft,c.Constant=k,c.Type=F,c.ArrayType=V,c.DeclType=q,c.GenericType=Q,c.UserType=Z,c.FunctionType=tt,c.Declaration=rt,c.StaticDeclaration=st,c.StaticValueList=ot,c.ImmutableDeclaration=Pt,c.FunctionDeclaration=Lt,c.ArrayDeclaration=yt,c.IndirectFunctionCall=le,c.FunctionCall=he,c.Loop=Qt,c.MemoryAssignment=ye,c.Assignment=lt,c.AssignmentExpression=gr,c.Param=Tr,c.Typedef=hn,c.Struct=yn,c.UnionType=xn,c.ReturnStatement=gn,c.Sequence=Tn,c.ObjectLiteral=bn,c.Pair=vn,c.TypeCast=br,c.Break=En,c.Comment=Pn,c.Sizeof=Ln,c.Spread=wn,c.Closure=vr,c.Noop=An,c.ClosureType=Er,c.Block=Mn,c.ObjectField=Pr,c.FunctionIndex=Lr,c.FunctionIdentifier=wr,c.FunctionPointer=Ar,c.FunctionArguments=Mr,c.FunctionResult=Cr,c.FunctionLocals=Or,c.NativeMethod=Hr,c.Unreachable=Cn,c.Access=jr,c.i32=kr,c.f32=Sr,c.i64=Ur,c.f64=Rr,c.Memory=$r,c.Table=Nr,c.bool=Ir,c.builtinTypes={i32:kr,f32:Sr,i64:Ur,f64:Rr,Memory:$r,Table:Nr,bool:Ir},c.statements={Program:_,Export:x,Import:g,IfThenElse:L,Else:P,Declaration:rt,ImmutableDeclaration:Pt,FunctionDeclaration:Lt,ArrayDeclaration:yt,Loop:Qt,MemoryAssignment:ye,Assignment:lt,Typedef:hn,Struct:yn,UnionType:xn,ReturnStatement:gn,Sequence:Tn,ObjectLiteral:bn,Pair:vn,Break:En,Comment:Pn,Sizeof:Ln,Spread:wn,Noop:An,Block:Mn,Unreachable:Cn},c.default={Program:_,Keyword:d,Export:x,Import:g,Statement:y,IfThenElse:L,Select:E,Else:P,UnaryExpression:j,BinaryExpression:U,TernaryExpression:N,NumberLiteral:z,StringLiteral:W,CharacterLiteral:nt,Punctuator:et,Identifier:Wt,ArraySubscript:ft,Constant:k,Type:F,ArrayType:V,DeclType:q,GenericType:Q,UserType:Z,FunctionType:tt,Declaration:rt,ImmutableDeclaration:Pt,FunctionDeclaration:Lt,ArrayDeclaration:yt,StaticDeclaration:st,StaticValueList:ot,IndirectFunctionCall:le,FunctionCall:he,Loop:Qt,MemoryAssignment:ye,Assignment:lt,AssignmentExpression:gr,Param:Tr,Typedef:hn,Struct:yn,UnionType:xn,ReturnStatement:gn,Sequence:Tn,ObjectLiteral:bn,Pair:vn,TypeCast:br,Break:En,Comment:Pn,Sizeof:Ln,Spread:wn,Closure:vr,Access:jr,Noop:An,ClosureType:Er,Block:Mn,ObjectField:Pr,FunctionIndex:Lr,FunctionIdentifier:wr,FunctionPointer:Ar,FunctionArguments:Mr,FunctionResult:Cr,FunctionLocals:Or,NativeMethod:Hr,Unreachable:Cn},c.tokens=f,Object.defineProperty(c,"__esModule",{value:!0})})}),b=G(I),ct=I.tokens,gt=I.semantics,wt=I.builtinTypes,_t=I.statements,dt=I.i32,Tt=I.f32,vt=I.i64,Kt=I.f64,Ut=J(function(m){(function(p,c){m.exports?m.exports=c():p.moo=c()})(v,function(){var p=Object.prototype.hasOwnProperty,c=typeof Object.assign=="function"?Object.assign:function(k,F){if(k==null)throw new TypeError("Target cannot be null or undefined");k=Object(k);for(var V=1;V<arguments.length;V++){var q=arguments[V];if(q!=null)for(var Q in q)p.call(q,Q)&&(k[Q]=q[Q])}return k},f=typeof new RegExp().sticky=="boolean";function _(k){return k&&k.constructor===RegExp}function d(k){return k&&typeof k=="object"&&k.constructor!==RegExp&&!Array.isArray(k)}function x(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function g(k){var F=new RegExp("|"+k);return F.exec("").length-1}function y(k){return"("+k+")"}function L(k){var F=k.map(function(V){return"(?:"+V+")"}).join("|");return"(?:"+F+")"}function E(k){if(typeof k=="string")return"(?:"+x(k)+")";if(_(k)){if(k.ignoreCase)throw new Error("RegExp /i flag not allowed");if(k.global)throw new Error("RegExp /g flag is implied");if(k.sticky)throw new Error("RegExp /y flag is implied");if(k.multiline)throw new Error("RegExp /m flag is implied");return k.source}else throw new Error("not a pattern: "+k)}function P(k){for(var F=Object.getOwnPropertyNames(k),V=[],q=0;q<F.length;q++){var Q=F[q],Z=k[Q],tt=Array.isArray(Z)?Z:[Z],rt=[];tt.forEach(function(st){d(st)?(rt.length&&V.push(U(Q,rt)),V.push(U(Q,st)),rt=[]):rt.push(st)}),rt.length&&V.push(U(Q,rt))}return V}function j(k){for(var F=[],V=0;V<k.length;V++){var q=k[V];if(!q.name)throw new Error("Rule has no name: "+JSON.stringify(q));F.push(U(q.name,q))}return F}function U(k,F){(typeof F!="object"||Array.isArray(F)||_(F))&&(F={match:F});var V=c({tokenType:k,lineBreaks:!!F.error,pop:!1,next:null,push:null,error:!1,value:null,getType:null},F),q=V.match;return V.match=Array.isArray(q)?q:q?[q]:[],V.match.sort(function(Q,Z){return _(Q)&&_(Z)?0:_(Z)?-1:_(Q)?1:Z.length-Q.length}),V.keywords&&(V.getType=nt(V.keywords)),V}function N(k,F){k=Array.isArray(k)?j(k):P(k);for(var V=null,q=[],Q=[],Z=0;Z<k.length;Z++){var tt=k[Z];if(tt.error){if(V)throw new Error("Multiple error rules not allowed: (for token '"+tt.tokenType+"')");V=tt}if(tt.match.length!==0){q.push(tt);var rt=L(tt.match.map(E)),st=new RegExp(rt);if(st.test(""))throw new Error("RegExp matches empty string: "+st);var ot=g(rt);if(ot>0)throw new Error("RegExp has capture groups: "+st+"\nUse (?: \u2026 ) instead");if(!F&&(tt.pop||tt.push||tt.next))throw new Error("State-switching options are not allowed in stateless lexers (for token '"+tt.tokenType+"')");if(!tt.lineBreaks&&st.test("\n"))throw new Error("Rule should declare lineBreaks: "+st);Q.push(y(rt))}}var Pt=f?"":"|(?:)",Lt=f?"ym":"gm",yt=new RegExp(L(Q)+Pt,Lt);return{regexp:yt,groups:q,error:V}}function z(k){var F=N(k);return new et({start:F},"start")}function W(k,F){var V=Object.getOwnPropertyNames(k);F||(F=V[0]);for(var q=Object.create(null),Q=0;Q<V.length;Q++){var Z=V[Q];q[Z]=N(k[Z],!0)}for(var Q=0;Q<V.length;Q++)for(var tt=q[V[Q]].groups,rt=0;rt<tt.length;rt++){var st=tt[rt],ot=st&&(st.push||st.next);if(ot&&!q[ot])throw new Error("Missing state '"+ot+"' (in token '"+st.tokenType+"' of state '"+V[Q]+"')");if(st&&st.pop&&+st.pop!=1)throw new Error("pop must be 1 (in token '"+st.tokenType+"' of state '"+V[Q]+"')")}return new et(q,F)}function nt(k){for(var F=Object.create(null),V=Object.create(null),q=Object.getOwnPropertyNames(k),Q=0;Q<q.length;Q++){var Z=q[Q],tt=k[Z],rt=Array.isArray(tt)?tt:[tt];rt.forEach(function(yt){if((V[yt.length]=V[yt.length]||[]).push(yt),typeof yt!="string")throw new Error("keyword must be string (in keyword '"+Z+"')");F[yt]=Z})}function st(yt){return JSON.stringify(yt)}var ot="";ot+="(function(value) {\n",ot+="switch (value.length) {\n";for(var Pt in V){var Lt=V[Pt];ot+="case "+Pt+":\n",ot+="switch (value) {\n",Lt.forEach(function(yt){var le=F[yt];ot+="case "+st(yt)+": return "+st(le)+"\n"}),ot+="}\n"}return ot+="}\n",ot+="})",(0,eval)(ot)}var et=function(k,F){this.startState=F,this.states=k,this.buffer="",this.stack=[],this.reset()};et.prototype.reset=function(k,F){return this.buffer=k||"",this.index=0,this.line=F?F.line:1,this.col=F?F.col:1,this.setState(F?F.state:this.startState),this},et.prototype.save=function(){return{line:this.line,col:this.col,state:this.state}},et.prototype.setState=function(k){if(!(!k||this.state===k)){this.state=k;var F=this.states[k];this.groups=F.groups,this.error=F.error||{lineBreaks:!0,shouldThrow:!0},this.re=F.regexp}},et.prototype.popState=function(){this.setState(this.stack.pop())},et.prototype.pushState=function(k){this.stack.push(this.state),this.setState(k)},et.prototype._eat=f?function(k){return k.exec(this.buffer)}:function(k){var F=k.exec(this.buffer);return F[0].length===0?null:F},et.prototype._getGroup=function(k){if(k===null)return-1;for(var F=this.groups.length,V=0;V<F;V++)if(k[V+1]!==void 0)return V;throw new Error("oops")};function Wt(){return this.value}if(et.prototype.next=function(){var k=this.re,F=this.buffer,V=k.lastIndex=this.index;if(V!==F.length){var q=this._eat(k),Q=this._getGroup(q),Z,tt;Q===-1?(Z=this.error,tt=F.slice(V)):(tt=q[0],Z=this.groups[Q]);var rt=0;if(Z.lineBreaks){var st=/\n/g,ot=1;if(tt==="\n")rt=1;else for(;st.exec(tt);)rt++,ot=st.lastIndex}var Pt={type:Z.getType&&Z.getType(tt)||Z.tokenType,value:Z.value?Z.value(tt):tt,text:tt,toString:Wt,offset:V,lineBreaks:rt,line:this.line,col:this.col},Lt=tt.length;if(this.index+=Lt,this.line+=rt,rt!==0?this.col=Lt-ot+1:this.col+=Lt,Z.shouldThrow)throw new Error(this.formatError(Pt,"invalid syntax"));return Z.pop?this.popState():Z.push?this.pushState(Z.push):Z.next&&this.setState(Z.next),Pt}},typeof Symbol<"u"&&Symbol.iterator){var ft=function(k){this.lexer=k};ft.prototype.next=function(){var k=this.lexer.next();return{value:k,done:!k}},ft.prototype[Symbol.iterator]=function(){return this},et.prototype[Symbol.iterator]=function(){return new ft(this)}}return et.prototype.formatError=function(k,F){var V=k.value,q=k.offset,Q=k.lineBreaks?V.indexOf("\n"):V.length,Z=Math.max(0,q-k.col+1),tt=this.buffer.substring(Z,q+Q);return F+=" at line "+k.line+" col "+k.col+":\n\n",F+="  "+tt+"\n",F+="  "+Array(k.col).join(" ")+"^",F},et.prototype.clone=function(){return new et(this.states,this.state)},et.prototype.has=function(k){for(var F in this.states)for(var V=this.states[F].groups,q=0;q<V.length;q++){var Q=V[q];if(Q.tokenType===k||Q.keywords&&p.call(Q.keywords,k))return!0}return!1},{compile:z,states:W,error:Object.freeze({error:!0})}})}),Ht=Array.prototype.slice,Ls=function(m){return Ht.call(m)},ws=function(m){return Ht.call(m,1)},Je=function(m,p,c){var f=c-p.length;switch(f){case 0:return function(){return kt(m,jt(p,arguments),c)};case 1:return function(_){return kt(m,jt(p,arguments),c)};case 2:return function(_,d){return kt(m,jt(p,arguments),c)};case 3:return function(_,d,x){return kt(m,jt(p,arguments),c)};case 4:return function(_,d,x,g){return kt(m,jt(p,arguments),c)};case 5:return function(_,d,x,g,y){return kt(m,jt(p,arguments),c)};case 6:return function(_,d,x,g,y,L){return kt(m,jt(p,arguments),c)};case 7:return function(_,d,x,g,y,L,E){return kt(m,jt(p,arguments),c)};case 8:return function(_,d,x,g,y,L,E,P){return kt(m,jt(p,arguments),c)};case 9:return function(_,d,x,g,y,L,E,P,j){return kt(m,jt(p,arguments),c)};case 10:return function(_,d,x,g,y,L,E,P,j,U){return kt(m,jt(p,arguments),c)};default:return As(m,p,f)}},jt=function(m,p){return m.concat(Ls(p))},As=function(m,p,c){var f=Ms(c),_="false||function("+f+"){ return processInvocation(fn, concatArgs(args, arguments)); }";return(0,eval)(_)},Ms=function(m){for(var p=[],c=0;c<m;c+=1)p.push("a"+c.toString());return p.join(",")},Cs=function(m,p){return m.length>p?m.slice(0,p):m},kt=function(m,p,c){return p=Cs(p,c),p.length===c?m.apply(null,p):Je(m,p,c)},Ft=function(m){return Je(m,[],m.length)};Ft.to=Ft(function(m,p){return Je(p,[],m)}),Ft.adaptTo=Ft(function(m,p){return Ft.to(m,function(c){var f=ws(arguments).concat(c);return p.apply(this,f)})}),Ft.adapt=function(m){return Ft.adaptTo(m.length,m)};var Pe=Ft;function B(m){return m[0]}function Os(){let m=this.lexer,p=this.Syntax,{extendNode:c,drop:f,nth:_,nuller:d,nonEmpty:x,add:g,flatten:y,compose:L}=this.helpers,{node:E,binary:P,constant:j,identifier:U,statement:N,unary:z,ternary:W,subscript:nt,access:et,fun:Wt,declaration:ft,call:k,struct:F,result:V,string:q,char:Q,typedef:Z,voidFun:tt,type:rt,arrayType:st,assignment:ot,forLoop:Pt,whileLoop:Lt,typeGeneric:yt,spread:le,builtinDecl:he,assignmentExpr:Qt,addressOf:ye}=this.nodes(m);return{Lexer:m,ParserRules:[{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","wschar"],postprocess:function(lt){return lt[0].concat([lt[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(lt){return null}},{name:"__$ebnf$1",symbols:["wschar"]},{name:"__$ebnf$1",symbols:["__$ebnf$1","wschar"],postprocess:function(lt){return lt[0].concat([lt[1]])}},{name:"__",symbols:["__$ebnf$1"],postprocess:function(lt){return null}},{name:"wschar",symbols:[/[ \t\n\v\f]/],postprocess:B},{name:"Struct",symbols:["TYPE","__","Identifier","_","EQUALS","_","Union","SEPARATOR"],postprocess:F},{name:"Struct",symbols:["TYPE","__","Identifier","_","EQUALS","_","NativeType","SEPARATOR"],postprocess:F},{name:"Union",symbols:["StructDefinition"],postprocess:B},{name:"Union",symbols:["StructDefinition","_","OR","_","Union"],postprocess:E(p.UnionType)},{name:"StructDefinition",symbols:["ArrayType"],postprocess:B},{name:"StructDefinition",symbols:["Identifier"],postprocess:B},{name:"StructDefinition",symbols:["LCB","_","StructBody","_","RCB"],postprocess:L(E(p.ObjectLiteral),y)},{name:"StructBody",symbols:["StructNameAndType"],postprocess:B},{name:"StructBody",symbols:["StructNameAndType","_","COMMA","_","StructBody"],postprocess:y},{name:"StructNameAndType",symbols:["Identifier","_","COLON","_","Type"],postprocess:E(p.Pair)},{name:"StructNameAndType",symbols:["AddressOf","_","COLON","_","Type"],postprocess:E(p.Pair)},{name:"AddressOf",symbols:["AND","Identifier"],postprocess:ye},{name:"TypeDef",symbols:["TYPE","__","Identifier","_","EQUALS","_","TypeDefinition","_","FATARROW","_","Type","_","SEPARATOR"],postprocess:L(Z)},{name:"TypeDefinition",symbols:["LB","_","TypeList","_","RB"],postprocess:y},{name:"TypeDefinition",symbols:["LB","_","RB"],postprocess:y},{name:"TypeList",symbols:["Type"],postprocess:B},{name:"TypeList",symbols:["Type","_","COMMA","_","TypeList"],postprocess:y},{name:"_Type",symbols:["NativeType"],postprocess:B},{name:"_Type",symbols:["GenericType"],postprocess:B},{name:"_Type",symbols:["Identifier"],postprocess:B},{name:"ArrayType",symbols:["_Type","_","LSB","_","RSB"],postprocess:st},{name:"Type",symbols:["_Type"],postprocess:B},{name:"Type",symbols:["ArrayType"],postprocess:B},{name:"GenericType",symbols:["Identifier","LT","_","StaticObjectLiteral","_","GT"],postprocess:yt},{name:"StaticObjectLiteral",symbols:["LCB","_","RCB"],postprocess:L(E(p.ObjectLiteral))},{name:"StaticObjectLiteral",symbols:["LCB","_","StaticPropertyList","_","RCB"],postprocess:L(E(p.ObjectLiteral),y)},{name:"StaticPropertyValue",symbols:["Number"],postprocess:B},{name:"StaticPropertyValue",symbols:["Boolean"],postprocess:B},{name:"StaticPropertyValue",symbols:["StringLiteral"],postprocess:B},{name:"StaticProperty",symbols:["Identifier","_","COLON","_","StaticPropertyValue"],postprocess:E(p.Pair)},{name:"StaticPropertyList",symbols:["StaticProperty"],postprocess:B},{name:"StaticPropertyList",symbols:["StaticProperty","_","COMMA","_","StaticPropertyList"],postprocess:y},{name:"ObjectLiteral",symbols:["LCB","_","RCB"],postprocess:E(p.ObjectLiteral)},{name:"ObjectLiteral",symbols:["LCB","_","PropertyList","_","RCB"],postprocess:L(E(p.ObjectLiteral),y)},{name:"PropertyList",symbols:["Property"],postprocess:B},{name:"PropertyList",symbols:["Property","_","COMMA","_","PropertyList"],postprocess:y},{name:"Property",symbols:["Identifier","_","COLON","_","Ternary"],postprocess:E(p.Pair)},{name:"Property",symbols:["SPREAD","Identifier"],postprocess:le},{name:"Property",symbols:["Identifier"],postprocess:B},{name:"Import",symbols:["IMPORT","_","ImportDefinition","__","FROM","__","StringLiteral","_","SEPARATOR"],postprocess:E(p.Import)},{name:"ImportDefinition",symbols:["LCB","_","ImportAndTypeList","_","RCB"],postprocess:L(E(p.ObjectLiteral),y)},{name:"ImportAndTypeList",symbols:["ImportName"],postprocess:B},{name:"ImportAndTypeList",symbols:["ImportAndType"],postprocess:B},{name:"ImportAndTypeList",symbols:["ImportName","_","COMMA","_","ImportAndTypeList"],postprocess:y},{name:"ImportAndTypeList",symbols:["ImportAndType","_","COMMA","_","ImportAndTypeList"],postprocess:y},{name:"ImportAndType",symbols:["ImportName","_","COLON","_","Type"],postprocess:E(p.Pair)},{name:"ImportAndType",symbols:["ImportName","_","AS","_","Identifier"],postprocess:E(p.BinaryExpression,{value:"as"})},{name:"ImportAndType",symbols:["ImportAndType","_","AS","_","Identifier"],postprocess:E(p.BinaryExpression,{value:"as"})},{name:"ImportName",symbols:["Identifier"],postprocess:B},{name:"If",symbols:["IF","_","LB","_","Expression","_","RB","_","BranchBody"],postprocess:E(p.IfThenElse)},{name:"If",symbols:["IF","_","LB","_","Expression","_","RB","_","BranchBody","_","Else"],postprocess:E(p.IfThenElse)},{name:"Else",symbols:["ELSE","_","BranchBody"],postprocess:E(p.Else)},{name:"BranchBody",symbols:["Statement"],postprocess:B},{name:"BranchBody",symbols:["Block"],postprocess:B},{name:"For",symbols:["FOR","_","LB","_","ForArg","_","SEPARATOR","_","Expression","_","SEPARATOR","_","ForArg","_","RB","_","BranchBody"],postprocess:Pt},{name:"ForArg",symbols:["_Assignment"],postprocess:B},{name:"ForArg",symbols:["Ternary"],postprocess:B},{name:"While",symbols:["WHILE","_","LB","_","Expression","_","RB","_","BranchBody"],postprocess:Lt},{name:"Break",symbols:["BREAK","_","SEPARATOR"],postprocess:E(p.Break)},{name:"Program",symbols:["_"],postprocess:L(E("Program",{value:"ROOT_NODE"}),y)},{name:"Program",symbols:["_","SourceElementList","_"],postprocess:L(E("Program",{value:"ROOT_NODE"}),y)},{name:"SourceElementList",symbols:["SourceElement"],postprocess:y},{name:"SourceElementList",symbols:["SourceElement","_","SourceElementList"],postprocess:L(f,y,y)},{name:"SourceElement",symbols:["Function"],postprocess:B},{name:"SourceElement",symbols:["GlobalDeclaration"],postprocess:B},{name:"SourceElement",symbols:["GlobalImmutableDeclaration"],postprocess:B},{name:"SourceElement",symbols:["StaticDeclaration"],postprocess:B},{name:"SourceElement",symbols:["Struct"],postprocess:B},{name:"SourceElement",symbols:["TypeDef"],postprocess:B},{name:"SourceElement",symbols:["Export"],postprocess:B},{name:"SourceElement",symbols:["Import"],postprocess:B},{name:"Statement",symbols:["ExpressionStatement"],postprocess:B},{name:"Statement",symbols:["Declaration"],postprocess:B},{name:"Statement",symbols:["ImmutableDeclaration"],postprocess:B},{name:"Statement",symbols:["Assignment"],postprocess:B},{name:"Statement",symbols:["If"],postprocess:B},{name:"Statement",symbols:["For"],postprocess:B},{name:"Statement",symbols:["While"],postprocess:B},{name:"Statement",symbols:["Break"],postprocess:B},{name:"Statement",symbols:["Unreachable"],postprocess:B},{name:"Statement",symbols:["ReturnStatement"],postprocess:B},{name:"Block",symbols:["LCB","_","RCB"],postprocess:E(p.Block)},{name:"Block",symbols:["LCB","_","StatementList","_","RCB"],postprocess:L(E(p.Block),y)},{name:"StatementList",symbols:["Statement"],postprocess:f},{name:"StatementList",symbols:["Statement","_","StatementList"],postprocess:y},{name:"Function",symbols:["FUNCTION","__","Identifier","_","FunctionParameters","_","Block"],postprocess:tt},{name:"Function",symbols:["FUNCTION","__","Identifier","_","FunctionParameters","_","FunctionResult","_","Block"],postprocess:Wt},{name:"FunctionParameters",symbols:["LB","_","RB"],postprocess:E(p.FunctionArguments)},{name:"FunctionParameters",symbols:["LB","_","ParameterList","_","RB"],postprocess:L(E(p.FunctionArguments),y,y)},{name:"ParameterList",symbols:["NameAndType"],postprocess:B},{name:"ParameterList",symbols:["NameAndType","_","COMMA","_","ParameterList"],postprocess:y},{name:"NameAndType",symbols:["Identifier","_","COLON","_","DeclType"],postprocess:E(p.Pair)},{name:"DeclType",symbols:["Type"],postprocess:L(c({Type:p.DeclType}),_(0))},{name:"FunctionResult",symbols:["COLON","_","Type"],postprocess:L(V,f)},{name:"GlobalDeclaration",symbols:["LET","_","NameAndType","_","SEPARATOR"],postprocess:ft(p.Declaration)},{name:"GlobalDeclaration",symbols:["LET","_","NameAndType","_","EQUALS","_","Atom","_","SEPARATOR"],postprocess:ft(p.Declaration)},{name:"GlobalImmutableDeclaration",symbols:["CONST","_","Identifier","_","COLON","_","GenericType","_","SEPARATOR"],postprocess:he},{name:"GlobalImmutableDeclaration",symbols:["CONST","_","NameAndType","_","EQUALS","_","ObjectLiteral","_","SEPARATOR"],postprocess:ft(p.ImmutableDeclaration)},{name:"GlobalImmutableDeclaration",symbols:["CONST","_","NameAndType","_","EQUALS","_","Atom","_","SEPARATOR"],postprocess:ft(p.ImmutableDeclaration)},{name:"Declaration",symbols:["LET","_","NameAndType","_","EQUALS","_","Expression","_","SEPARATOR"],postprocess:ft(p.Declaration)},{name:"Declaration",symbols:["LET","_","NameAndType","_","SEPARATOR"],postprocess:ft(p.Declaration)},{name:"ImmutableDeclaration",symbols:["CONST","_","NameAndType","_","EQUALS","_","Expression","_","SEPARATOR"],postprocess:ft(p.ImmutableDeclaration)},{name:"ImmutableDeclaration",symbols:["CONST","_","NameAndType","_","EQUALS","_","ObjectLiteral","_","SEPARATOR"],postprocess:ft(p.ImmutableDeclaration)},{name:"ImmutableDeclaration",symbols:["CONST","_","Identifier","_","COLON","_","GenericType","_","SEPARATOR"],postprocess:he},{name:"StaticNameAndType",symbols:["Identifier","_","COLON","_","ArrayType"],postprocess:E(p.Pair)},{name:"StaticDeclaration",symbols:["CONST","_","StaticNameAndType","_","EQUALS","_","LSB","_","RSB","_","SEPARATOR"],postprocess:ft(p.StaticDeclaration)},{name:"StaticDeclaration",symbols:["CONST","_","StaticNameAndType","_","EQUALS","_","LSB","_","StaticValueList","_","RSB","_","SEPARATOR"],postprocess:L(ft(p.StaticDeclaration),y)},{name:"StaticValueList",symbols:["Atom"],postprocess:B},{name:"StaticValueList",symbols:["Atom","_","COMMA","_","StaticValueList"],postprocess:y},{name:"Unreachable",symbols:["THROW","_","SEPARATOR"],postprocess:E(p.Unreachable)},{name:"Unreachable",symbols:["THROW","_","Expression","_","SEPARATOR"],postprocess:E(p.Unreachable)},{name:"Pair",symbols:["Identifier","_","COLON","_","Identifier"],postprocess:E(p.Pair)},{name:"Export",symbols:["EXPORT","__","ImmutableDeclaration"],postprocess:E(p.Export,{value:"export"})},{name:"Export",symbols:["EXPORT","__","Function"],postprocess:E(p.Export,{value:"export"})},{name:"Export",symbols:["EXPORT","__","TypeDef"],postprocess:E(p.Export,{value:"export"})},{name:"Export",symbols:["EXPORT","__","Struct"],postprocess:E(p.Export,{value:"export"})},{name:"ReturnStatement",symbols:["RETURN","__","Expression","_","SEPARATOR"],postprocess:E(p.ReturnStatement)},{name:"ReturnStatement$subexpression$1",symbols:[{literal:";"}],postprocess:d},{name:"ReturnStatement",symbols:["RETURN","ReturnStatement$subexpression$1"],postprocess:E(p.ReturnStatement)},{name:"Assignment",symbols:["_Assignment","_","SEPARATOR"],postprocess:B},{name:"_Assignment",symbols:["Subscript","_","EQUALS","_","Expression"],postprocess:lt=>ot(lt,"=")},{name:"_Assignment",symbols:["Subscript","_","PLSEQUALS","_","Expression"],postprocess:lt=>ot(lt,"+=")},{name:"_Assignment",symbols:["Subscript","_","MINEQUALS","_","Expression"],postprocess:lt=>ot(lt,"-=")},{name:"_Assignment",symbols:["Subscript","_","EQUALS","_","ObjectLiteral"],postprocess:lt=>ot(lt,"=")},{name:"ExpressionStatement",symbols:["Call","_","SEPARATOR"],postprocess:B},{name:"Expression",symbols:["AssignmentExpression"],postprocess:B},{name:"AssignmentExpression",symbols:["Identifier","_","EQUALS","_","Ternary"],postprocess:lt=>Qt(lt,"=")},{name:"AssignmentExpression",symbols:["Identifier","_","PLSEQUALS","_","Ternary"],postprocess:lt=>Qt(lt,"+=")},{name:"AssignmentExpression",symbols:["Identifier","_","MINEQUALS","_","Ternary"],postprocess:lt=>Qt(lt,"-=")},{name:"AssignmentExpression",symbols:["Ternary"],postprocess:B},{name:"Ternary",symbols:["Ternary","_","QUESTION","_","TernaryPair"],postprocess:W},{name:"Ternary",symbols:["Binary"],postprocess:B},{name:"TernaryPair",symbols:["Expression","_","COLON","_","Expression"],postprocess:E(p.Pair)},{name:"Binary",symbols:["Logical"],postprocess:B},{name:"Logical",symbols:["Logical","_",{literal:"||"},"_","Bitwise"],postprocess:P},{name:"Logical",symbols:["Logical","_",{literal:"&&"},"_","Bitwise"],postprocess:P},{name:"Logical",symbols:["Bitwise"],postprocess:B},{name:"Bitwise",symbols:["Bitwise","_",{literal:"|"},"_","Sum"],postprocess:P},{name:"Bitwise",symbols:["Bitwise","_",{literal:"^"},"_","Sum"],postprocess:P},{name:"Bitwise",symbols:["Bitwise","_",{literal:"&"},"_","Sum"],postprocess:P},{name:"Bitwise",symbols:["Equality"],postprocess:B},{name:"Equality",symbols:["Equality","_",{literal:"=="},"_","Comparison"],postprocess:P},{name:"Equality",symbols:["Equality","_",{literal:"!="},"_","Comparison"],postprocess:P},{name:"Equality",symbols:["Comparison"],postprocess:B},{name:"Comparison",symbols:["Comparison","_",{literal:"<"},"_","Shift"],postprocess:P},{name:"Comparison",symbols:["Comparison","_",{literal:">"},"_","Shift"],postprocess:P},{name:"Comparison",symbols:["Comparison","_",{literal:"<="},"_","Shift"],postprocess:P},{name:"Comparison",symbols:["Comparison","_",{literal:">="},"_","Shift"],postprocess:P},{name:"Comparison",symbols:["Shift"],postprocess:B},{name:"Shift",symbols:["Shift","_",{literal:">>"},"_","Sum"],postprocess:P},{name:"Shift",symbols:["Shift","_",{literal:"<<"},"_","Sum"],postprocess:P},{name:"Shift",symbols:["Shift","_",{literal:">>>"},"_","Sum"],postprocess:P},{name:"Shift",symbols:["Sum"],postprocess:B},{name:"Sum",symbols:["Sum","_",{literal:"+"},"_","Product"],postprocess:P},{name:"Sum",symbols:["Sum","_",{literal:"-"},"_","Product"],postprocess:P},{name:"Sum",symbols:["Product"],postprocess:B},{name:"Product",symbols:["Product","_",{literal:"*"},"_","Typecast"],postprocess:P},{name:"Product",symbols:["Product","_",{literal:"/"},"_","Typecast"],postprocess:P},{name:"Product",symbols:["Product","_",{literal:"%"},"_","Typecast"],postprocess:P},{name:"Product",symbols:["Typecast"],postprocess:B},{name:"Typecast",symbols:["Expression","_","COLON","_","DeclType"],postprocess:E(p.Pair)},{name:"Typecast",symbols:["Expression","_","AS","_","DeclType"],postprocess:E(p.Pair)},{name:"Typecast",symbols:["Unary"],postprocess:B},{name:"Unary",symbols:[{literal:"!"},"Call"],postprocess:z},{name:"Unary",symbols:[{literal:"~"},"Call"],postprocess:z},{name:"Unary",symbols:[{literal:"-"},"Call"],postprocess:z},{name:"Unary",symbols:[{literal:"+"},"Call"],postprocess:z},{name:"Unary",symbols:[{literal:"++"},"Call"],postprocess:z},{name:"Unary",symbols:[{literal:"--"},"Call"],postprocess:z},{name:"Unary",symbols:["Call"],postprocess:B},{name:"Call",symbols:["Subscript","_","LB","_","ArgumentList","_","RB"],postprocess:L(k,y)},{name:"Call",symbols:["Subscript","_","LB","_","RB"],postprocess:k},{name:"Call",symbols:["Subscript"],postprocess:B},{name:"ArgumentList",symbols:["Expression"],postprocess:B},{name:"ArgumentList",symbols:["NativeType"],postprocess:B},{name:"ArgumentList",symbols:["Expression","_","COMMA","_","ArgumentList"],postprocess:y},{name:"Subscript",symbols:["Access","LSB","_","Expression","_","RSB","Subscript"],postprocess:nt},{name:"Subscript",symbols:["Access","LSB","_","Expression","_","RSB"],postprocess:nt},{name:"Subscript",symbols:["Access"],postprocess:B},{name:"Access",symbols:["Access","DOT","Identifier"],postprocess:L(et,f)},{name:"Access",symbols:["NativeType","DOT","Access"],postprocess:L(et,f)},{name:"Access",symbols:["Grouping"],postprocess:B},{name:"Grouping",symbols:["LB","_","Expression","_","RB"],postprocess:_(2)},{name:"Grouping",symbols:["Atom"],postprocess:B},{name:"Atom",symbols:["Identifier"],postprocess:B},{name:"Atom",symbols:["StringLiteral"],postprocess:B},{name:"Atom",symbols:["CharacterLiteral"],postprocess:B},{name:"Atom",symbols:["Number"],postprocess:B},{name:"NativeType",symbols:[m.has("type")?{type:"type"}:rt],postprocess:rt},{name:"Identifier",symbols:[m.has("identifier")?{type:"identifier"}:U],postprocess:U},{name:"Number",symbols:[m.has("number")?{type:"number"}:number],postprocess:j},{name:"StringLiteral",symbols:[m.has("string")?{type:"string"}:q],postprocess:q},{name:"CharacterLiteral",symbols:[m.has("char")?{type:"char"}:Q],postprocess:Q},{name:"word",symbols:[/[a-zA-Z_]/],postprocess:B},{name:"word",symbols:["word",/[a-zA-Z0-9_]/],postprocess:g},{name:"digit",symbols:[/[0-9]/],postprocess:B},{name:"digit",symbols:["digit",/[0-9]/],postprocess:g},{name:"SEPARATOR",symbols:["_",{literal:";"}],postprocess:d},{name:"QUESTION",symbols:[{literal:"?"}],postprocess:d},{name:"COMMA",symbols:[{literal:","}],postprocess:d},{name:"AND",symbols:[{literal:"&"}],postprocess:d},{name:"DOT",symbols:[{literal:"."}],postprocess:d},{name:"LB",symbols:[{literal:"("}],postprocess:d},{name:"RB",symbols:[{literal:")"}],postprocess:d},{name:"LSB",symbols:[{literal:"["}],postprocess:d},{name:"RSB",symbols:[{literal:"]"}],postprocess:d},{name:"LCB",symbols:[{literal:"{"}],postprocess:d},{name:"RCB",symbols:[{literal:"}"}],postprocess:d},{name:"OR",symbols:[{literal:"|"}],postprocess:d},{name:"COLON",symbols:[{literal:":"}],postprocess:d},{name:"EQUALS",symbols:[{literal:"="}],postprocess:d},{name:"PLSEQUALS",symbols:[{literal:"+="}],postprocess:d},{name:"MINEQUALS",symbols:[{literal:"-="}],postprocess:d},{name:"GT",symbols:[{literal:">"}],postprocess:d},{name:"LT",symbols:[{literal:"<"}],postprocess:d},{name:"FATARROW",symbols:[{literal:"=>"}],postprocess:d},{name:"SPREAD",symbols:[{literal:"..."}],postprocess:d},{name:"FUNCTION",symbols:[{literal:"function"}],postprocess:d},{name:"LET",symbols:[{literal:"let"}],postprocess:d},{name:"CONST",symbols:[{literal:"const"}],postprocess:d},{name:"EXPORT",symbols:[{literal:"export"}],postprocess:d},{name:"IMPORT",symbols:[{literal:"import"}],postprocess:d},{name:"AS",symbols:[{literal:"as"}],postprocess:d},{name:"FROM",symbols:[{literal:"from"}],postprocess:d},{name:"RETURN",symbols:[{literal:"return"}],postprocess:d},{name:"TYPE",symbols:[{literal:"type"}],postprocess:d},{name:"IF",symbols:[{literal:"if"}],postprocess:d},{name:"ELSE",symbols:[{literal:"else"}],postprocess:d},{name:"FOR",symbols:[{literal:"for"}],postprocess:d},{name:"WHILE",symbols:[{literal:"while"}],postprocess:d},{name:"SWITCH",symbols:[{literal:"switch"}],postprocess:d},{name:"DO",symbols:[{literal:"do"}],postprocess:d},{name:"THROW",symbols:[{literal:"throw"}],postprocess:d},{name:"BREAK",symbols:[{literal:"break"}],postprocess:d}],ParserStart:"Program"}}function Vn(m){return m[0]}function Gn(){let m=this.Syntax,{flatten:p}=this.helpers,{node:c}=this.nodes(this.lexer);return{Lexer:void 0,ParserRules:[{name:"TypeList",symbols:["DefaultArgument"],postprocess:Vn},{name:"TypeList",symbols:["DefaultArgument","_","COMMA","_","TypeList"],postprocess:p},{name:"DefaultArgument",symbols:["Type","_","EQUALS","_","Atom"],postprocess:c(m.Assignment)},{name:"ParameterList",symbols:["DefaultFunctionArgument"],postprocess:Vn},{name:"ParameterList",symbols:["DefaultFunctionArgument","_","COMMA","_","ParameterList"],postprocess:p},{name:"DefaultFunctionArgument",symbols:["NameAndType","_","EQUALS","_","Atom"],postprocess:c(m.Assignment)}],ParserStart:"TypeList"}}var Wn=J(function(m){(function(p,c){m.exports?m.exports=c():p.nearley=c()})(v,function(){function p(g,y,L){return this.id=++p.highestId,this.name=g,this.symbols=y,this.postprocess=L,this}p.highestId=0,p.prototype.toString=function(g){function y(E){return E.literal?JSON.stringify(E.literal):E.type?"%"+E.type:E.toString()}var L=typeof g>"u"?this.symbols.map(y).join(" "):this.symbols.slice(0,g).map(y).join(" ")+" \u25CF "+this.symbols.slice(g).map(y).join(" ");return this.name+" \u2192 "+L};function c(g,y,L,E){this.rule=g,this.dot=y,this.reference=L,this.data=[],this.wantedBy=E,this.isComplete=this.dot===g.symbols.length}c.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},c.prototype.nextState=function(g){var y=new c(this.rule,this.dot+1,this.reference,this.wantedBy);return y.left=this,y.right=g,y.isComplete&&(y.data=y.build()),y},c.prototype.build=function(){var g=[],y=this;do g.push(y.right.data),y=y.left;while(y.left);return g.reverse(),g},c.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,x.fail))};function f(g,y){this.grammar=g,this.index=y,this.states=[],this.wants={},this.scannable=[],this.completed={}}f.prototype.process=function(g){for(var y=this.states,L=this.wants,E=this.completed,P=0;P<y.length;P++){var j=y[P];if(j.isComplete){if(j.finish(),j.data!==x.fail){for(var U=j.wantedBy,N=U.length;N--;){var z=U[N];this.complete(z,j)}if(j.reference===this.index){var W=j.rule.name;(this.completed[W]=this.completed[W]||[]).push(j)}}}else{var W=j.rule.symbols[j.dot];if(typeof W!="string"){this.scannable.push(j);continue}if(L[W]){if(L[W].push(j),E.hasOwnProperty(W))for(var nt=E[W],N=0;N<nt.length;N++){var et=nt[N];this.complete(j,et)}}else L[W]=[j],this.predict(W)}}},f.prototype.predict=function(g){for(var y=this.grammar.byName[g]||[],L=0;L<y.length;L++){var E=y[L],P=this.wants[g],j=new c(E,0,this.index,P);this.states.push(j)}},f.prototype.complete=function(g,y){var L=g.nextState(y);this.states.push(L)};function _(g,y){this.rules=g,this.start=y||this.rules[0].name;var L=this.byName={};this.rules.forEach(function(E){L.hasOwnProperty(E.name)||(L[E.name]=[]),L[E.name].push(E)})}_.fromCompiled=function(E,y){var L=E.Lexer;E.ParserStart&&(y=E.ParserStart,E=E.ParserRules);var E=E.map(function(j){return new p(j.name,j.symbols,j.postprocess)}),P=new _(E,y);return P.lexer=L,P};function d(){this.reset("")}d.prototype.reset=function(g,y){this.buffer=g,this.index=0,this.line=y?y.line:1,this.lastLineBreak=y?-y.col:0},d.prototype.next=function(){if(this.index<this.buffer.length){var g=this.buffer[this.index++];return g==="\n"&&(this.line+=1,this.lastLineBreak=this.index),{value:g}}},d.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},d.prototype.formatError=function(g,y){var L=this.buffer;if(typeof L=="string"){var E=L.indexOf("\n",this.index);E===-1&&(E=L.length);var P=L.substring(this.lastLineBreak,E),j=this.index-this.lastLineBreak;return y+=" at line "+this.line+" col "+j+":\n\n",y+="  "+P+"\n",y+="  "+Array(j).join(" ")+"^",y}else return y+" at index "+(this.index-1)};function x(g,y,E){if(g instanceof _)var P=g,E=y;else var P=_.fromCompiled(g,y);this.grammar=P,this.options={keepHistory:!1,lexer:P.lexer||new d};for(var j in E||{})this.options[j]=E[j];this.lexer=this.options.lexer,this.lexerState=void 0;var U=new f(P,0);this.table=[U],U.wants[P.start]=[],U.predict(P.start),U.process(),this.current=0}return x.fail={},x.prototype.feed=function(g){var y=this.lexer;y.reset(g,this.lexerState);for(var L;L=y.next();){var E=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var P=this.current+1,j=new f(this.grammar,P);this.table.push(j);for(var U=L.text!==void 0?L.text:L.value,N=y.constructor===d?L.value:L,z=E.scannable,W=z.length;W--;){var nt=z[W],et=nt.rule.symbols[nt.dot];if(et.test?et.test(N):et.type?et.type===L.type:et.literal===U){var Wt=nt.nextState({data:N,token:L,isToken:!0,reference:P-1});j.states.push(Wt)}}if(j.process(),j.states.length===0){var ft=this.lexer.formatError(L,"invalid syntax")+"\n";ft+="Unexpected "+(L.type?L.type+" token: ":""),ft+=JSON.stringify(L.value!==void 0?L.value:L)+"\n";var k=new Error(ft);throw k.offset=this.current,k.token=L,k}this.options.keepHistory&&(E.lexerState=y.save()),this.current++}return E&&(this.lexerState=y.save()),this.results=this.finish(),this},x.prototype.save=function(){var g=this.table[this.current];return g.lexerState=this.lexerState,g},x.prototype.restore=function(g){var y=g.index;this.current=y,this.table[y]=g,this.table.splice(y+1),this.lexerState=g.lexerState,this.results=this.finish()},x.prototype.rewind=function(g){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[g])},x.prototype.finish=function(){var g=[],y=this.grammar.start,L=this.table[this.table.length-1];return L.states.forEach(function(E){E.rule.name===y&&E.dot===E.rule.symbols.length&&E.reference===0&&E.data!==x.fail&&g.push(E)}),g.map(function(E){return E.data})},{Parser:x,Grammar:_,Rule:p}})}),Hs=Wn.Parser,js=Wn.Grammar,ks=(...m)=>m.reduce((p,c)=>(...f)=>p(c(...f))),$=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var c=arguments[p];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(m[f]=c[f])}return m},Ss=function(m,p){var c={};for(var f in m)p.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f]);return c};let X=Pe((m,p)=>{let{meta:c}=m,f=Ss(m,["meta"]);return $({},p,{meta:$({},p.meta,c)},f)}),Us=m=>p=>p[m],Rs=()=>null,Xt=m=>Array.isArray(m)?!!m.length:m!=null,$s=m=>"".concat(m[0]).concat(m[1]),Ns=m=>m.reduce((p,c)=>(Array.isArray(c),p.concat(c)),[]),Et=m=>m.filter(Xt);var Is={nth:Us,nuller:Rs,nonEmpty:Xt,add:$s,flatten:Ns,compose:ks,drop:Et,extendNode:X};let Bs=m=>{let{col:p,line:c}=m;return m.lines.length?{col:p,line:c,sourceLine:m.lines[m.line-1]}:{col:p,line:c,sourceLine:""}};function Ds(m){let p=(_,d={})=>x=>{let g=x.filter(Xt),{value:y="",meta:L={}}=d,E=Bs(m),P=g[g.length-1]&&g[g.length-1].range?g[g.length-1].range[1]:$({},E,{col:E.col+y.length});return{value:y,type:null,Type:_,toString(){},meta:L,range:[E,P],params:g}},c=_=>{let[d,x,g]=_.filter(Xt),y=b.BinaryExpression;return(x.value==="||"||x.value==="&&")&&(y=b.Select),p(y,{value:x.value})([d,g])},f=_=>{let[d]=Et(_);return X({type:d!=null&&d.value!=="void"?d.value:null},p(b.FunctionResult)(_))};return{node:p,binary:c,constant:_=>{let d=_[0].value;return X({value:"".concat(d),type:d.toString().indexOf(".")!==-1?"f32":"i32"},p(b.Constant)([]))},identifier:_=>p("Identifier",{value:_.join("")})([]),unary:([_,d])=>{let x=[d];return _.value==="-"&&(x=[$({},d,{value:"0",Type:b.Constant,params:[],meta:{}}),d]),X({value:_.value,params:x},p(b.UnaryExpression)([_,d]))},ternary:_=>X({value:"?"},p(b.TernaryExpression)(_)),subscript:_=>{let[d,x]=_.filter(Xt);return X({value:d.value,params:[d,x]},p(b.ArraySubscript)([d,x]))},access(_){return X({value:_[0].value+"."+_[1].value},p(b.Access)(_))},fun:_=>{let[d,x,g,y]=_.filter(Xt);return $({},d,{Type:b.FunctionDeclaration,meta:[],params:[x,g,y]})},declaration:_=>d=>{let[x,...g]=Et(d),[y,L]=x.params;return X({value:y.value,type:L.value},p(_)(g))},call:_=>{let[d,...x]=Et(_);return X({value:d.value},p(b.FunctionCall)([d,...x]))},struct:_=>{let[d,...x]=Et(_);return X({value:d.value},p(b.Struct)(x))},result:f,string:_=>X({value:_[0].value,type:"i32"},p(b.StringLiteral)([])),char(_){return X({value:_[0].value,type:"i32"},p(b.CharacterLiteral)([]))},type(_){return X({value:_[0].value,type:_[0].value,params:[]},p(b.Type)(_))},arrayType(_){let d=Et(_)[0];return X({value:d.value+"[]",type:d.type+"[]",params:[]},p(b.ArrayType)(_))},typeGeneric(_){let[d,x]=Et(_);return X({value:d.value,type:d.value,params:[x]},p(b.Type)(_))},typedef:_=>{let[d,x,g]=Et(_);return X({value:d.value,params:[p(b.FunctionArguments)(x),X({type:g.value},p(b.FunctionResult)([g]))],type:g.type},p(b.Typedef)([d,x,f]))},voidFun:_=>{let d=Et(_),[x,g,y]=d,L=X({type:null},p(b.FunctionResult)([]));return X({value:x.value,params:[g,L,y]},p(b.FunctionDeclaration)(d))},assignment(_,d){if(["-=","+="].includes(d)){let x=d[0],[g,y]=Et(_),L=c([g,{value:x},y]);return p(b.Assignment,{value:"="})([g,L])}return p(b.Assignment,{value:d})(_)},assignmentExpr(_,d){if(["-=","+="].includes(d)){let x=d[0],[g,y]=Et(_),L=c([g,{value:x},y]);return p(b.AssignmentExpression,{value:"="})([g,L])}return p(b.AssignmentExpression,{value:d})(_)},forLoop(_){let[d,x,g,...y]=Et(_);return p(b.Loop)([d,x,...y,g])},whileLoop(_){let d=p(b.Noop)([]);return p(b.Loop)([d,..._])},spread(_){return p(b.Spread)(_)},builtinDecl(_){let[d,x]=Et(_);return X({value:d.value,type:x.value,params:[x]},p(b.ImmutableDeclaration)(_))},addressOf(_){let[d]=Et(_);return X({value:d.value,params:[]},p("AddressOf")(_))}}}function Fs(){let m=Ut.compile(ct);return{current:null,lines:[],get line(){return m.line},get col(){return m.col},save(){return m.save()},reset(p,c){return this.lines=p.split("\n"),m.reset(p,c)},next(){let p=m.next();for(;p&&p.type==="comment";)p=m.next();return this.current=p,this.current},formatError(p){return m.formatError(p)},has(p){return m.has(p)}}}var Ze=Pe(function(m,p){let c=[Os,Gn,...m],f={lexer:Fs(),nodes:Ds,helpers:Is,Syntax:b},_=c.slice(1).reduce((x,g)=>{let y=g.call(f);return $({},x,{ParserRules:x.ParserRules.concat(y.ParserRules)})},c[0].call(f)),d=new Hs(js.fromCompiled(_));return d.feed(p),A(d.results.length===1,"PANIC - Ambiguous Syntax! Number of productions (".concat(d.results.length,")")),d.results[0]});let zs=m=>{let p,c=m.reduce((f,_)=>_(d=>f(d,p)),([f])=>f);return(f,_)=>(p=_,c(f,p))},Vs=m=>{let p=[],c=m.reduce((f,_)=>(Object.entries(_).forEach(([d,x])=>{if(d==="*"){p.push(x);return}f[d]==null&&(f[d]=[...p]),f[d].push(x)}),f),{});return Object.entries(c).reduce((f,[_,d])=>(f[_]=zs(d),f),{})},Yn=Symbol("scope namespace"),qn=Symbol("signature");function Gs(m,p){return[...m,{[Yn]:p,[qn]:{result:null,arguments:null}}]}function Ws(m){return m.slice(0,-1)}function Qn(m){return m[m.length-1]}function Ys(m,p,c){let f=Qn(m);return f&&(f[p]=c),f}function qs(m,p){let c=m.length-1;for(c;c>=0;c--){let f=m[c][p];if(f)return f}return null}function Qs(m,p){let c=Object.keys(m).indexOf(p);return c>-1?c:Object.keys(m).length}var Js={enter:Gs,exit:Ws,add:Ys,find:qs,current:Qn,index:Qs,namespace:Yn,signature:qn};let{enter:Zs,exit:Ks,add:Xs,find:ta,current:ea,namespace:na,signature:ra,index:sa}=Js;var zt={enter:Zs,exit:Ks,add:Xs,find:ta,current:ea,namespace:na,index:sa,signature:ra},Jn=zt.enter,aa=zt.exit,Yt=zt.current,te=zt.find,ia=zt.add,Zn=zt.index,Kn=zt.namespace,ee=zt.signature;let $t="function/index",Le="LOCAL_INDEX",Nt="global/index",we="type/const",me="TYPE_INDEX",oa="OBJECT_SIZE",Ke="type/cast",Xe="AST_METADATA",tn="FUNCTION_METADATA",Vt=m=>{switch(m){case"i32":case"bool":return 0;case"i64":return 1;case"f32":return 2;case"f64":return 3;default:return-1}},en=m=>{let p=m.params.reduce((f,{type:_})=>Vt(f)<Vt(_)?_:f,m.type),c=m.params.map(f=>f.type!=null&&Vt(f.type)!==Vt(p)?f.Type===b.Constant?X({type:p},f):X({type:p,value:f.value,Type:b.TypeCast,meta:{[Ke]:{to:p,from:f.type}},params:[f]},f):f);return $({},m,{params:c,type:p})};function la(){return{semantics(){let m=p=>([c,f])=>{let _=Yt(f.scopes),d=Zn(_,c.value);return _[c.value]=X({params:c.params.map(X({type:c.type})),meta:$({},c.meta,{[_[Kn]]:d,[we]:c.Type===b.ImmutableDeclaration}),Type:b.Declaration},c),p([_[c.value],f])};return{[b.Export]:p=>([c,f])=>{let _=p([c,f]),[d]=_.params;return f.exports[d.value]=d,_},[b.Declaration]:m,[b.ImmutableDeclaration]:m,[b.Select]:p=>([c,f],_)=>en($({},c,{params:c.params.map(d=>_([d,f]))})),[b.BinaryExpression]:p=>([c,f],_)=>en($({},c,{params:c.params.map(d=>_([d,f]))})),[b.Pair]:p=>(c,f)=>{let[_,d]=c,x=_.params.map(P=>f([P,d])),[g,y]=x,{type:L}=g,{value:E}=y;return $({},_,{type:E,value:g.value,Type:b.TypeCast,meta:$({},_.meta,{[Ke]:{to:E,from:L}}),params:[g]})},[b.Identifier]:p=>c=>{let[f,_]=c,d=te(_.scopes,f.value);return d?$({},f,{meta:$({},f.meta,d.meta),type:d.type}):f.value==="null"?$({},f,{value:"0",type:"i32",Type:b.Constant}):p(c)},[b.TernaryExpression]:p=>([c,f])=>p([en($({},c,{params:[...c.params[1].params,c.params[0]]})),f])}}}}function ua(){return{semantics(){return{"*":m=>function([p,...c],f){return $({},p,{params:p.params.map(_=>f([_,...c]))})}}}}}function pa(){return{semantics(){return{[b.Typedef]:m=>([p])=>p,[b.Program]:m=>p=>{let[c,f]=p,{types:_}=f,d=h({[b.Export]:(x,g)=>{let[y]=x.params;return y!=null&&[b.Typedef,b.Struct].includes(y.Type)?g($({},y,{meta:$({},y.meta,{EXPORTED:!0})})):x},[b.Typedef]:(x,g)=>{let y=0,[L]=x.params,E=[];w({Assignment(j){let U=j.params[1];E.push(U)},Type(){y+=1}})(L);let P=$({},x,{meta:$({},x.meta,{FUNCTION_METADATA:{argumentsCount:y},DEFAULT_ARGUMENTS:E})});return _[x.value]=P,P}})(c);return m([d,f])}}}}}let ca={i64:63,f64:63,i32:31,f32:31},ma={i64:"0xffffffffffff",f64:"0xffffffffffff",i32:"0xffffff",f32:"0xffffff"};function fa(){return{semantics({stmt:m}){return{[b.UnaryExpression]:p=>(c,f)=>{let[_,d]=c,[x,g]=_.params.map(y=>f([y,d]));switch(_.value){case"!":let y=ca[x.type];return f([m(Yr||(Yr=xt(["((("," >> ",") | ((~"," + 1) >> ",")) + 1);"])),x,y,x,y),d]);case"~":let L=ma[f([x,d]).type];return f([m(qr||(qr=xt(["("," ^ ",");"])),x,L),d]);case"-":if(g.Type===b.Constant)return $({},g,{meta:$({},g.meta,{SIGN:-1})});default:return f([$({},_,{type:g.type,params:[$({},x,{type:g.type}),g],Type:b.BinaryExpression}),d])}}}}}}function _a(){return{semantics(){return{[b.FunctionDeclaration]:m=>([p,c],f)=>{c.scopes=Jn(c.scopes,Le);let _=Yt(c.scopes),[d,x,g]=p.params,[y,L]=[d,x].map(P=>f([P,c])),E=$({},p,{type:_[ee].result,meta:$({},p.meta,{[$t]:Object.keys(c.functions).length,[tn]:{argumentsCount:_[ee].arguments.length,locals:Yt(c.scopes)}})});return c.functions[p.value]=E,E.params=[y,L,f([g,c])],c.scopes=aa(c.scopes),E},[b.FunctionResult]:m=>([p,c])=>{let f=Yt(c.scopes);return f[ee].result=p.type,p},[b.FunctionArguments]:m=>([p,c],f)=>{let _=Yt(c.scopes);return _[ee].arguments=[],h({[b.Pair]:(d,x)=>{let[g,y]=d.params,L=f([y,c]);return _[ee].arguments.push(d),f([$({},d,{value:g.value,type:L.value,params:[],Type:b.Declaration}),c]),$({},d,{params:[g,L]})}})($({},p,{params:p.params.filter(Boolean)}))},[b.FunctionCall]:m=>([p,c])=>{let{functions:f}=c,_=Object.keys(f).indexOf(p.value);return m([$({},p,{type:f[p.value]!=null?f[p.value].type:null,meta:{[$t]:_},params:p.params.slice(1)}),c])},[b.ReturnStatement]:m=>([p,c],f)=>{let _=Yt(c.scopes),[d]=p.params.map(y=>f([y,c])),{result:x}=_[ee];if(d!=null&&d.Type===b.Constant&&Vt(d.type)!==Vt(x))return $({},p,{type:x,params:[$({},d,{type:x})]});let g=d?d.type:null;return $({},p,{params:[d],type:g})}}}}}function da(){return{semantics:()=>({[b.Import]:m=>p=>{let[c,f]=p;return h({[b.BinaryExpression]:(_,d)=>{let[x,g]=_.params;if(x.Type!==b.Pair)return _;let[y,L]=x.params;return d($({},x,{params:[$({},g,{meta:$({},y.meta,{AS:y.value})}),L]}))},[b.Pair]:(_,d)=>{let{types:x,functions:g}=f,[y,L]=_.params;if(x[L.value]!=null){let E=Object.keys(g).length,P=Object.keys(x).indexOf(L.value),j=$({},y,{id:y.value,type:x[L.value].type,meta:$({},y.meta,{[$t]:E,[me]:P,FUNCTION_METADATA:x[L.value].meta.FUNCTION_METADATA,DEFAULT_ARGUMENTS:x[L.value].meta.DEFAULT_ARGUMENTS})});return g[y.value]=j,$({},_,{params:[j,x[L.value]]})}if(["Table","Memory"].includes(L.value)){let E=L.value==="Memory"?"memories":"tables";f[E].push(y)}else{let E=Yt(f.scopes),P=Zn(E,y.value);ia(f.scopes,y.value,$({},y,{meta:{[E[Kn]]:P,[we]:!0},type:L.type}))}return _}})(c)}})}}function ha(){return{semantics(){let m=p=>([c,f])=>c.type==="bool"?p([$({},c,{type:"i32"}),f]):p([c,f]);return{[b.Identifier]:p=>(c,f)=>{let[_,d]=c;return _.value==="true"||_.value==="false"?f([$({},_,{Type:b.Constant,value:_.value==="true"?"1":"0",type:"i32"}),d]):p(c)},[b.FunctionResult]:p=>([c,f])=>c.type==="bool"?p([$({},c,{type:"i32"}),f]):p([c,f]),[b.Declaration]:m,[b.ImmutableDeclaration]:m}}}}function Xn(m,p){let c=[null,p];return function(f){return c[0]=f,m(c)}}function ya(m,p){let c={},f=0;for(f;f<m.length;f++)c[m[f]]=p[m[f]];return c}let xa={i32:2,f32:2,i64:3,f64:3},ga="i32";function Ta({stmt:m}){let p=d=>x=>{let[g,y]=x;if(!String(g.type).endsWith("[]"))return d(x);let L=X({type:ga,meta:{TYPE_ARRAY:g.type.slice(0,-2)}},g);return d([L,y])};function c(d,x){let g=xa[d.meta.TYPE_ARRAY]||2;return x.Type!==b.Constant||Number(x.value)?m(Qr||(Qr=xt(["("," + ("," << ","));"])),d,x,g):m(Jr||(Jr=xt(["(",");"])),d)}function f(d){return!(d.type==null||d.index==null)}function _([d,x]){let g=d.meta.TYPE_ARRAY,y=c(d,x);return{type:g,index:y,TYPE_ARRAY:d.meta.TYPE_ARRAY}}return{[b.Declaration]:p,[b.ImmutableDeclaration]:p,[b.Identifier]:d=>x=>{let[g,y]=x,L=te(y.scopes,g.value);return L&&L.meta.TYPE_ARRAY?d([X(ya(["type","meta"],L),g),y]):d(x)},[b.Assignment]:d=>(x,g)=>{let[y,L]=x,[E,P]=y.params;if(E.Type!==b.ArraySubscript)return d(x);let j=Xn(g,L),U=_(E.params.map(j)),{type:N,index:z}=U;return A(f(U),"PANIC - Cannot assign to subscript of ".concat(E.value)),j(m(Zr||(Zr=xt(["",".store(",", ",");"])),N,z,P))},[b.ArraySubscript]:d=>(x,g)=>{let[y,L]=x,E=Xn(g,L),P=_(y.params.map(E)),{type:j,index:U,TYPE_ARRAY:N}=P;return f(P)?X({meta:{TYPE_ARRAY:N}},E(m(Kr||(Kr=xt(["",".load(",");"])),j,U))):d(x)},[b.FunctionResult]:p}}function ba(){return{semantics:Ta}}let va=(m,p)=>{let c=m.memories[0];return c&&c.value===p.value};function Ea(){return{semantics({stmt:m}){return{[b.ImmutableDeclaration]:p=>c=>{let[f,_]=c,{scopes:d,memories:x}=_;return!d.length<2&&f.type==="Memory"&&!x.length?(x.push($({},f,{meta:$({},f.meta,{[Nt]:-1})})),x[0]):p(c)},[b.FunctionCall]:p=>(c,f)=>{let[_,d]=c,[x,...g]=_.params,[y={},L={}]=x.params,E={dataSize:f([m(Xr||(Xr=xt(["i32.load(0);"]))),d]),grow:$({},y,{value:"grow_memory",params:g.map(P=>f([P,d])),Type:b.NativeMethod}),size:$({},y,{value:"current_memory",params:[],Type:b.NativeMethod})}[L.value];return x.Type===b.Access&&va(d,y)&&E?E:p(c)}}}}}let tr=m=>{let p=[];for(;;){let c=m&127;m=m>>7;let f=c&64;if(m===0&&!f||m===-1&&f){p.push(c);break}else p.push(c|128)}return p},Pa=m=>{let p=[];for(;;){let c=m&127;if(m=m>>>7,m===0){p.push(c);break}p.push(c|128)}return p},Ae=1,Me=2,Ce=4,Oe=8,He=16,je=32,er=64,ke=128,Se=256,Ue=512,Re=1024,$e=2048,nn=4096,At=4,La={[Ae]:At,[Me]:At*2,[Ce]:At,[Oe]:At*2,[$e]:At,[Re]:At>>1,[Se]:At>>2,[ke]:At>>2,[Ue]:At>>1,[He]:At,[je]:At,[er]:At},at=!0;var It={i32:Ae,i64:Me,f32:Ce,f64:Oe,anyfunc:He,func:je,block_type:er,i8:ke,u8:Se,i16:Ue,u16:Re,u32:$e,u64:nn,set:(m,p,c,f)=>{switch(m){case Ae:return c.setInt32(p,f,at);case Me:return c.setInt64(p,f,at);case Ce:return c.setFloat32(p,f,at);case Oe:return c.setFloat64(p,f,at);case He:return c.setUint32(p,f,at);case je:return c.setUint32(p,f,at);case ke:return c.setInt8(p,f,at);case Se:return c.setUint8(p,f,at);case Ue:return c.setInt16(p,f,at);case Re:return c.setUint16(p,f,at);case $e:return c.setUint32(p,f,at);case nn:return c.setUint64(p,f,at);default:return c.setUint8(p,f,at)}},get:(m,p,c)=>{switch(m){case Ae:return c.getInt32(p,at);case Me:return c.getInt64(p,at);case Ce:return c.getFloat32(p,at);case Oe:return c.getFloat64(p,at);case He:return c.getUint32(p,at);case je:return c.getUint32(p,at);case ke:return c.getInt8(p,at);case Se:return c.getUint8(p,at);case Ue:return c.getInt16(p,at);case Re:return c.getUint16(p,at);case $e:return c.getUint32(p,at);case nn:return c.getUint64(p,at);default:return c.getUint8(p,at)}},sizeof:La},C=It.i32,S=It.i64,H=It.f32,it=It.f64,ut=It.u8,rn=It.u32,nr=It.set,sn=It.sizeof;class pt{constructor(){this.data=[],this.size=0}push(p,c,f){let _=0;switch(p){case"varuint7":case"varuint32":case"varint7":case"varint1":{c=Pa(c),_=c.length,A(_,"Cannot write a value of size ".concat(_));break}case"varint32":{c=tr(c),_=c.length,A(_,"Cannot write a value of size ".concat(_));break}case"varint64":{c=tr(c),_=c.length,A(_,"Cannot write a value of size ".concat(_));break}default:_=sn[p],A(_,"Cannot write a value of size ".concat(_,", type ").concat(p))}return this.data.push({type:p,value:c,debug:f}),this.size+=_,this}buffer(p=new ArrayBuffer(this.size)){let c=new DataView(p),f=0;return this.data.forEach(({type:_,value:d})=>{Array.isArray(d)?d.forEach(x=>nr(ut,f++,c,x)):(nr(_,f,c,d),f+=sn[_])}),p}write(p){return p&&(this.data=this.data.concat(p.data),this.size+=p.size),this}}function*wa(m,p){let c=0,f=0,_=0,d=p;for(;;){let g=m.getUint8(d,!0);if(c|=(g&127)<<_,d+=1,!(g&128))break;_+=7}let x=0;for(;f<c;){for(x=0,_=0;;){let g=m.getUint8(d,!0);if(x|=(g&127)<<_,d+=1,!(g&128))break;_+=7}f+=1,yield x}}function rr(m){let p=new pt,c=new pt;c.push("varuint32",m.length,m);let f=0;for(f=0;f<m.length;f++)c.push("varuint32",m.codePointAt(f),m[f]);return p.write(c),p}let Aa={"\\0":0,"\\a":7,"\\b":8,"\\t":9,"\\n":10,"\\v":11,"\\f":12,"\\r":13,"\\'":39},Ma={i64:8,f64:8,i32:4,f32:4};function Ca(m,p){let c=new pt,f=It[p];return m.forEach(_=>{c.push(f,_,String(_))}),c}function Oa(){let m=0;return{semantics:({stmt:p})=>({[b.StaticDeclaration]:c=>([f,_],d)=>{let{userTypes:x,statics:g}=_,y=String(f.type).slice(0,-2),L=Ma[y],E=f.params.reduce((j,U,N)=>{let z=d([U,_]);return j.OBJECT_SIZE+=L,j.TYPE_OBJECT[N]=N*L,j.OBJECT_KEY_TYPES[N]=y,j.VALUES.push(Number(z.value)),j},{OBJECT_SIZE:0,TYPE_OBJECT:{},OBJECT_KEY_TYPES:{},VALUES:[],STATIC:y}),P="__auto_gen_".concat(f.value,"_").concat(m);return m+=1,x[P]=$({},f,{value:P,Type:b.Type,meta:E,params:[]}),g[P]=Ca(E.VALUES,y),d([$({},f,{meta:E,type:P,Type:b.ImmutableDeclaration,params:[$({},f.params[0],{value:P,Type:b.StaticValueList})]}),_])},[b.ArraySubscript]:c=>([f,_],d)=>{let[x,g]=f.params.map(L=>d([L,_]));if(!x.meta.STATIC)return c([f,_]);let y={i32:2,f32:2,i64:3,f64:3}[x.meta.STATIC];return d([p(ts||(ts=xt(["",".load("," + ("," << ","));"])),x.meta.STATIC,x,g,y),_])},[b.CharacterLiteral]:c=>([f,_],d)=>{let x=Aa[f.value]||f.value.codePointAt(0);return d([$({},f,{Type:"Constant",type:"i32",value:String(x)}),_])},[b.StringLiteral]:c=>f=>{let[_,d]=f,{statics:x}=d,{value:g}=_;return g in x||(x[g]=rr(g)),_}})}}function Ha(){return{semantics(){return{[b.ImmutableDeclaration]:m=>function(p){let[c,f]=p;return!f.locals&&c.type==="Table"?$({},c,{meta:$({},c.meta,{[Nt]:-1})}):m(p)},[b.Identifier]:m=>function(p){let[c,f]=p,{functions:_,table:d,scopes:x}=f;return te(x,c.value)||!_[c.value]?m(p):(d[c.value]==null&&(d[c.value]=_[c.value]),$({},c,{type:"i32",meta:{[$t]:_[c.value].meta[$t]},value:Object.keys(d).indexOf(c.value),Type:b.FunctionPointer}))},[b.FunctionResult]:m=>(p,c)=>{let[f,_]=p,{types:d}=_;return d[f.type]?m([X({type:"i32",meta:{ALIAS:f.type},params:f.params.map(x=>c([x,_]))},f),_]):m(p)},[b.FunctionCall]:m=>function(p,c){let[f,_]=p,{scopes:d,types:x}=_,g=te(d,f.value);if(!g)return m(p);let y=x[g.type],L=Object.keys(x).indexOf(g.type),E=[...f.params.slice(1),$({},g,{Type:b.Identifier})].map(P=>c([P,_]));return $({},f,{meta:$({},f.meta,g.meta,{[me]:L}),type:y!=null?y.type:f.type,params:E,Type:b.IndirectFunctionCall})}}}}}let Ne="i32",ja={i64:8,f64:8,i32:4,f32:4,__DIRECT_ADDRESS__:4},ka=m=>{let p={},c={},f=0;return w({[b.Pair]:_=>{let[d]=_.params,x=d.value,g=_.params[1].value;A(p[x]==null,"Duplicate key ".concat(x," not allowed in object type")),c[x]="".concat(d.Type==="AddressOf"?"&":"").concat(g),p[x]=f,f+=ja[g]||4}})(m),[p,f,c]},Sa=m=>(p,c)=>{let f=m(es||(es=xt(["throw;"]))),_={load:X({range:c.range},m(ns||(ns=xt(["i32.load(",", ",");"])),f,f)),store:z=>X({range:c.range},m(rs||(rs=xt(["i32.store(",", ",");"])),f,z)),offset:f,type:"void"};if(p.meta.STRUCT_TYPE==null)return _;let d=p.meta.STRUCT_TYPE,x=d.meta.TYPE_OBJECT,g=d.meta.OBJECT_KEY_TYPES,y=x[c.value];if(y==null)return _;let L=g[c.value],E=L[0]==="&",P=y?m(ss||(ss=xt(["("," + ",");"])),p,y):m(as||(as=xt(["(",");"])),p),j=null,U=null;L!=null&&typeof L=="object"&&(j=L,L=Ne),String(L).endsWith("[]")&&(U=L.slice(0,-2).replace("&",""),L="i32");let N=X({range:p.range,meta:{STRUCT_TYPE:j,TYPE_ARRAY:U}});return{offset:P,type:L,store:z=>N(m(is||(is=xt(["",".store(",", ",");"])),L,P,z)),load:N(E?P:m(os||(os=xt(["",".load(",");"])),L,P))}};function Ua(){return{semantics({stmt:m}){let p=Sa(m);function c(_,d){let[x,g]=_,[y,L]=x.params,[E,P]=y.params,j=p(d([E,g]),P);return d([j.store(L),g])}function f(_,d){let[x,g]=_,[y,L]=x.params,E=d([y,g]),P=[];w({[b.Identifier]:(U,N)=>{let z=p(E,U);P.push({field:z,value:U})},[b.Pair]:(U,N)=>{let[z,W]=U.params,nt=p(E,z);P.push({field:nt,value:W})},[b.Spread]:(U,N)=>{let z=d([U.params[0],g]);Object.keys(z.meta.TYPE_OBJECT).forEach(W=>{let nt=p(E,{value:W,type:null,range:z.range}),et=p(z,{value:W,type:null,range:z.range});P.push({field:nt,value:et.load})})}})(L);let j=P.filter(({field:U})=>U!=null).map(U=>d([U.field.store(U.value),g]));return $({},y,{Type:b.Block,params:j})}return{[b.Struct]:_=>([d,x],g)=>{let{userTypes:y,aliases:L}=x,[E]=d.params,P=$({},d,{meta:$({},d.meta,{TYPE_OBJECT:{},OBJECT_SIZE:0,OBJECT_KEY_TYPES:{}})}),j=()=>{L[d.value]=E.value},U=(N,z)=>{let[W,nt,et]=ka(N);P.meta.TYPE_OBJECT=$({},P.meta.TYPE_OBJECT,W),P.meta.OBJECT_SIZE+=nt,P.meta.OBJECT_KEY_TYPES=$({},P.meta.OBJECT_KEY_TYPES,et)};return{[b.Type]:j,[b.Identifier]:j,[b.ObjectLiteral]:()=>{U(d),y[P.value]=P},[b.UnionType]:()=>{w({[b.ObjectLiteral]:U,[b.ArrayType]:N=>{P.meta.TYPE_ARRAY=N.type.slice(0,-2)},[b.Identifier]:N=>{let z=y[g([N,x]).value];P.meta.TYPE_OBJECT=$({},P.meta.TYPE_OBJECT,z.meta.TYPE_OBJECT),P.meta.OBJECT_SIZE=Math.max(P.meta.OBJECT_SIZE,z.meta.OBJECT_SIZE),P.meta.OBJECT_KEY_TYPES=$({},P.meta.OBJECT_KEY_TYPES,z.meta.OBJECT_KEY_TYPES)}})(E),y[P.value]=P}}[E.Type](),P.meta.OBJECT_KEY_TYPES=Object.entries(P.meta.OBJECT_KEY_TYPES).reduce((N,[z,W])=>(N[z]=y[W]||W,N),{}),P},[b.DeclType]:_=>(d,x)=>{let[g,y]=d,{aliases:L}=y;return L[g.value]?x([X({value:L[g.value],type:L[g.value]},g),y]):_(d)},[b.FunctionResult]:_=>(d,x)=>{let[g,y]=d,{userTypes:L,aliases:E}=y;return E[g.type]?x([X({type:E[g.type]},g),y]):L[String(g.type)]?_([X({type:Ne,meta:{STRUCT_TYPE:L[g.type]},params:g.params.map(P=>x([P,y]))},g),y]):_(d)},[b.Identifier]:_=>d=>{let[x,g]=d,{userTypes:y,scopes:L}=g,E=te(L,x.value);return E&&y[E.type]?$({},x,{meta:$({},x.meta,E.meta,y[E.type].meta,{STRUCT_TYPE:y[E.type]}),type:Ne}):_(d)},[b.Access]:function(_){return(d,x)=>{let[g,y]=d,[L,E]=g.params,P=p(x([L,y]),E);return x([P.load,y])}},[b.Assignment]:_=>(d,x)=>{let[g]=d,[y,L]=g.params;return y.Type===b.Access?c(d,x):L.Type===b.ObjectLiteral?f(d,x):_(d)},[b.ArraySubscript]:_=>(d,x)=>{let[g,y]=d,L=_(d);if(y.userTypes[L.meta.TYPE_ARRAY]==null)return L;let[E,P]=g.params.map(j=>x([j,y]));return x([X({type:Ne,meta:{STRUCT_TYPE:y.userTypes[L.meta.TYPE_ARRAY]}},m(ls||(ls=xt(["("," + ("," * sizeof(",")));"])),E,P,L.meta.TYPE_ARRAY)),y])}}}}}function Ra(){return{semantics(){return{[b.FunctionCall]:m=>(p,c)=>{let[f,_]=p,[d,...x]=f.params;if(d.Type===b.Access&&d.params[0]&&d.params[0].Type===b.Type){let[g,y]=d.params;return X({value:"".concat(g.value,".").concat(y.value),type:g.value,params:x.map(L=>c([L,_])),Type:b.NativeMethod},f)}return m(p)},[b.Unreachable]:m=>([p])=>X({value:"unreachable",params:[],Type:b.NativeMethod},p)}}}}function $a(){return{grammar:Gn,semantics(){return{[b.FunctionDeclaration]:m=>p=>{let[c,f]=p,[_]=c.params,d=[];return w({Assignment:x=>{let[,g]=x.params;d.push(g)}})(_),m([$({},c,{meta:$({},c.meta,{DEFAULT_ARGUMENTS:d})}),f])},[b.FunctionCall]:m=>p=>{let[c,f]=p,{functions:_}=f,[d,...x]=c.params,g=_[d.value];if(!g)return m(p);let y=g.meta.FUNCTION_METADATA.argumentsCount,L=x.length,E=y-L;return E>0?m([$({},c,{params:[...c.params,...g.meta.DEFAULT_ARGUMENTS.slice(E-1)]}),f]):m(p)}}}}}let Na={i64:8,f64:8,i32:4,f32:4};function Ia(){return{semantics(){return{[b.FunctionCall]:m=>p=>{let[c,f]=p;if(c.value!=="sizeof")return m(p);let{scopes:_,userTypes:d,functions:x}=f,[,g]=c.params,y=te(_,g.value),{type:L=""}=y||{},E=d[g.value]||d[L],P=x[g.value];if(E!=null){let U=E.meta[oa];return A(U,"Object size information is missing"),$({},c,{value:U,params:[],type:"i32",Type:b.Constant})}let j=y||P;return $({},c,{value:Na[String(j?j.type:g.value)],type:"i32",params:[],Type:b.Constant})}}}}}let Ba=()=>[ua().semantics,la().semantics,da().semantics,pa().semantics,fa().semantics,_a().semantics,ha().semantics,ba().semantics,Ea().semantics,Oa().semantics,Ha().semantics,Ua().semantics,Ra().semantics,Ia().semantics,$a().semantics];function an(m,p,c){let f=[...Ba(),...p],_=Vs(f.map(N=>N(c))),d={functions:{},types:{},userTypes:{},table:{},hoist:[],statics:{},path:[],scopes:Jn([],Nt),memories:[],tables:[],aliases:{},exports:{}},x=r(_)([m,d]),{functions:g,scopes:y,types:L,userTypes:E,statics:P,hoist:j,exports:U}=d;return $({},x,{meta:$({},x.meta,{[Xe]:{functions:g,globals:y[0],types:L,userTypes:E,statics:P,exports:U}}),params:[...x.params,...j]})}function St(m,p,c,f,_){let d=c.start.line,x=c.start.col,g=c.end.col,y=c.end.sourceLine,L=new Array(g-x+1).join("^").padStart(c.start.col-1," ");return"\n"+y+"\n"+L+" ".concat(p,"\n")+m+"\n  at ".concat(_," (").concat(f,":").concat(d,":").concat(x,")")}let D={},Da=[],on={},O=null,M=(m,p,c,f,_,d,x)=>{let g={result:m,first:p,second:c,size:f,code:_,name:d,text:x};return D[d]=g,Da[_]=g,on[x]=g,g};M(O,O,O,0,0,"Unreachable","unreachable"),M(O,O,O,0,1,"Nop","nop"),M(O,O,O,0,2,"Block","block"),M(O,O,O,0,3,"Loop","loop"),M(O,O,O,0,4,"If","if"),M(O,O,O,0,5,"Else","else"),M(O,O,O,0,6,"Try","try"),M(O,O,O,0,7,"Catch","catch"),M(O,O,O,0,8,"Throw","throw"),M(O,O,O,0,9,"Rethrow","rethrow"),M(O,O,O,0,10,"CatchAll","catch_all"),M(O,O,O,0,11,"End","end"),M(O,O,O,0,12,"Br","br"),M(O,O,O,0,13,"BrIf","br_if"),M(O,O,O,0,14,"BrTable","br_table"),M(O,O,O,0,15,"Return","return"),M(O,O,O,0,16,"Call","call"),M(O,O,O,0,17,"CallIndirect","call_indirect"),M(O,O,O,0,26,"Drop","drop"),M(O,O,O,0,27,"Select","select"),M(O,O,O,0,32,"GetLocal","get_local"),M(O,O,O,0,33,"SetLocal","set_local"),M(O,O,O,0,34,"TeeLocal","tee_local"),M(O,O,O,0,35,"GetGlobal","get_global"),M(O,O,O,0,36,"SetGlobal","set_global"),M(C,C,O,4,40,"i32Load","i32.load"),M(S,C,O,8,41,"i64Load","i64.load"),M(H,C,O,4,42,"f32Load","f32.load"),M(it,C,O,8,43,"f64Load","f64.load"),M(C,C,O,1,44,"i32Load8S","i32.load8_s"),M(C,C,O,1,45,"i32Load8U","i32.load8_u"),M(C,C,O,2,46,"i32Load16S","i32.load16_s"),M(C,C,O,2,47,"i32Load16U","i32.load16_u"),M(S,C,O,1,48,"i64Load8S","i64.load8_s"),M(S,C,O,1,49,"i64Load8U","i64.load8_u"),M(S,C,O,2,50,"i64Load16S","i64.load16_s"),M(S,C,O,2,51,"i64Load16U","i64.load16_u"),M(S,C,O,4,52,"i64Load32S","i64.load32_s"),M(S,C,O,4,53,"i64Load32U","i64.load32_u"),M(O,C,C,4,54,"i32Store","i32.store"),M(O,C,S,8,55,"i64Store","i64.store"),M(O,C,H,4,56,"f32Store","f32.store"),M(O,C,H,8,57,"f64Store","f64.store"),M(O,C,C,1,58,"i32Store8","i32.store8"),M(O,C,C,2,59,"i32Store16","i32.store16"),M(O,C,S,1,60,"i64Store8","i64.store8"),M(O,C,S,2,61,"i64Store16","i64.store16"),M(O,C,S,4,62,"i64Store32","i64.store32"),M(C,O,O,0,63,"CurrentMemory","current_memory"),M(C,C,O,0,64,"GrowMemory","grow_memory"),M(C,O,O,0,65,"i32Const","i32.const"),M(S,O,O,0,66,"i64Const","i64.const"),M(H,O,O,0,67,"f32Const","f32.const"),M(it,O,O,0,68,"f64Const","f64.const"),M(C,C,O,0,69,"i32Eqz","i32.eqz"),M(C,C,C,0,70,"i32Eq","i32.eq"),M(C,C,C,0,71,"i32Ne","i32.ne"),M(C,C,C,0,72,"i32LtS","i32.lt_s"),M(C,C,C,0,73,"i32LtU","i32.lt_u"),M(C,C,C,0,74,"i32GtS","i32.gt_s"),M(C,C,C,0,75,"i32GtU","i32.gt_u"),M(C,C,C,0,76,"i32LeS","i32.le_s"),M(C,C,C,0,77,"i32LeU","i32.le_u"),M(C,C,C,0,78,"i32GeS","i32.ge_s"),M(C,C,C,0,79,"i32GeU","i32.ge_u"),M(C,S,O,0,80,"i64Eqz","i64.eqz"),M(C,S,S,0,81,"i64Eq","i64.eq"),M(C,S,S,0,82,"i64Ne","i64.ne"),M(C,S,S,0,83,"i64LtS","i64.lt_s"),M(C,S,S,0,84,"i64LtU","i64.lt_u"),M(C,S,S,0,85,"i64GtS","i64.gt_s"),M(C,S,S,0,86,"i64GtU","i64.gt_u"),M(C,S,S,0,87,"i64LeS","i64.le_s"),M(C,S,S,0,88,"i64LeU","i64.le_u"),M(C,S,S,0,89,"i64GeS","i64.ge_s"),M(C,S,S,0,90,"i64GeU","i64.ge_u"),M(C,H,H,0,91,"f32Eq","f32.eq"),M(C,H,H,0,92,"f32Ne","f32.ne"),M(C,H,H,0,93,"f32Lt","f32.lt"),M(C,H,H,0,94,"f32Gt","f32.gt"),M(C,H,H,0,95,"f32Le","f32.le"),M(C,H,H,0,96,"f32Ge","f32.ge"),M(C,H,H,0,97,"f64Eq","f64.eq"),M(C,H,H,0,98,"f64Ne","f64.ne"),M(C,H,H,0,99,"f64Lt","f64.lt"),M(C,H,H,0,100,"f64Gt","f64.gt"),M(C,H,H,0,101,"f64Le","f64.le"),M(C,H,H,0,102,"f64Ge","f64.ge"),M(C,C,O,0,103,"i32Clz","i32.clz"),M(C,C,O,0,104,"i32Ctz","i32.ctz"),M(C,C,O,0,105,"i32Popcnt","i32.popcnt"),M(C,C,C,0,106,"i32Add","i32.add"),M(C,C,C,0,107,"i32Sub","i32.sub"),M(C,C,C,0,108,"i32Mul","i32.mul"),M(C,C,C,0,109,"i32DivS","i32.div_s"),M(C,C,C,0,110,"i32DivU","i32.div_u"),M(C,C,C,0,111,"i32RemS","i32.rem_s"),M(C,C,C,0,112,"i32RemU","i32.rem_u"),M(C,C,C,0,113,"i32And","i32.and"),M(C,C,C,0,114,"i32Or","i32.or"),M(C,C,C,0,115,"i32Xor","i32.xor"),M(C,C,C,0,116,"i32Shl","i32.shl"),M(C,C,C,0,117,"i32ShrS","i32.shr_s"),M(C,C,C,0,118,"i32ShrU","i32.shr_u"),M(C,C,C,0,119,"i32Rotl","i32.rotl"),M(C,C,C,0,120,"i32Rotr","i32.rotr"),M(S,S,O,0,121,"i64Clz","i64.clz"),M(S,S,O,0,122,"i64Ctz","i64.ctz"),M(S,S,O,0,123,"i64Popcnt","i64.popcnt"),M(S,S,S,0,124,"i64Add","i64.add"),M(S,S,S,0,125,"i64Sub","i64.sub"),M(S,S,S,0,126,"i64Mul","i64.mul"),M(S,S,S,0,127,"i64DivS","i64.div_s"),M(S,S,S,0,128,"i64DivU","i64.div_u"),M(S,S,S,0,129,"i64RemS","i64.rem_s"),M(S,S,S,0,130,"i64RemU","i64.rem_u"),M(S,S,S,0,131,"i64And","i64.and"),M(S,S,S,0,132,"i64Or","i64.or"),M(S,S,S,0,133,"i64Xor","i64.xor"),M(S,S,S,0,134,"i64Shl","i64.shl"),M(S,S,S,0,135,"i64ShrS","i64.shr_s"),M(S,S,S,0,136,"i64ShrU","i64.shr_u"),M(S,S,S,0,137,"i64Rotl","i64.rotl"),M(S,S,S,0,138,"i64Rotr","i64.rotr"),M(H,H,H,0,139,"f32Abs","f32.abs"),M(H,H,H,0,140,"f32Neg","f32.neg"),M(H,H,H,0,141,"f32Ceil","f32.ceil"),M(H,H,H,0,142,"f32Floor","f32.floor"),M(H,H,H,0,143,"f32Trunc","f32.trunc"),M(H,H,H,0,144,"f32Nearest","f32.nearest"),M(H,H,H,0,145,"f32Sqrt","f32.sqrt"),M(H,H,H,0,146,"f32Add","f32.add"),M(H,H,H,0,147,"f32Sub","f32.sub"),M(H,H,H,0,148,"f32Mul","f32.mul"),M(H,H,H,0,149,"f32Div","f32.div"),M(H,H,H,0,150,"f32Min","f32.min"),M(H,H,H,0,151,"f32Max","f32.max"),M(H,H,H,0,152,"f32Copysign","f32.copysign"),M(H,H,H,0,153,"f32Abs","f64.abs"),M(H,H,H,0,154,"f32Neg","f64.neg"),M(H,H,H,0,155,"f32Ceil","f64.ceil"),M(H,H,H,0,156,"f32Floor","f64.floor"),M(H,H,H,0,157,"f32Trunc","f64.trunc"),M(H,H,H,0,158,"f32Nearest","f64.nearest"),M(H,H,H,0,159,"f32Sqrt","f64.sqrt"),M(it,it,it,0,160,"f64Add","f64.add"),M(it,it,it,0,161,"f64Sub","f64.sub"),M(it,it,it,0,162,"f64Mul","f64.mul"),M(it,it,it,0,163,"f64Div","f64.div"),M(it,it,it,0,164,"f64Min","f64.min"),M(it,it,it,0,165,"f64Max","f64.max"),M(it,it,it,0,166,"f64Copysign","f64.copysign"),M(C,S,O,0,167,"i32Wrapi64","i32.wrap/i64"),M(C,H,O,0,168,"i32TruncSf32","i32.trunc_s/f32"),M(C,H,O,0,169,"i32TruncUf32","i32.trunc_u/f32"),M(C,H,O,0,170,"i32TruncSf64","i32.trunc_s/f64"),M(C,H,O,0,171,"i32TruncUf64","i32.trunc_u/f64"),M(S,C,O,0,172,"i64ExtendSi32","i64.extend_s/i32"),M(S,C,O,0,173,"i64ExtendUi32","i64.extend_u/i32"),M(S,H,O,0,174,"i64TruncSf32","i64.trunc_s/f32"),M(S,H,O,0,175,"i64TruncUf32","i64.trunc_u/f32"),M(S,H,O,0,176,"i64TruncSf64","i64.trunc_s/f64"),M(S,H,O,0,177,"i64TruncUf64","i64.trunc_u/f64"),M(H,C,O,0,178,"f32ConvertSi32","f32.convert_s/i32"),M(H,C,O,0,179,"f32ConvertUi32","f32.convert_u/i32"),M(H,S,O,0,180,"f32ConvertSi64","f32.convert_s/i64"),M(H,S,O,0,181,"f32ConvertUi64","f32.convert_u/i64"),M(H,H,O,0,182,"f32Demotef64","f32.demote/f64"),M(H,C,O,0,183,"f64ConvertSi32","f64.convert_s/i32"),M(H,C,O,0,184,"f64ConvertUi32","f64.convert_u/i32"),M(H,S,O,0,185,"f64ConvertSi64","f64.convert_s/i64"),M(H,S,O,0,186,"f64ConvertUi64","f64.convert_u/i64"),M(H,H,O,0,187,"f64Promotef32","f64.promote/f32"),M(C,H,O,0,188,"i32Reinterpretf32","i32.reinterpret/f32"),M(S,H,O,0,189,"i64Reinterpretf64","i64.reinterpret/f64"),M(H,C,O,0,190,"f32Reinterpreti32","f32.reinterpret/i32"),M(H,S,O,0,191,"f32Reinterpreti64","f64.reinterpret/i64");let sr=(m,p)=>{let c=m[0];return["i32","bool"].includes(m)&&p==="i64"?D.i32Wrapi64:m==="i64"&&["i32","bool"].includes(p)?D.i64ExtendSi32:m==="f32"&&p==="f64"?D.f32Demotef64:m==="f64"&&p==="f32"?D.f64Promotef32:D[m+(c==="f"?"ConvertS":"TruncS")+p]},ar=({type:m,value:p})=>({"+":D[String(m)+"Add"],"-":D[String(m)+"Sub"],"*":D[String(m)+"Mul"],"/":D[String(m)+"DivS"]||D[String(m)+"Div"],"%":D[String(m)+"RemS"]||D[String(m)+"RemU"],"==":D[String(m)+"Eq"],"!=":D[String(m)+"Ne"],">":D[String(m)+"Gt"]||D[String(m)+"GtS"],"<":D[String(m)+"Lt"]||D[String(m)+"LtS"],"<=":D[String(m)+"Le"]||D[String(m)+"LeS"],">=":D[String(m)+"Ge"]||D[String(m)+"GeS"],"?":D.If,":":D.Else,"&":D[String(m)+"And"],"|":D[String(m)+"Or"],"^":D[String(m)+"Xor"],">>":D[String(m)+"ShrS"],">>>":D[String(m)+"ShrU"],"<<":D[String(m)+"Shl"]})[p],ne=127,re=126,se=125,ae=124,ir=112,or=96,Fa={i32:ne,i64:re,f32:se,f64:ae},Ie=m=>{switch(m){case re:return"i64";case se:return"f32";case ae:return"f64";case or:return"func";case ir:return"anyfunc";case ne:default:return"i32"}},ln=m=>{let p={};return w({[b.Pair]:({params:c})=>{let[{value:f},{value:_}]=c;p[f]=parseInt(_)}})(m),p},za=m=>{let p=m.value||"??",c=m.type,f=ar({value:p,type:c||"i32"});return c?f.text:f.text.replace("i32","??")},lr=m=>{let p=[];return w({[b.Pair]:(c,f)=>{p.push("".concat(c.params[0].value," ").concat(c.params[1].value))},[b.Type]:c=>{p.push(c.value)}})(m),p.length?" param("+p.join(" ")+")":""},ur=m=>m==null?"":" (result "+(m.type||"??")+")",pr=m=>{let[p,c]=m.params;return"(type "+m.value+" (func".concat(lr(p)).concat(ur(c),"))")},Gt=(m,p,{value:c,params:f})=>{f.filter(Boolean).length?(m("(".concat(c),2),f.forEach(p),m(")",0,-2)):m("(".concat(c,")"),0,0)},Va=m=>({[b.Import]:(p,c)=>{let[f,_]=p.params;w({[b.Pair]:({params:d},x)=>{let{value:g}=d[0],y=d[1];if(y.value==="Memory"){let L=ln(y);m('(import "'.concat(_.value,'" "').concat(g,'" (memory ').concat(L.initial).concat(L.max?L.max:"","))"))}else m('(import "'.concat(_.value,'" "').concat(g,'" ').concat(pr(y),")"))},[b.Identifier]:(d,x)=>{let{value:g}=d;m('(import "'.concat(_.value,'" "').concat(g,'" (type ??))'))}})(f)},[b.Export]:(p,c)=>{m("(export",2),p.params.forEach(c),m(")",0,-2)},[b.GenericType]:(p,c)=>{m(";; Pseudo type",0,0),m("(type-generic "+p.value+")",0,0)},[b.FunctionCall]:({value:p,params:c},f)=>{Gt(m,f,{value:"call ".concat(p),params:c})},[b.Block]:({params:p},c)=>{Gt(m,c,{value:"block",params:p})},[b.NativeMethod]:(p,c)=>{Gt(m,c,p)},[b.BinaryExpression]:(p,c)=>{let f=za(p);Gt(m,c,{value:f,params:p.params})},[b.ArraySubscript]:({params:p},c)=>{m(";; unparsed",0,0),Gt(m,c,{value:"subscript",params:p})},[b.Typedef]:(p,c)=>{m(pr(p))},[b.Struct]:(p,c)=>{m(";; Pseudo struct type",0,0),Gt(m,c,{value:"type-struct "+p.value,params:p.params})},[b.Identifier]:p=>{let c=p.meta[Nt]!=null?"global":"local";m("(get_".concat(c," ").concat(p.value,")"))},[b.Constant]:p=>{m("(".concat(String(p.type),".const ").concat(p.value,")"))},[b.FunctionPointer]:p=>{m("(".concat(String(p.type),".table_pointer ").concat(p.value,")"))},[b.FunctionDeclaration]:(p,c)=>{let[f,_,...d]=p.params;m("(func ".concat(p.value).concat(lr(f)).concat(ur(_)),2),d.forEach(c),m(")",0,-2)},[b.ReturnStatement]:({params:p},c)=>{Gt(m,c,{value:"return",params:p})},[b.Declaration]:(p,c)=>{m("(local "+p.value+" "+String(p.type),2,0),p.params.forEach(c),m(")",0,-2)},[b.ImmutableDeclaration]:(p,c)=>{let f=p.meta[Nt]!=null?"global":"local";if(p.type==="Memory"){let _=ln(p);m("(memory ".concat(_.initial).concat(_.max?" ".concat(_.max):"",")"))}else m("(".concat(f," ")+p.value+" "+String(p.type),2,0),p.params.forEach(c),m(")",0,-2)},[b.StringLiteral]:p=>{m('; string "'.concat(p.value,'"'),0,0),m("(i32.const ??)",0,0)},[b.Type]:p=>{m(p.value)},[b.TypeCast]:(p,c)=>{let f=p.params[0],_=sr(String(p.type),f.type);m("("+_.text,2),p.params.forEach(c),m(")",0,-2)},[b.Access]:({params:p},c)=>{m(";; unparsed",0,0),Gt(m,c,{value:"access",params:p})},[b.MemoryAssignment]:(p,c)=>{m("("+String(p.type)+".store",2,0),p.params.forEach(c),m(")",0,-2)},[b.Assignment]:(p,c)=>{let[f,..._]=p.params,d=f.meta[Nt]!=null?"global":"local";m("(set_".concat(d," ").concat(f.value),2),[b.ArraySubscript,b.Access].includes(f.Type)&&c(f),_.forEach(c),m(")",0,-2)},[b.TernaryExpression]:(p,c)=>{let[f,_,d]=p.params;m("(select",2),c(f),c(_),c(d),m(")",0,-2)},[b.IfThenElse]:(p,c)=>{let[f,_,...d]=p.params;m("(if",2),c(f),m("(then",2),c(_),m(")",0,-2),d.length>0&&(m("(else",2),d.forEach(c),m(")",0,-2)),m(")",0,-2)},[b.ObjectLiteral]:(p,c)=>{}}),cr=m=>{if(m==null)return"";let p=0,c=[],f=[];return w(Va((_,d=0,x=0)=>{p+=x,f.push(_),c.push(p+_.length),p+=d}))(m),f.reduce((_,d,x)=>(_+=d.padStart(c[x]," ")+"\n",_),"")},mr=Pe((m,p)=>{let c=p.meta[Le],f=p.meta[Nt],_=c!=null?c:f;A(_!=null,"Undefined index for scope Operation. Possibly missing metadata. op: ".concat(JSON.stringify(m)," node: ").concat(cr(p)));let d=c!=null?m+"Local":m+"Global",x=[Number(_)];return{kind:D[d],params:x,debug:"".concat(p.value,"<").concat(p.meta.ALIAS||p.type,">")}}),Ga=m=>{switch(m){case wt.f32:return se;case wt.f64:return ae;case wt.i64:return re;case wt.i32:default:return ne}},fe=m=>typeof m=="string"&&wt[m]!=null,fr=m=>({mutable:m.meta[we]?0:1,type:Ga(m.type)}),Wa=mr("Set"),_r=mr("Get"),Be="global";function un(m,{filename:p}){let c=m.meta[Xe];if(c==null)throw new Error("Missing AST metadata!");let{types:f,functions:_,userTypes:d}=c,x=[];w({[b.Import]:(y,L)=>{w({[b.BinaryExpression]:(E,P)=>{let[j,U]=E.range;x.push(St("Using an 'as' import without a type.","A type for original import "+E.params[0].value+" is not defined nor could it be inferred.",{start:j,end:U},p,Be))},[b.Identifier]:(E,P)=>{let[j,U]=E.range;x.push(St("Infered type not supplied.","Looks like you'd like to infer a type, but it was never provided by a linker. Non-concrete types cannot be compiled.",{start:j,end:U},p,Be))},[b.Pair]:(E,P)=>{let j=E.params[1];if(!fe(j.value)&&f[j.value]==null){let[U,N]=j.range;x.push(St("Undefined Type ".concat(j.value),"Invalid Import. ".concat(j.value," type does not exist"),{start:U,end:N},p,Be))}}})(y)},[b.Struct]:(y,L)=>{},[b.ImmutableDeclaration]:(y,L)=>{},[b.Declaration]:(y,L)=>{let[E,P]=y.range;!fe(y.type)&&!f[y.type]&&!d[y.type]&&x.push(St('Unknown type used in a declaration, "'.concat(String(y.type),'"'),"Variables must be assigned with a known type.",{start:E,end:P},p,Be))},[b.FunctionDeclaration]:(y,L)=>{let E="".concat(y.value,"()");w({[b.Declaration]:(P,j)=>{let[U,N]=P.range;!fe(P.type)&&!f[P.type]&&!d[P.type]&&x.push(St('Unknown type used in a declartion, "'.concat(String(P.type),'"'),"Variables must be assigned with a known type.",{start:U,end:N},p,E))},[b.Assignment]:P=>{let[j]=P.params,[U,N]=P.range;j.meta[we]&&x.push(St("Cannot reassign a const variable ".concat(j.value),"const variables cannot be reassigned, use let instead.",{start:U,end:N},p,E))},[b.ArraySubscript]:P=>{let[j]=P.params,[U,N]=P.range;x.push(St("Invalid subscript target","Expected array type for ".concat(j.value,", received ").concat(j.type),{start:U,end:N},p,E))},[b.NativeMethod]:(P,j)=>{let{value:U}=P,[N={},z]=P.params,[W,nt]=P.range;N.value==="unreachable"&&(U.includes("store")||U.includes("load"))&&x.push(St("Cannot generate property access",'Cannot assign "'.concat(z.value,'". Key is "').concat(N.value,'"'),{start:W,end:nt},p,E))},[b.ReturnStatement]:(P,j)=>{if(P.params.map(j),y.type==null)return;let[U]=P.params,[N]=P.range,z=U!=null?U.range[1]:P.range[1],W=P.type;Vt(W)!==Vt(y.type)&&x.push(St("Missing return value","Inconsistent return value. Expected "+y.type+" received "+String(W),{start:N,end:z},p,E))},[b.FunctionCall]:(P,j)=>{if(_[P.value]==null){let[U,N]=P.range;x.push(St("Undefined function reference","".concat(P.value," is not defined."),{start:U,end:N},p,E))}},[b.IndirectFunctionCall]:(P,j)=>{let U=P.params[P.params.length-1],N=f[U.type];if(!fe(U.type)&&N==null){let[z,W]=P.range;x.push(St("Cannot make an indirect call without a valid function type","".concat(U.value," has type ").concat(String(U.type)," which is not defined. Indirect calls must have pre-defined types."),{start:z,end:W},p,E))}}})(y)}})(m);let g=x.length;if(g>0){let y=x.reduce((L,E)=>L+"\n".concat(E,"\n"),"Cannot generate WebAssembly for ".concat(p,". ").concat(g," problems.\n"));throw new Error(y)}}let mt=(m,p)=>(Array.isArray(p)?m=[...m,...p]:m.push(p),m),Ya=(m,p)=>{let c=m.params.map(ht(p)).reduce(mt,[]),f=m.meta[$t];return c.push({kind:D.Call,params:[f],debug:"".concat(m.value,"<").concat(m.type?m.type:"void",">")}),c},qa=(m,p)=>{let c=m.params.map(ht(p)).reduce(mt,[]),f=m.meta[Le],_=m.meta[me];return A(f!=null,"Undefined local index, not a valid function pointer"),A(_!=null,"Variable is not of a valid function pointer type"),[...c,{kind:D.CallIndirect,params:[_,0]}]},Qa=(m,p)=>{let c=m.params.map(ht(p)).reduce(mt,[]);return c.push({kind:ar($({},m,{type:m.type})),params:[]}),c},Ja=(m,p)=>{let c=m.params.map(ht(p)).reduce(mt,[]);return c.push({kind:D.Select,params:[]}),c},Za=(m,p)=>{let c=ht(p),[f,_,...d]=m.params;return[...[f].map(c).reduce(mt,[]),{kind:D.If,params:[64]},...[_].map(c).reduce(mt,[]),...d.map(c).reduce(mt,[]),{kind:D.End,params:[]}]},Ka=m=>[{kind:D.i32Const,params:[Number(m.value)]}],Xa=m=>{let p=m.params.filter(Boolean).map(ht(null)).reduce(mt,[]);return p.push({kind:D.Return,params:[]}),p},ti=(m,p)=>[m].map(ht(p)).reduce(mt,[]),ei=(m,p)=>{let c=m.params[0];if(c){let f=m.meta[Le],_=fe(m.type)?m.type:dt;return[...ti($({},c,{type:_}),p),{kind:D.SetLocal,params:[f],debug:"".concat(m.value,"<").concat(String(m.type),">")}]}return[]},ni=m=>{let[p,c]=m.params,f=[c].map(ht(null)).reduce(mt,[]);return f.push(Wa(p)),f},ri=m=>{let[p,c]=m.params,f=[c].map(ht(null)).reduce(mt,[]);return f.push({kind:D.TeeLocal,params:[Number(p.meta.LOCAL_INDEX)],debug:"".concat(p.value,"<").concat(String(p.meta.ALIAS||p.type),">")}),f},si=(m,p)=>{let c=[],f=ht(p),[_,d,...x]=m.params;return c.push.apply(c,[_].map(f).reduce(mt,[])),c.push({kind:D.Block,params:[64]}),c.push({kind:D.Loop,params:[64]}),c.push.apply(c,[d].map(f).reduce(mt,[])),c.push({kind:D.i32Eqz,params:[]}),c.push({kind:D.BrIf,params:[1]}),c.push.apply(c,x.map(f).reduce(mt,[])),c.push({kind:D.Br,params:[0]}),c.push({kind:D.End,params:[]}),c.push({kind:D.End,params:[]}),c},ai=(m,p)=>{let c=m.meta[Ke];A(c,"Cannot generate typecast for node: ".concat(JSON.stringify(m)));let{to:f,from:_}=c;return[...m.params.map(ht(p)).reduce(mt,[]),{kind:sr(f,_),params:[]}]},ii=()=>[{kind:D.Br,params:[2]}];function oi(){return[]}let li=(m,p)=>m.params.map(ht(p)).reduce(mt,[]),ui=(m,p)=>[{kind:D.Else,params:[]},...m.params.map(ht(p)).reduce(mt,[])],pi=(m,p)=>{let[c,f]=m.params,_={kind:D.Select,params:[]},d=[c].map(ht(p)).reduce(mt,[]);return m.value==="&&"?[...[f].map(ht(p)).reduce(mt,[]),{kind:D.i32Const,params:[0]},...d,_]:[...d,...[f].map(ht(p)).reduce(mt,[]),...d,_]},dr={load8_s:0,load8_u:0,store8:0,load16_s:1,load16_u:1,store16:1,store32:2,load32_s:2,load32_u:2,store:2,load:2},ci={grow_memory:0,current_memory:0},mi=(m,p)=>{let c=m.params.map(ht(p)).reduce(mt,[]),f=m.value.split(".").pop();if(dr[f]==null)c.push({kind:on[m.value],params:[ci[m.value]]});else{let _=dr[f];c.push({kind:on[m.value],params:[_,0]})}return c},fi=m=>{let p=D[String(m.type)+"Const"],c=(m.meta.SIGN||1)*Number(m.value);return[{kind:p,params:[c]}]},_i={[b.FunctionCall]:Ya,[b.IndirectFunctionCall]:qa,[b.Constant]:fi,[b.BinaryExpression]:Qa,[b.TernaryExpression]:Ja,[b.IfThenElse]:Za,[b.Else]:ui,[b.Select]:pi,[b.Block]:li,[b.Identifier]:_r,[b.FunctionIdentifier]:_r,[b.FunctionPointer]:Ka,[b.ReturnStatement]:Xa,[b.Declaration]:ei,[b.Assignment]:ni,[b.AssignmentExpression]:ri,[b.Loop]:si,[b.Break]:ii,[b.TypeCast]:ai,[b.Noop]:oi,[b.NativeMethod]:mi},ht=Pe((m,p)=>{let c=_i[p.Type];return A(c,"Unsupported Syntax Token. ".concat(p.Type,' "').concat(p.value,'"')),c(p,m)}),di=m=>({functionIndex:m}),pn=0,De=1,Fe=2,_e=3,hi={Memory:Fe,Table:De};function yi(m){let p=m.meta[$t],c=m.meta[Nt];if(c!=null){let f=hi[String(m.type)]||_e;return{index:[Fe,De].includes(f)?0:c,kind:f,field:m.value}}return{index:p,kind:pn,field:m.value}}let xi=m=>{let p={max:0,initial:0};return w({[b.Pair]:({params:c})=>{let[{value:f},{value:_}]=c;p[f]=parseInt(_)}})(m),p};function gi(m){let p={max:0,initial:0,type:"element"};return w({[b.Pair]:({params:c})=>{let[{value:f},{value:_}]=c;switch(f){case"initial":p.initial=parseInt(_);break;case"element":p.type=_;break;case"max":p.max=parseInt(_);break}}})(m),p}let Ti=m=>{let p=fr(m),[c]=m.params;if(c!=null){let{value:f}=c;switch(p.type){case se:case ae:p.init=parseFloat(f);break;case ne:case re:default:p.init=parseInt(f)}}return p},bi=m=>{switch(m){case"Memory":return Fe;case"Table":return De;case"i32":case"f32":case"i64":case"f64":return _e;default:return pn}},vi=m=>{let p=m.value;return m.meta.AS!=null?m.meta.AS:p};function Ei(m){let[p,c]=m.params,{value:f}=c,_=[];return w({[b.Pair]:(d,x)=>{let[g,y]=d.params,L=vi(g),{value:E}=y,P=bi(E),j=y.meta[me]||null,U=E==="Memory"?ln(y):{};_.push($({module:f,field:L,global:P===_e,kind:P,type:Fa[E],typeIndex:j},U))}})(p),_}let ie=m=>{switch(m){case"f32":return se;case"f64":return ae;case"i64":return re;case"i32":case"Function":default:return ne}},hr=m=>{let[p]=m.params,c=m.type?ie(m.type):null,f=[];return w({[b.Pair]:_=>{let d=_.params[1];A(d,"Undefined type in a argument expression"),f.push(ie(d.value))}})(p),{params:f,result:c,id:m.value}};function Pi(m){let p=m.value;A(typeof p=="string","Generator: A type must have a valid string identifier, node: ".concat(JSON.stringify(m)));let[c,f]=m.params,_=[];return w({[b.DeclType]:(d,x)=>{_.push(ie(d.value))},[b.Type]:(d,x)=>{_.push(ie(d.value))},[b.Identifier]:(d,x)=>{_.push(ie(d.value))}})(c),{id:p,params:_,result:f.type&&f.type!=="void"?ie(f.type):null}}function Li(m,p){let c=p,f={},_=Object.entries(m).reduce((x,[g,y])=>(x.push({offset:Number(c),data:y}),f[g]=c,c+=y.size,x),[]),d=new pt;return d.push(rn,c,String(c)),{data:[{offset:0,data:d},..._],map:f}}let wi=4,Ai=m=>{let[p,c,...f]=m.params,_=m.meta[tn];A(f,"Cannot generate code for function without body"),A(_,"Cannot generate code for function without metadata");let{locals:d,argumentsCount:x}=_,g={code:[],locals:Object.keys(d).slice(x).map(y=>fr(d[y])),debug:"Function ".concat(m.value)};return g.code=f.map(ht(g)).reduce(mt,[]),g};function cn(m,p){let c={Version:p.version,Types:[],Start:[],Element:[],Code:[],Exports:[],Imports:[],Globals:[],Functions:[],Memory:[],Table:[],Artifacts:[],Data:[],Name:{module:p.filename,functions:[],locals:[]}},{statics:f}=m.meta[Xe];p.linker!=null&&(f=$({},p.linker.statics,f));let{map:_,data:d}=Li(f,wi);Object.keys(f).length>0&&(c.Data=d);let x=P=>{let j=hr(P);return c.Types.findIndex(U=>{let N=U.params.length===j.params.length&&U.params.reduce((W,nt,et)=>W&&nt===j.params[et],!0),z=U.result===j.result;return N&&z})},g=P=>c.Element.findIndex(j=>j.functionIndex===P),y={},L=h({[b.Typedef]:(P,j)=>{let U=c.Types.findIndex(({id:z})=>z===P.value),N=c.Types[U];return N==null&&(U=c.Types.length,c.Types.push(Pi(P))),N=$({},P,{meta:$({},P.meta,{[me]:U})}),y[P.value]={typeIndex:U,typeNode:N},N}})(h({[b.Import]:(P,j)=>P,[b.StringLiteral]:(P,j)=>{let{value:U}=P;return _[U]==null?P:$({},P,{value:String(_[U]),Type:b.Constant})},[b.StaticValueList]:P=>{let{value:j}=P;return $({},P,{value:String(_[j]),Type:b.Constant})}})(m)),E={[b.Typedef]:(P,j)=>P,[b.Export]:P=>{let[j]=P.params;c.Exports.push(yi(j))},[b.ImmutableDeclaration]:P=>{switch(P.type){case"Memory":c.Memory.push(xi(P));break;case"Table":c.Table.push(gi(P));break}},[b.Declaration]:P=>{P.meta[Nt]!=null&&c.Globals.push(Ti(P))},[b.Import]:P=>{c.Imports.push(...Ei(P))},[b.FunctionDeclaration]:P=>{let j=(()=>{let z=x(P);return z===-1?(c.Types.push(hr(P)),c.Types.length-1):z})(),U=h({FunctionPointer(z){let W=z.meta[$t],nt=g(W);return nt<0&&(nt=c.Element.length,c.Element.push(di(W))),z}})(P),N=P.meta[$t];if(A(N!=null,"Function index must be set"),c.Functions[N]=j,c.Code[N]=Ai(U),U.value==="start"&&c.Start.push(N),p.encodeNames){c.Name.functions.push({index:N,name:P.value});let z=P.meta[tn];z!=null&&Object.keys(z.locals).length&&(c.Name.locals[N]={index:N,locals:Object.entries(z.locals).map(([W,nt])=>({name:W,index:Number(nt.meta["local/index"])}))})}}};return w(E)(L),c.Code=c.Code.filter(Boolean),c}let yr=1,Mi=1836278016;function Ci(m){return new pt().push(rn,Mi,"\\0asm").push(rn,m,"version ".concat(m))}let mn="varuint7",Y="varuint32",de="varint7",oe="varint1",fn="varint32",xr="varint64";function qt(m,p,c){m.push(Y,p.length,c);for(let f=0;f<p.length;f++)m.push(ut,p.charCodeAt(f),p[f]);return m}let Oi=m=>{let p=new pt().push(Y,m.length,"entry count");return m.forEach(c=>{switch(qt(p,c.module,"module"),qt(p,c.field,"field"),c.kind){case _e:{p.push(ut,_e,"Global"),p.push(ut,c.type,Ie(c.type)),p.push(ut,0,"immutable");break}case pn:{p.push(ut,c.kind,"Function"),p.push(Y,c.typeIndex,"type index");break}case De:{p.push(ut,c.kind,"Table"),p.push(ut,ir,"function table types"),p.push(oe,0,"has max value"),p.push(Y,0,"iniital table size");break}case Fe:{p.push(ut,c.kind,"Memory"),p.push(oe,!!c.max,"has no max"),p.push(Y,c.initial,"initial memory size(PAGES)"),c.max&&p.push(Y,c.max,"max memory size(PAGES)");break}}}),p},Hi=m=>{let p=new pt;return p.push(Y,m.length,"count"),m.forEach(({field:c,kind:f,index:_})=>{qt(p,c,"field"),p.push(ut,f,"Global"),p.push(Y,_,"index")}),p},ji=(m,{type:p,init:c,mutable:f})=>{switch(m.push(ut,p,Ie(p)),m.push(ut,f,"mutable"),p){case ne:m.push(ut,D.i32Const.code,D.i32Const.text),m.push(fn,c,"value (".concat(c,")"));break;case se:m.push(ut,D.f32Const.code,D.f32Const.text),m.push(H,c,"value (".concat(c,")"));break;case ae:m.push(ut,D.f64Const.code,D.f64Const.text),m.push(it,c,"value (".concat(c,")"));break;case re:m.push(ut,D.i64Const.code,D.i64Const.text),m.push(xr,c,"value (".concat(c,")"))}m.push(ut,D.End.code,"end")},ki=m=>{let p=new pt;return p.push(Y,m.length,"count"),m.forEach(c=>ji(p,c)),p},Si=m=>{m=m.filter(c=>c!==null);let p=new pt;return p.push(Y,m.length,"count"),m.forEach(c=>p.push(Y,c,"type index")),p};function Ui(m){let p=new pt;return p.push(Y,m[0],"start function"),p}let Ri=m=>({functionIndex:p},c)=>{m.push(Y,0,"table index"),m.push(ut,D.i32Const.code,"offset"),m.push(Y,c,c.toString()),m.push(ut,D.End.code,"end"),m.push(Y,1,"number of elements"),m.push(Y,p,"function index")},$i=m=>{let p=new pt;return p.push(Y,m.length,"count"),m.forEach(Ri(p)),p},Ni=(m,{params:p,result:c},f)=>{m.push(de,or,"func type (".concat(f,")")),m.push(Y,p.length,"parameter count"),p.forEach(_=>m.push(de,_,"param")),c?(m.push(oe,1,"result count"),m.push(de,c,"result type ".concat(Ie(c)))):m.push(oe,0,"result count")},Ii=m=>{let p=new pt;return p.push(Y,m.length,"count"),m.forEach((c,f)=>Ni(p,c,f)),p},Bi=(m,p)=>{m.push(Y,1,"number of locals of following type"),m.push(de,p.type,"".concat(Ie(p.type)))},Di=(m,{locals:p,code:c,debug:f})=>{let _=new pt;c.forEach(({kind:x,params:g,debug:y})=>{A(typeof x<"u","Fatal error! Generated undefined opcode. debug code: ".concat(JSON.stringify(y))),_.push(ut,x.code,"".concat(x.text,"  ").concat(y||"")),g.filter(L=>typeof L<"u").forEach(L=>{let E=Y,P="i32.literal";if(x.code>=40&&x.code<=64)E=Y,P="memory_immediate";else switch(x.result){case it:E=it,P="f64.literal";break;case H:E=H,P="f32.literal";break;case C:E=fn,P="i32.literal";break;case S:E=xr,P="i64.literal";break;default:E=Y}_.push(E,L,"".concat(P))})});let d=new pt;p.forEach(x=>Bi(d,x)),m.push(Y,_.size+d.size+2,f),m.push(Y,p.length,"locals count"),m.write(d),m.write(_),m.push(ut,D.End.code,"end")},Fi=m=>{let p=new pt;return p.push(Y,m.length,"function count"),m.forEach(c=>Di(p,c)),p},zi=(m,p)=>{m.push(oe,p.max?1:0,"has no max"),m.push(Y,p.initial,"initial memory size(PAGES)"),p.max&&m.push(Y,p.max,"max memory size(PAGES)")},Vi=m=>{let p=new pt;return p.push(Y,m.length,"count"),m.forEach(c=>zi(p,c)),p},Gi={anyfunc:112},Wi=(m,p)=>{m.push(de,Gi[p.type],p.type),m.push(oe,p.max?1:0,"has max"),m.push(Y,p.initial,"initial table size"),p.max&&m.push(Y,p.max,"max table size")};function Yi(m){let p=new pt;return p.push(Y,m.length,"count"),m.forEach(c=>Wi(p,c)),p}let qi=(m,p)=>{m.push(Y,0,"memory index");let{offset:c,data:f}=p;m.push(ut,D.i32Const.code,D.i32Const.text),m.push(fn,c,"segment offset (".concat(c,")")),m.push(ut,D.End.code,"end"),m.push(Y,f.size,"segment size"),m.write(f)};function Qi(m){let p=new pt;p.push(Y,m.length,"entries");for(let c=0,f=m.length;c<f;c++){let _=m[c];qi(p,_)}return p}let Ji=m=>{let p=new pt;return qt(p,m,"name_len: ".concat(m)),p},Zi=m=>{let p=new pt;return p.push(Y,m.length,"count: ".concat(String(m.length))),m.forEach(({index:c,name:f})=>{p.push(Y,c,"index: ".concat(String(c))),qt(p,f,"name_len: ".concat(f))}),p},Ki=m=>{let p=new pt;return p.push(Y,m.length,"count: ".concat(String(m.length))),m.forEach(({index:c,locals:f})=>{p.push(Y,c,"function index: ".concat(String(c))),p.push(Y,f.length,"number of params and locals ".concat(f.length)),f.forEach(({index:_,name:d})=>{p.push(Y,_,"index: ".concat(String(_))),qt(p,d,"name_len: ".concat(d))})}),p},Xi=m=>{let p=new pt;qt(p,"name","name_len: name");let c=Ji(m.module);p.push(mn,0,"name_type: Module"),p.push(Y,c.size,"name_payload_len"),p.write(c);let f=Zi(m.functions);p.push(mn,1,"name_type: Function"),p.push(Y,f.size,"name_payload_len"),p.write(f);let _=Ki(m.locals);return p.push(mn,2,"name_type: Locals"),p.push(Y,_.size,"name_payload_len"),p.write(_),p},to=1,eo=2,no=3,ro=4,so=5,ao=6,io=7,oo=8,lo=9,uo=10,po=11,co=0,Mt=({type:m,label:p,emitter:c})=>f=>{let _=f[p];if(!_||Array.isArray(_)&&!_.length)return null;let d=new pt().push(ut,m,p+" section"),x=c(_);return d.push(Y,x.size,"size"),d.write(x),d};var Ct={type:Mt({type:to,label:"Types",emitter:Ii}),imports:Mt({type:eo,label:"Imports",emitter:Oi}),function:Mt({type:no,label:"Functions",emitter:Si}),table:Mt({type:ro,label:"Table",emitter:Yi}),memory:Mt({type:so,label:"Memory",emitter:Vi}),exports:Mt({type:io,label:"Exports",emitter:Hi}),globals:Mt({type:ao,label:"Globals",emitter:ki}),start:Mt({type:oo,label:"Start",emitter:Ui}),element:Mt({type:lo,label:"Element",emitter:$i}),code:Mt({type:uo,label:"Code",emitter:Fi}),data:Mt({type:po,label:"Data",emitter:Qi}),name:Mt({type:co,label:"Name",emitter:Xi})};function _n(m,p){let c=new pt().write(Ci(m.Version)).write(Ct.type(m)).write(Ct.imports(m)).write(Ct.function(m)).write(Ct.table(m)).write(Ct.memory(m)).write(Ct.globals(m)).write(Ct.exports(m)).write(Ct.start(m)).write(Ct.element(m)).write(Ct.code(m)).write(Ct.data(m));return p.encodeNames?c.write(Ct.name(m)):c}let mo=(m,p=0,c)=>{let f=0;return m.data.slice(p,c).map(({type:_,value:d,debug:x})=>{let g="".concat(f.toString()," 0x").concat(f.toString(16)).padStart(6," ").padEnd(m.data.length.toString().length+1),y;Array.isArray(d)?y=d.map(E=>E.toString(16)).join().padStart(16):y=d.toString(16).padStart(16);let L="".concat(g,": ").concat(y," ; ").concat(x);return f+=sn[_]||d.length,L}).join("\n")+"\n ============ fin ============="},dn=m=>{let p=c=>{try{return m("function fragment() {\n        ".concat(c,"\n      }")).params[0].params[2].params[0]}catch(f){throw new Error("PANIC - Invalid fragment input:\n\n".concat(c,"\n\nParse Error: ").concat(f.stack))}};return(c,...f)=>{let _=!1,d=c.reduce((g,y,L)=>{let E=f[L];return E!=null&&typeof E!="object"?g+=y+String(E):E!=null?(_=!0,g+=y+"$$rep_".concat(L)):g+=y},""),x=p(d);return _?h({Identifier(g){let{value:y}=g;return y.indexOf("$$rep_")?g:f[Number(y.replace("$$rep_",""))]}})(x):x}},fo="0.21.0",_o=(m,p)=>{let{version:c=yr,encodeNames:f=!1,lines:_=m.split("\n"),filename:d="unknown",extensions:x=[]}=p||{},g=Ze([]),y=dn(g),L={version:c,encodeNames:f,lines:_,filename:d,extensions:x},E=g(m),P=an(E,[],$({},L,{parser:g,stmt:y}));un(P,{lines:_,filename:d});let j=cn(P,L);return _n(j,{version:c,encodeNames:f,filename:d,lines:_})},ho=(m,p)=>{let{filename:c="unknown.walt",extensions:f=[],linker:_,encodeNames:d=!1}=p||{},x={filename:c,lines:m.split("\n"),version:yr,encodeNames:d},g=f.reduce((N,z)=>{let W=$({semantics:nt=>({}),grammar:()=>({ParserRules:[]})},z(x));return N.grammar.push(W.grammar),N.semantics.push(W.semantics),N},{grammar:[],semantics:[]}),y=Ze(g.grammar),L=dn(y),E=y(m),P=an(E,g.semantics,{parser:y,stmt:L});un(P,x);let j=cn(P,$({},x,{linker:_})),U=_n(j,x);return{wasm:U,buffer(){return U.buffer()},ast:E,semanticAST:P}};return l.makeParser=Ze,l.makeFragment=dn,l.semantics=an,l.validate=un,l.generator=cn,l.emitter=_n,l.prettyPrintNode=cr,l.debug=mo,l.stringEncoder=rr,l.stringDecoder=wa,l.walkNode=w,l.mapNode=h,l.VERSION=fo,l.getIR=_o,l.compile=ho,l}({}),gs=gl,Tl=l=>gs.compile(l).buffer(),bl=l=>l.trim().length?JSON.stringify([...new Uint8Array(gs.compile(l).buffer())]):"[]",vl=l=>{let u={};return Object.getOwnPropertyNames(Object.getPrototypeOf(l)).filter(t=>!["constructor","nanoapp","initial_state","initial_component","css","__walt","__src","init"].includes(t)).map(t=>u[t]=l[t].bind(l)),u},El=(l,u)=>{if(l.length){let t=new WebAssembly.Table({initial:10,element:"anyfunc"}),e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(l).buffer),{tag:vl(u),console,javascript:{table:t,setTimeout:(n,i)=>window.setTimeout(t.get(n),i),setInterval}}).exports,s={};return Object.keys(e).map(n=>s[n]=e[n]),s}return{}},Pl={name:"Walt",uniqueBlock:"walt",compileWalt:bl,compile:Tl,initWalt:El};function Ll(l){return l;function u(n,i,o){var a;return o<0?o+=1:o>1&&(o-=1),6*o<1?a=n+(i-n)*o*6:2*o<1?a=i:3*o<2?a=n+(i-n)*(2/3-o)*6:a=n,255*a}function t(n,i,o){var a,r,h,T,w,R,A=Math;return i/=100,o/=100,i?(o<=.5?r=o*(i+1):r=o+i-o*i,a=o*2-r,h=n/360,T=A.ceil(u(a,r,h+1/3)),w=A.ceil(u(a,r,h)),R=A.ceil(u(a,r,h-1/3))):T=w=R=o*255,{r:T,g:w,b:R}}function e(n,i,o){return"#"+((1<<24)+(1*n<<16)+(1*i<<8)+1*o).toString(16).slice(1)}var s}var wl=Ll,Al={name:"min.css",processStyle:wl},Ml={walt:Pl,mincss:Al},qe=Ml,Fn=l=>class extends l{baseInit(){this.component=this.initial_component,xs(this.component),this.animate=Rt.animate,this.Spring=xl,this.window_events={},this.checkStateObjectChanges={},this.state=this.initial_state,this.__walt&&(this.walt=qe.walt.initWalt(this.__walt,this,this.state)),delete this.__proto__.baseInit}async connectedCallback(){if(this.renderer&&!this.__rendererHTML&&this.__rendererName!==this.parent.__rendererName)throw"ui.js diffferent renderers ".concat(this.__rendererName," and ").concat(this.parent.__rendererName);ve(this.document,this.component,{state:this.state}),this.is_connected=!0,this.connected&&this.connected()}async disconnectedCallback(){this.disconnected&&await this.disconnected(),Object.keys(this.window_events).forEach(u=>this.window_events[u].forEach(t=>window.removeEventListener(u,t.cb)))}render(){this.is_connected&&_s(this.document,this.component,{state:this.state})}attributeChangedCallback(u,t,e){if(typeof e=="object"){if(Array.isArray(this.state[u])&&Array.isArray(e)&&this.state[u].length==0&&e.length==0||this.checkStateObjectChanges[u]&&JSON.stringify(this.state[u])===JSON.stringify(e))return}else if(this.state[u]===e)return;this.state[u]=e,this.changed&&this.changed({[u]:e}),this.render()}hasEventHandler(u){return this._events?!!this._events[u]:!!this.getAttribute("on"+u)}get cookies(){return typeof document<"u"?Object.assign({},...document.cookie.split(";").filter(u=>u).map(u=>u.split("=")).map(([u,t])=>({[u.trim()]:(t+"").trim()}))):{}}get hash(){return typeof window<"u"?window.location.hash.substr(1).split("/"):[]}on(u,t,e){this.window_events[u]||(this.window_events[u]=[]);let s=this.window_events[u].find(i=>i.callback===t),n=(...i)=>t.call(this,...i);s||(this.window_events[u].push({callback:t,cb:n}),window.addEventListener(u,n,e))}off(u,t){if(!this.window_events[u])return;let e=this.window_events[u].findIndex(s=>s.callback===t);e!==-1&&(window.removeEventListener(u,this.window_events[u][e].cb),this.window_events[u].splice(e,1))}},Ts=l=>class extends l{htmlInit(){if(this.animateCSS=(u,{element:t,unit:e,from:s,to:n,duration:i,easing:o,done:a})=>{t._styles[u]=Rt.animateCSS(t||this,u,e===void 0?"":e,s||0,n,i||1e3,o,()=>{t._styleV[u]=n+e,a&&a()})},this.css.length){let u=document.createElement("style");u.textContent=this.css,this.ShadowDOM?this.document.append(u):setTimeout(()=>{this.document.append(u)},0)}delete this.__proto__.htmlInit}setAttribute(u,t){this.attributeChangedCallback(u,void 0,t),this.AddAttributes&&typeof t!="object"&&super.setAttribute(u,t)}$(u){return this.document.querySelector(u)}$$(u){return this.document.querySelectorAll(u)}emitNative(u,t){console.warn('this.emitNative() is deprecated. Use this.emit(). "'.concat(this.__src,'"')),this.emit(u,t)}emit(u,t){this.dispatchEvent(new CustomEvent(u,{cancelable:!1,bubbles:!1,detail:t}))}},zn;if(typeof window<"u"){class l extends HTMLElement{constructor(){super(),this.AddAttributes=!1,this.ShadowDOM="open",this.MutationObserverOptions={childList:!0},this.baseInit(),this.init&&this.init(),this.document=["open","closed"].includes(this.ShadowDOM)?this.attachShadow({mode:this.ShadowDOM}):this,this.htmlInit(),this.slotChange&&(this._slot_observer=new MutationObserver(t=>this.slotChange(t)),this._slot_observer.observe(this,this.MutationObserverOptions))}get slotted(){let t=this.document.querySelector("slot");return t?t.assignedElements():[]}get element(){return this.ShadowDOM?this.document.host:this.document}}zn=class extends Ts(Fn(l)){}}var Cl=class{constructor(){if(this.document=document.querySelector(this.container),!this.document)throw'ui.js: target container "'.concat(this.container,'" not found');this.baseInit(),this.htmlInit(),this.init&&this.init(),this.connectedCallback()}get element(){return this.document}},Ol=class extends Ts(Fn(Cl)){},Hl=class{constructor(l,u){if(this._BASE_ELEMENT=!0,this.document={_childNodes:[],__rendererName:this.__rendererName},this._childNodes=[],this._eventListeners={},this.parent=l,this.baseInit(),this.renderer&&!this.__rendererHTML&&this.__rendererName!==this.parent.__rendererName)throw"ui.js diffferent renderers ".concat(this.__rendererName," and ").concat(this.parent.__rendererName);this.onReady=new Promise(async t=>{var e,s,n;(e=this.renderer)!=null&&e.onReady&&await this.renderer.onReady,(s=this.parent)!=null&&s.onReady&&await this.parent.onReady,(n=this.renderer)!=null&&n.onConnect&&await this.renderer.onConnect(this),this.document.renderer=this.renderer,this.document.parent=this.document,this.init&&await this.init(),ve(this.document,this.component,{state:this.state}),t(),this.is_connected=!0,this.connected&&await this.connected()})}setAttribute(l,u){this.attributeChangedCallback(l,void 0,u)}emit(l,u){this._eventListeners[l]&&this._eventListeners[l].forEach(t=>t.cb(new CustomEvent(l,{cancelable:!1,bubbles:!1,detail:u})))}addEventListener(l,u,t){this._eventListeners[l]||(this._eventListeners[l]=[]);let e=this._eventListeners[l].find(n=>n.callback===u),s=(...n)=>u.call(this,...n);e||this._eventListeners[l].push({callback:u,cb:s})}removeEventListener(l,u){if(!this._eventListeners[l])return;let t=this._eventListeners[l].findIndex(e=>e.callback===u);t!==-1&&this._eventListeners[l].splice(t,1)}async remove(){for(await this.disconnectedCallback();this.document._childNodes.length;)await this.document._childNodes[this.document._childNodes.length-1].remove();this.renderer.onDisconnect&&await this.renderer.onDisconnect(this);let l=this.parent._childNodes.findIndex(u=>u==this);if(l!==-1)this.parent._childNodes.splice(l,1);else throw"Element not found"}after(l){this.renderer.insertAfter(this,l)}before(l){this.renderer.insertBefore(this,l)}},jl=class extends Fn(Hl){},kl=(l,u=0)=>{for(var t=3735928559^u,e=1103547991^u,s=0,n;s<l.length;s++)n=l.charCodeAt(s),t=Math.imul(t^n,2654435761),e=Math.imul(e^n,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(e^e>>>13,3266489909),e=Math.imul(e^e>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&e)+(t>>>0)};function Qe(l,u){return"ui-"+String(kl(u||l.trim())).replaceAll("-","i")}var Un={},Sl=l=>l.split("-").map(u=>u.slice(0,1).toUpperCase()+u.slice(1)).join(""),Ul=l=>((u,t)=>JSON.stringify(l,(e,s)=>typeof s=="function"?t.push(s)&&u:s).replace(new RegExp('"'+u+'"',"g"),e=>t.shift()))("____"+To(50)+"____",[]),Rl=(l,u)=>{if(Un[l])return Un[l];let t=URL.createObjectURL(new Blob([String.raw({raw:u})],{type:"text/javascript"}));return Un[l]=t,t},Rn=(l,u,t,e)=>l.reduce((s,n)=>{let i=u?n.path[0]==="@"?n.path:"ui.js-bundled-tags:"+(n.path[0]==="/"?t:t+e)+"/"+n.path:Rl(n.path,n.src);return n.type==="*"?s+"const "+n.import+" = {...(await import(`"+i+"`))};\n":n.type==="object"?s+"const "+n.import+" =  (await import(`"+i+"`));\n":s+"const "+n.import+" =  (await import(`"+i+"`)).default;\n"},"");function $n(l,u,{inFunc:t=!1,parent:e}){let s=Object.values(qe).filter(A=>A.processStyle).reduce((A,v)=>v.processStyle(A),l.style||""),n=l.walt?qe.walt.compileWalt(l.walt):"undefined",i="{".concat((l.state||"").trim(),"}"),o=u!=="customElement"?"":new Function("return 'static get observedAttributes() { return '+JSON.stringify(Object.keys(".concat(i,"))+' }'"))(),a=Sl(l.name),r=Ul(il(l.template,l.tag||[])),h=l.container?'get container()         { return "'.concat(l.container,'" }'):"";var T="";if(l.renderer){let A=l.renderer[0].split(" ");if(T='get __rendererName(){ return "'+A[0]+'" }',A.length==2){var w=!0;T+="\nget __rendererHTML(){ return true }"}else T+="\nget renderer(){ return this.parent?.renderer }"}let R="\n\n        ".concat(l.static||"",";\n        class ").concat(a," extends ").concat(u," {\n            ").concat(o,"\n            get nanoapp()           { return ").concat(JSON.stringify(l.nanoapp)," }\n            get initial_state()     { return ").concat(i," }\n            get initial_component() { return ").concat(r," }\n            get css()               { return `").concat(s,"`; }\n            get __walt()            { return ").concat(n,' }\n            get __src()             { return "').concat(l.src,'" }\n            ').concat(T,"\n            ").concat(h,"\n            ").concat(l.class||"","\n        };\n    ");switch(u){case"customElement":let A="\n                ".concat(l.import?Rn(l.import,l.nodePath,l.BASE_URL,l.path):"","\n                if(!customElements.get('").concat(l.name,"')) {\n                    ").concat(R,"\n                    customElements.define('").concat(l.name,"', ").concat(a,");\n                    window['UIjs'].tags['").concat(l.name,"'] = true;\n                };");return t?";(async () => {".concat(A,"})();"):A;case"uiElement":let v="\n                ".concat(l.import?Rn(l.import,l.nodePath,l.BASE_URL,l.path):"","\n                ").concat(R," return new ").concat(a,'("').concat("parentparentparent:"+e,'");');return t?";(async () => {".concat(v,"})();"):v;case"baseElement":let G="\n                ".concat(l.import?Rn(l.import,l.nodePath,l.BASE_URL,l.path):"","\n                ").concat(R," ;window['UIjs'].tags['").concat(l.name,"'] = ").concat(a,";");return t?";(async () => {".concat(G,"})();"):G}}async function $l(l,u,t){let e=Qe(l.innerText);await Ee(l.innerText,{name:e,path:u,nanoapp:t}),l.replaceWith(document.createElement(e))}async function bs(l,u,t,e,s,n){await Ee(l,{name:u,path:t,nanoapp:e,src:n})}function Vr(l,u){return l.startsWith("/https://")&&(l=l.replace("/https://","https://")),typeof window<"u"&&window.nanoapp_base_path&&!l.startsWith(window.nanoapp_base_path)?window.nanoapp_base_path+"/app"+l:l}async function vs(l,u){if(window.document.location.protocol=="file:"){console.error("WARNING!!! ui.js cannot fetch external resources from a 'local' filesystem: \"file://".concat(l,'"'));var t=await fetch(Vr(l,u),{mode:"no-cors"}).catch(s=>!1)}else var t=await fetch(Vr(l,u)).catch(e=>!1);return t}async function Gr(l,u,t){if(u)return await u(l);let e=await vs(l,t);if(e===!1)throw"ui.js  \u2764\uFE0F error loading "+l;return(await e.text()).trim()}async function Es(l,u,t="",e){if(ce[l])return!0;let s=u.substr(-4)===".tag"?u:u+".tag",n=u[0]!=="/"?ue(t+s):s,i=await vs(n,e);if(i===!1)throw"ui.js  \u2764\uFE0F error loading "+s;let o=n.substring(0,n.lastIndexOf("/"))+"/";await bs(await i.text(),l,o,e,o,u)}async function Nl(l,u,t){await Ee(l.innerText,{name:Qe(l.innerText),path:t,container:u})}function ue(l){return typeof window>"u"?l:new URL(l,document.baseURI).pathname}async function Ps({source:l,path:u,keepName:t,nodeFetch:e,nodePath:s,BASE_URL:n}){let i=t?u.split("/").pop().split(".")[0]:Qe(u);return{name:i,compiled:await Ee(l,{name:i,path:u.substring(0,u.lastIndexOf("/"))+"/",bundle:!0,nodeFetch:e,nodePath:s,BASE_URL:n})}}async function Ee(l,u={}){let t=await hl(l);if(!u.name)throw"name is undefined !!!";t.name=u.name||"i-component",t.path=u.path,t.src=u.src,t.container=u.container||"",t.nodePath=u.nodePath?u.nodePath:void 0,t.BASE_URL=u.BASE_URL,t.nanoapp=u.nanoapp||[];let e=u.nodeFetch||void 0;var s="";if(t.style&&(t.style=t.style.trim(),t.style.length&&(s=t.style)),t.css)for(let n of t.css){let i=n[0]!=="/"?ue(t.path+n):n,o=await Gr(i,e,t.nanoapp);o.length&&(s+="\n"+o)}if(t.style=s.replaceAll("`","`").trim(),t.tag)for(let n of t.tag){let i=n.path;i=i.substr(-4)===".tag"?i:i+".tag",e?i=ue(i[0]==="/"?i:t.path+i):i=ue(n.path[0]==="/"?i:t.path+i);let o=Qe(i);if(n.name=o,e)n.src=await e(i);else{let a=t.nanoapp&&t.nanoapp.children&&t.nanoapp.children.find(r=>"@"+r.alias===n.alias);a&&(i.startsWith("/!"+a.alias+".tag")&&i.split("/").length==2?i=window.nanoapp_base_path+i.replace("/!"+a.alias+".tag","/imports/"+a.child_release+"/index.tag"):i.startsWith("/!"+a.alias+"/")&&(i=window.nanoapp_base_path+i.replace("/!"+a.alias+"/","/imports/"+a.child_release+"/"))),await Es(o,i,t.path,a||t.nanoapp)}}if(t.import&&!e)for(let n of t.import){let i=n.path[0]!=="/"?ue(t.path+n.path):n.path;n.path=i;let o=await Gr(i,e,t.nanoapp);n.src=o}if(ce[t.name]=!0,t.renderer&&t.renderer[0].split(" ").length==1){let n=$n(t,"baseElement",{inFunc:!1});return await new Sn("baseElement",n)(jl)}else if(t.container){let n=$n(t,"uiElement",{inFunc:!1});return await new Sn("uiElement",n)(Ol)}else{let n=$n(t,"customElement",{inFunc:!0});if(u.bundle){if(t.tag){let i="";for(let o of t.tag)if(ce[o.name])console.log("              <".concat(o.name,"> skipped"));else{let a=o.path.substr(-4)===".tag"?o.path:o.path+".tag";a[0]!=="/"&&(a=t.path+a);let{name:r,compiled:h}=await Ps({source:o.src,path:a,name:o.name,nodePath:ue(t.nodePath+t.path),BASE_URL:t.BASE_URL,nodeFetch:e});i+=h}return i+n}return n}await new Sn("customElement",n)(zn)}}function Il(l,u){l.innerText.trim().length&&console.warn('ui.js warning: contents of "<script type=ui '.concat(u.map(t=>t.name).join(" "),'> will be ignored"'))}function Wr(l,u){l.innerText.trim().length||console.warn('ui.js warning: empty "<script type=ui '.concat(u.map(t=>t.name).join(" "),'>"'))}async function Bl(){let l=Array.from(document.querySelectorAll('script[type="ui"],script[type="i"]'));try{for(let u of l){let t=window.location.pathname,e=t.substring(0,t.lastIndexOf("/"))+"/",s=Array.prototype.slice.call(u.attributes).map(o=>({name:o.name,value:u.getAttribute(o.name).trim()})),n=s.find(o=>o.name==="target"&&o.value.length);if(n){s.length>2&&console.warn('ui.js warning: all other attributes for "<script type=ui target="'.concat(n.value,'"> will be ignored"')),await Nl(u,n.value,e),u.remove();continue}let i=s.filter(o=>o.name.includes("-"));if(i.length>1)throw'ui.js ERROR: more then one attribute with hyphens "<script '.concat(i.map(o=>o.name).join(" "),'>"');i.length===1?(i[0].value?(Il(u,s),await Es(i[0].name,i[0].value,e,typeof window<"u"&&window.nanoapp_dependencies)):(Wr(u,s),await bs(u.innerText,i[0].name,e,typeof window<"u"&&window.nanoapp_dependencies)),u.remove()):(Wr(u,s),await $l(u,e))}}catch(u){throw new Mo(u)}}var In="0.7.7-dev";!In.endsWith("-dev")&&console.log("ui.js \u2764\uFE0F ".concat(In," alpha experiment. Make user interfaces great again!"));var Dl={VERSION:In,tags:ce,customElement:zn,createTag:Ee,compile:Ps,plugins:qe};typeof window<"u"&&(window.UIjs=Dl,document.addEventListener("DOMContentLoaded",Bl));var{customElement:Ot}=window.UIjs;(async()=>{if(!customElements.get("ui-2314403337414734")){class l extends Ot{static get observedAttributes(){return["category","selected","menu"]}get nanoapp(){return[]}get initial_state(){return{category:void 0,selected:void 0,menu:[]}}get initial_component(){return[{tag:"aside",children:[{tag:"ul",children:[{tag:"li",children:[{tag:"header",events:{click:async(t,{state:e,category:s},n)=>{e.category=e.category!==s.caption?s.caption:void 0,this.render()}},attrsR:{},context:["state","category"],text:({state:t,category:e})=>e.caption,enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"ul",children:[{tag:"li",key:t=>t.url,loop_fn:"category.items",loop_alias:"item",enterStyles:({state:t,category:e,item:s})=>({"padding-left":{to:"50px",ease:"easeOutBounce"}}),events:{click:async(t,{state:e,category:s,item:n},i)=>{e.selected=n,this.emit("select",n),this.render()}},attrs2:{class:({state:t,category:e,item:s})=>t.selected===s&&"active"},attrsB:{},attrsR:{},context:["state","category","item"],loop:({state:t,category:e})=>e.items,text:({state:t,category:e,item:s})=>s.caption,attrs3:{class:({state:t,category:e,item:s})=>t.selected===s&&"active"},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){Object.entries(e.enterStyles(s)).forEach(([i,o])=>{var a;if(Array.isArray(o))throw"not implemented";typeof o=="object"?(t._styleV[i]=o.to,n.animateCSS(t,i,o)):(t._styleV[i]=o,(a=t._styles[i])!=null&&a.cancel&&t._styles[i].cancel(),t.style.setProperty(i,o))})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r={},h=new Map,T=[],w=s;return o.forEach((R,A)=>{var v=a.createElement(t,e);v.key=t.key(R,A),r[v.key]=!0,T.push(v),n[t.loop_alias]=R,t.loop_key_alias&&(n[t.loop_key_alias]=A),t.enterProps&&t.enterProps(v,t,n,a),t.children?a.Enter_Children(v,t.children,n):(t.text&&(typeof t.text=="function"?v.textContent=v.__lastText=t.text(n):v.textContent=v.__lastText=t.text),t.html&&(typeof t.html=="function"?v.innerHTML=v.__lastHTML=t.html(n):v.innerHTML=v.__lastHTML=t.html)),A===0&&!w?a.prependElement(e,v):w.after(v),w=v}),e.__i__[i]={length:o.length,exit:h,elements:T,keys:r},w}}],if:({state:t,category:e})=>e.caption===t.category,attrsR:{},context:["state","category"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}}],key:t=>t.caption,loop_fn:"state.menu",loop_alias:"category",attrs2:{class:({state:t,category:e})=>t.category===e.caption&&"active"},attrsB:{},attrsR:{},context:["state","category"],loop:({state:t})=>t.menu,attrs3:{class:({state:t,category:e})=>t.category===e.caption&&"active"},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r={},h=new Map,T=[],w=s;return o.forEach((R,A)=>{var v=a.createElement(t,e);v.key=t.key(R,A),r[v.key]=!0,T.push(v),n[t.loop_alias]=R,t.loop_key_alias&&(n[t.loop_key_alias]=A),t.enterProps&&t.enterProps(v,t,n,a),t.children?a.Enter_Children(v,t.children,n):(t.text&&(typeof t.text=="function"?v.textContent=v.__lastText=t.text(n):v.textContent=v.__lastText=t.text),t.html&&(typeof t.html=="function"?v.innerHTML=v.__lastHTML=t.html(n):v.innerHTML=v.__lastHTML=t.html)),A===0&&!w?a.prependElement(e,v):w.after(v),w=v}),e.__i__[i]={length:o.length,exit:h,elements:T,keys:r},w}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}},{tag:"main",children:[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}}]}get css(){return":host {\n        font-family: sans-serif;\n        padding: 0;\n        margin: 0;\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n    }\n    main {\n        position: absolute;\n        width: calc(100% - 240px);\n        height: 100%;\n        right:0;\n    }\n    aside {\n        color: white;\n        width: 240px;\n        height: 100%;\n        background: #558361;\n        position: absolute;\n        font-size: 14px;\n        user-select: none;\n        -webkit-user-select: none;\n    }\n    ul {\n        margin: 0;\n        padding: 0;\n    }\n    li {\n        margin-left: 0;\n        cursor: pointer;\n        list-style-type: none;\n        border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n    }\n    aside > ul > li > ul > li {\n        padding-left: 30px;\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-bottom: none;\n        opacity: 0.7;\n        background: #3b5943;\n    }\n    ul > li.active {\n        font-weight: bold;\n    }\n    aside > ul > li > ul > li.active {\n        opacity: 1;\n    }\n    aside > ul > li > ul > li:hover {\n        color: yellow;\n    }\n    header {\n        padding-top: 15px;\n        padding-bottom: 15px;\n        margin-left: 15px;\n    }"}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-2314403337414734",l),window.UIjs.tags["ui-2314403337414734"]=!0}})();(async()=>{if(!customElements.get("ui-3905478679869311")){class l extends Ot{static get observedAttributes(){return[]}get nanoapp(){return[]}get initial_state(){return{}}get initial_component(){return[{tag:"#text",content:"\nHello world",context:["state"],enter:function(e,s,n,i,o){return e.element=document.createTextNode(e.content),n?n.after(e.element):s.prepend(e.element),s.__i__[o]={exit:!1},e.element}}]}get css(){return""}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-3905478679869311",l),window.UIjs.tags["ui-3905478679869311"]=!0}})();(async()=>{if(!customElements.get("ui-858035447839795")){let t=function(o,a,r,h,T,w){var R=0;for(let A=r;A<r+w;A++){if(A>=o.length)return;for(let v=h;v<Math.min(a,h+T);v++)o[A][v]||R++}if(R==T*w){for(let A=r;A<r+w;A++)for(let v=h;v<h+T;v++)o[A][v]=!0;return!0}},e=function(o,a,r,h){for(let T=0;T<o.length;T++)for(let w=0;w<Math.min(a,o[T].length);w++)if(!o[T][w]&&t(o,a,T,w,r,h))return{row:T,col:w};return o.push(new Array(a).fill(!1)),e(o,a,r,h)};var l=t,u=e;let s=(o,a,r,h,T)=>{if(!o.state.animation)return a.style.setProperty(r,h+"px");a._spring||(a._spring={}),a._spring[r]?a._spring[r].set(h):(a._spring[r]=new o.Spring({target:h,current:T||h,stiffness:o.state.enter_stiffness,damping:o.state.enter_damping,mass:o.state.enter_mass,delta:1,callback:w=>a.style.setProperty(r,w+"px"),done:()=>{a._spring[r]&&(delete a._spring[r].done,a._spring[r].stiffness=o.state.stiffness,a._spring[r].mass=o.state.mass,a._spring[r].damping=o.state.damping)}}),a.style.setProperty(r,h+"px"))},n=o=>{o.sections.forEach((a,r)=>Object.keys(a._spring).forEach(h=>{a._spring[h].stiffness=o.state.stiffness,a._spring[h].mass=o.state.mass,a._spring[h].damping=o.state.damping}))};class i extends Ot{static get observedAttributes(){return["width","padding","animation","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{width:200,padding:10,animation:!1,stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(a,r,h,T){return a}],enter:(a,r,h,T,w,R,A)=>{var v=A.createElement(a,r);return a.enterProps&&a.enterProps(v,a,T,A),a.text&&(typeof a.text=="function"?v.textContent=v.__lastText=a.text(T):v.textContent=v.__lastText=a.text),a.html&&(typeof a.html=="function"?v.innerHTML=v.__lastHTML=a.html(T):v.innerHTML=v.__lastHTML=a.html),A.insertElement(r,v,h),r.__i__[w]={exit:!1},v}}]}get css(){return":host {\n        display: block;\n        position: relative;\n        width: 100%;\n        box-sizing: border-box;\n    }\n    ::slotted(section) {\n        position: absolute;\n        box-sizing: border-box;\n        background: white;\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05), 0 6px 20px 0 rgba(0, 0, 0, 0.02);\n    }"}get __walt(){}get __src(){return"undefined"}redraw(){var A;if(!((A=this.sections)!=null&&A.length))return;let a=Number(this.state.width),r=Number(this.state.padding),h=this.element.offsetWidth-r,T=h>Number(this.state.width)?h/Math.floor(h/a):h,w=[],R=Math.floor(h/T);this.sections.forEach(v=>{var G=Number(v.getAttribute("w"))||1;let J=Number(v.getAttribute("h"))||1;G>R&&(G=R);let{col:I,row:b}=e(w,R,G,J),ct=G*T,gt=J*T,wt=I*T,_t=b*T,dt=wt+r,Tt=_t+r,vt=ct-r,Kt=gt-r,Ut=(ct-r)/2,Ht=(gt-r)/2;s(this,v,"left",dt,dt+Ut/2),s(this,v,"top",Tt,Tt+Ht/2),s(this,v,"width",vt,Ut),s(this,v,"height",Kt,Ht)}),this.lastColumnCount=R,this.element.style.setProperty("height",w.length*T+r+"px")}init(){this.MutationObserverOptions.attributes=!0}slotChange(){this.sections=this.slotted.filter(a=>a.nodeName==="SECTION"),this.sections.forEach((a,r)=>{let h=a.setAttribute;a.setAttribute=(T,w)=>{h.apply(a,[T,w]),(T==="h"||T==="w")&&this.redraw()}}),this.redraw()}changed(a){(a.width||a.padding)&&this.redraw(),["stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"].some(r=>a[r])&&n(this)}connected(){let a=(r,h)=>{let T,w=Date.now()-(h+1);return function(...R){let A=this;clearTimeout(T),T=setTimeout(()=>{r.apply(A,R),w=Date.now()},h-(Date.now()-w))}};this.on("resize",a(this.redraw,100)),this.slotChange()}}customElements.define("ui-858035447839795",i),window.UIjs.tags["ui-858035447839795"]=!0}})();(async()=>{if(!customElements.get("ui-513309451367658")){class l extends Ot{static get observedAttributes(){return["padding","width","animation","flag","size","mysec","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{padding:10,width:200,animation:!0,flag:!0,size:1,mysec:[{name:"Swap 1",width:10,color:"#4be96e"},{name:"Swap 2",width:20,color:"#d78d2f"},{name:"Swap 3",width:40,color:"#319dba"}],stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"ui-858035447839795",children:[{tag:"section",children:[{tag:"button",events:{click:async(t,{state:e},s)=>{e.animation=!e.animation,this.render()}},attrsR:{},context:["state"],text:({state:t})=>"Animation: "+t.animation,enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.flag=!e.flag,this.render()}},attrsR:{},text:"Toggle #3",context:["state"],enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{[e.mysec[0],e.mysec[1]]=[e.mysec[1],e.mysec[0]],this.render()}},attrsR:{},text:"Swap sections 1",context:["state"],enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{[e.mysec[0],e.mysec[2]]=[e.mysec[2],e.mysec[0]],this.render()}},attrsR:{},text:"Swap sections 2",context:["state"],enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.width=e.width==200?250:200,this.render()}},attrsR:{},context:["state"],text:({state:t})=>"Width: "+t.width,enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>4,value:({state:t})=>t.size},attrsB:{},attrsR:{value:"state.size"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.size=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>4,value:({state:t})=>t.size},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"#2 height = "+t.size,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>0,max:({state:t})=>20,value:({state:t})=>t.padding,step:({state:t})=>10},attrsB:{},attrsR:{value:"state.padding"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.padding=t.target.value}},attrs3:{min:({state:t})=>0,max:({state:t})=>20,value:({state:t})=>t.padding,step:({state:t})=>10},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"padding = "+t.padding,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}},{tag:"section",children:[{tag:"b",text:"Update animation settings",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.stiffness},attrsB:{},attrsR:{value:"state.stiffness"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.stiffness=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.stiffness},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Stiffness = "+t.stiffness,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.damping},attrsB:{},attrsR:{value:"state.damping"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.damping=t.target.value}},attrs3:{min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.damping},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Damping = "+t.damping,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.mass},attrsB:{},attrsR:{value:"state.mass"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.mass=t.target.value}},attrs3:{min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.mass},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Mass = "+t.mass,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"b",text:"Enter animation settings",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.flag=!e.flag,this.render()}},attrsR:{},text:"Enter/exit #3",context:["state"],enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.enter_stiffness},attrsB:{},attrsR:{value:"state.enter_stiffness"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_stiffness=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.enter_stiffness},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Stiffness = "+t.enter_stiffness,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.enter_damping},attrsB:{},attrsR:{value:"state.enter_damping"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_damping=t.target.value}},attrs3:{min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.enter_damping},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Damping = "+t.enter_damping,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.enter_mass},attrsB:{},attrsR:{value:"state.enter_mass"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_mass=t.target.value}},attrs3:{min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.enter_mass},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Mass = "+t.enter_mass,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}}],style:({state:t})=>({"text-align":"left"}),attrs2:{w:({state:t})=>2,h:({state:t})=>t.size},attrsB:{},attrsR:{},context:["state"],attrs3:{w:({state:t})=>2,h:({state:t})=>t.size},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]=o,t.style.setProperty(i,o)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]!==o&&(t._styleV[i]=o,t.style.setProperty(i,o))})}],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]!==o&&(t._styleV[i]=o,t.style.setProperty(i,o))})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}},{tag:"section",if:({state:t})=>t.flag,attrs2:{w:({state:t})=>3,h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #3\n    ",context:["state"],attrs3:{w:({state:t})=>3,h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{w:({state:t})=>4},attrsB:{},attrsR:{},text:"\n        #4\n    ",context:["state"],attrs3:{w:({state:t})=>4},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{w:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #5\n    ",context:["state"],attrs3:{w:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #6\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",key:t=>t.name,loop_fn:"state.mysec",loop_alias:"item",loop_key_alias:"i",style:({state:t,item:e,i:s})=>({background:e.color,border:e.width+"px dashed #00000033"}),attrsR:{},context:["state","item","i"],loop:({state:t})=>t.mysec,text:({state:t,item:e,i:s})=>e.name,enterProps:[function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]=o,t.style.setProperty(i,o)})}],updateProps:[function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]!==o&&(t._styleV[i]=o,t.style.setProperty(i,o))})}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]!==o&&(t._styleV[i]=o,t.style.setProperty(i,o))})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r={},h=new Map,T=[],w=s;return o.forEach((R,A)=>{var v=a.createElement(t,e);v.key=t.key(R,A),r[v.key]=!0,T.push(v),n[t.loop_alias]=R,t.loop_key_alias&&(n[t.loop_key_alias]=A),t.enterProps&&t.enterProps(v,t,n,a),t.children?a.Enter_Children(v,t.children,n):(t.text&&(typeof t.text=="function"?v.textContent=v.__lastText=t.text(n):v.textContent=v.__lastText=t.text),t.html&&(typeof t.html=="function"?v.innerHTML=v.__lastHTML=t.html(n):v.innerHTML=v.__lastHTML=t.html)),A===0&&!w?a.prependElement(e,v):w.after(v),w=v}),e.__i__[i]={length:o.length,exit:h,elements:T,keys:r},w}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #8\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{w:({state:t})=>2,h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #9\n    ",context:["state"],attrs3:{w:({state:t})=>2,h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",text:"\n        #10\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",text:"\n        #11\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #12\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",text:"\n        #13\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}}],attrs2:{width:({state:t})=>t.width,animation:({state:t})=>t.animation,padding:({state:t})=>t.padding,stiffness:({state:t})=>t.stiffness,damping:({state:t})=>t.damping,mass:({state:t})=>t.mass,enter_stiffness:({state:t})=>t.enter_stiffness,enter_damping:({state:t})=>t.enter_damping,enter_mass:({state:t})=>t.enter_mass},attrsB:{},attrsR:{},context:["state"],attrs3:{width:({state:t})=>t.width,animation:({state:t})=>t.animation,padding:({state:t})=>t.padding,stiffness:({state:t})=>t.stiffness,damping:({state:t})=>t.damping,mass:({state:t})=>t.mass,enter_stiffness:({state:t})=>t.enter_stiffness,enter_damping:({state:t})=>t.enter_damping,enter_mass:({state:t})=>t.enter_mass},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}}]}get css(){return':host {\n        display: block;\n        position: relative;\n        width: 100%;\n        min-height: 100%;\n        height: fit-content;\n        box-sizing: border-box;\n        font: 12px arial;\n    }\n    section {\n        padding: 5px;\n        text-align: center;\n        border-color: #00000033;\n        border-style: solid;\n        border-width: 10px;\n    }\n    input[type="range"] {\n        width: 70px;\n    }\n    button {\n        width: 100%;\n    }\n    section:nth-child(8n+1) { background-color: #75c18177; }\n    section:nth-child(8n+2) { background-color: #B5222D77; }\n    section:nth-child(8n+3) { background-color: #F88C3077; }\n    section:nth-child(8n+4) { background-color: #58bbee77; }\n    section:nth-child(8n+5) { background-color: #8A40A777; }\n    section:nth-child(8n+6) { background-color: #D4953C77; }\n    section:nth-child(8n+7) { background-color: #94816077; }\n    section:nth-child(8n+8) { background-color: #33949677; }'}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-513309451367658",l),window.UIjs.tags["ui-513309451367658"]=!0}})();(async()=>{if(!customElements.get("ui-2217253415213956")){let t=function(s){for(let n=s.length-1;n>0;n--){let i=Math.floor(Math.random()*(n+1));[s[n],s[i]]=[s[i],s[n]]}return s};var u=t,l="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");class e extends Ot{static get observedAttributes(){return["alphabet"]}get nanoapp(){return[]}get initial_state(){return{alphabet:[]}}get initial_component(){return[{tag:"h1",enterStyles:({state:n})=>({color:{to:"white"}}),attrsR:{},text:"Enter / Update / Exit / Restore pattern demo",context:["state"],enterProps:[function(n,i,o,a){Object.entries(i.enterStyles(o)).forEach(([r,h])=>{var T;if(Array.isArray(h))throw"not implemented";typeof h=="object"?(n._styleV[r]=h.to,a.animateCSS(n,r,h)):(n._styleV[r]=h,(T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h))})}],updateProps:[],Update_Tag:[function(n,i,o,a){return n}],enter:(n,i,o,a,r,h,T)=>{var w=T.createElement(n,i);return n.enterProps&&n.enterProps(w,n,a,T),n.text&&(typeof n.text=="function"?w.textContent=w.__lastText=n.text(a):w.textContent=w.__lastText=n.text),n.html&&(typeof n.html=="function"?w.innerHTML=w.__lastHTML=n.html(a):w.innerHTML=w.__lastHTML=n.html),T.insertElement(i,w,o),i.__i__[r]={exit:!1},w}},{tag:"b",key:n=>n,loop_fn:"state.alphabet",loop_alias:"letter",loop_key_alias:"i",enterStyles:({state:n,letter:i,i:o})=>({"font-size":{default:"12px",to:"48px"},color:{to:"#FF0000",duration:1500},opacity:{default:0,to:1,duration:1500},left:{default:"400px",to:400-n.alphabet.length*15+o*30+"px",ease:"easeInOutQuint",duration:1300+o*30},top:{default:"0px",to:"280px",ease:"easeInOutQuint",duration:1300+o*30}}),updateStyles:({state:n,letter:i,i:o})=>({color:{to:"#0088FF"},left:{to:400-n.alphabet.length*15+o*30+"px",ease:"easeOutBounce"}}),exitStyles:({state:n,letter:i,i:o})=>({"font-size":{to:"12px",duration:1e3},color:{to:"#CCCCCC",duration:1e3},top:{to:"550px",duration:3e3+Math.random()*2e3,ease:"easeOutBounce"}}),events:{click:async(n,{state:i,letter:o,i:a},r)=>{i.alphabet.splice(a,1),this.render()},mouseover:async(n,{state:i,letter:o,i:a},r)=>{i.alphabet.splice(a,1),this.render()}},attrsR:{},context:["state","letter","i"],loop:({state:n})=>n.alphabet,text:({state:n,letter:i,i:o})=>i,enterProps:[function(n,i,o,a){Object.entries(i.enterStyles(o)).forEach(([r,h])=>{var T;if(Array.isArray(h))throw"not implemented";typeof h=="object"?(n._styleV[r]=h.to,a.animateCSS(n,r,h)):(n._styleV[r]=h,(T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h))})},function(n,i,o,a){n.__datum={...o},Object.entries(i.events).forEach(([r,h])=>{n._events[r]=T=>h(T,n.__datum,n),n.addEventListener(r,n._events[r])})}],updateProps:[function(n,i,o,a){Object.entries(i.updateStyles(o)).forEach(([r,h])=>{var T;typeof h=="object"?n._styleV[r]!==h.to&&(h!=null&&h.skip||(n._styleV[r]=h.to,h!=null&&h.disabled?((T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h.to)):a.animateCSS(n,r,h))):n._styleV[r]!==h&&(n._styleV[r]=h,n.style.setProperty(r,h))})},function(n,i,o,a){n.__datum={...o}}],Update_Tag:[function(n,i,o,a){var r=i.text(o);if(!n){console.log("NOT element.__lastText",n),console.trace();return}n.__lastText!==r&&(n.textContent=n.__lastText=r)},function(n,i,o,a){Object.entries(i.updateStyles(o)).forEach(([r,h])=>{var T;typeof h=="object"?n._styleV[r]!==h.to&&(h!=null&&h.skip||(n._styleV[r]=h.to,h!=null&&h.disabled?((T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h.to)):a.animateCSS(n,r,h))):n._styleV[r]!==h&&(n._styleV[r]=h,n.style.setProperty(r,h))})},function(n,i,o,a){n.__datum={...o}},function(n,i,o,a){return n}],enter:(n,i,o,a,r,h,T)=>{var w={},R=new Map,A=[],v=o;return h.forEach((G,J)=>{var I=T.createElement(n,i);I.key=n.key(G,J),w[I.key]=!0,A.push(I),a[n.loop_alias]=G,n.loop_key_alias&&(a[n.loop_key_alias]=J),n.enterProps&&n.enterProps(I,n,a,T),n.children?T.Enter_Children(I,n.children,a):(n.text&&(typeof n.text=="function"?I.textContent=I.__lastText=n.text(a):I.textContent=I.__lastText=n.text),n.html&&(typeof n.html=="function"?I.innerHTML=I.__lastHTML=n.html(a):I.innerHTML=I.__lastHTML=n.html)),J===0&&!v?T.prependElement(i,I):v.after(I),v=I}),i.__i__[r]={length:h.length,exit:R,elements:A,keys:w},v}},{tag:"i",updateStyles:({state:n})=>({opacity:{from:0,to:1,duration:300,done:i=>{setTimeout(()=>{this.animateCSS("opacity",{element:i,from:1,to:0,duration:300})},1100)}}}),attrsR:{},context:["state"],text:({state:n})=>n.alphabet.join(""),enterProps:[],updateProps:[function(n,i,o,a){Object.entries(i.updateStyles(o)).forEach(([r,h])=>{var T;typeof h=="object"?n._styleV[r]!==h.to&&(h!=null&&h.skip||(n._styleV[r]=h.to,h!=null&&h.disabled?((T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h.to)):a.animateCSS(n,r,h))):n._styleV[r]!==h&&(n._styleV[r]=h,n.style.setProperty(r,h))})}],Update_Tag:[function(n,i,o,a){var r=i.text(o);if(!n){console.log("NOT element.__lastText",n),console.trace();return}n.__lastText!==r&&(n.textContent=n.__lastText=r)},function(n,i,o,a){Object.entries(i.updateStyles(o)).forEach(([r,h])=>{var T;typeof h=="object"?n._styleV[r]!==h.to&&(h!=null&&h.skip||(n._styleV[r]=h.to,h!=null&&h.disabled?((T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h.to)):a.animateCSS(n,r,h))):n._styleV[r]!==h&&(n._styleV[r]=h,n.style.setProperty(r,h))})},function(n,i,o,a){return n}],enter:(n,i,o,a,r,h,T)=>{var w=T.createElement(n,i);return n.enterProps&&n.enterProps(w,n,a,T),n.text&&(typeof n.text=="function"?w.textContent=w.__lastText=n.text(a):w.textContent=w.__lastText=n.text),n.html&&(typeof n.html=="function"?w.innerHTML=w.__lastHTML=n.html(a):w.innerHTML=w.__lastHTML=n.html),T.insertElement(i,w,o),i.__i__[r]={exit:!1},w}}]}get css(){return":host {\n        width:  100%;\n        height: 100%;\n        position: absolute;\n        top:  0;\n        left: 50%;\n        transform: translateX(-50%);\n        user-select: none;\n        -webkit-user-select: none;\n        background:black;\n    }\n    i {\n        position: absolute;\n        color: white;\n        top: 80px;\n        left: 50%;\n    }\n    b {\n        font-family: Courier New;\n        position: absolute;\n        text-align: center;\n        width: 30px;\n        display: block;\n        cursor: pointer;\n    }\n    h1 {\n        font-family: arial;\n        font-size: 12px;\n        opacity: 0.5;\n    }"}get __walt(){}get __src(){return"undefined"}connected(){this.state.alphabet=l,this.render(),setInterval(()=>{this.state.alphabet=t(l).slice(0,Math.floor(Math.random()*26)).sort(),this.render()},2e3)}}customElements.define("ui-2217253415213956",e),window.UIjs.tags["ui-2217253415213956"]=!0}})();(async()=>{if(!customElements.get("ui-js-app")){class l extends Ot{static get observedAttributes(){return["selected","menu"]}get nanoapp(){return[]}get initial_state(){return{selected:void 0,menu:[{caption:"Basics",items:[{caption:"Hello world",page:"hello-world"}]},{caption:"UI.js demo",items:[{caption:"Letters",page:"letters"},{caption:"Masonry",page:"masonry"}]}]}}get initial_component(){return[{tag:"ui-2314403337414734",children:[{tag:"ui-3905478679869311",if:({state:t})=>{var e;return((e=t.selected)==null?void 0:e.page)==="hello-world"},attrsR:{},context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"ui-2217253415213956",if:({state:t})=>{var e;return((e=t.selected)==null?void 0:e.page)==="letters"},attrsR:{},context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"ui-513309451367658",if:({state:t})=>{var e;return((e=t.selected)==null?void 0:e.page)==="masonry"},attrsR:{},context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}}],events:{select:async(t,{state:e},s)=>{e.selected=t.detail,this.render()}},attrs2:{menu:({state:t})=>t.menu},attrsB:{},attrsR:{},context:["state"],attrs3:{menu:({state:t})=>t.menu},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}}]}get css(){return""}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-js-app",l),window.UIjs.tags["ui-js-app"]=!0}})();(async()=>{if(!customElements.get("ui-985958650388124")){class l extends Ot{static get observedAttributes(){return[]}get nanoapp(){return[]}get initial_state(){return{}}get initial_component(){return[{tag:"#text",content:"\nHello world",context:["state"],enter:function(e,s,n,i,o){return e.element=document.createTextNode(e.content),n?n.after(e.element):s.prepend(e.element),s.__i__[o]={exit:!1},e.element}}]}get css(){return""}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-985958650388124",l),window.UIjs.tags["ui-985958650388124"]=!0}})();(async()=>{if(!customElements.get("ui-7065157845591649")){let t=function(s){for(let n=s.length-1;n>0;n--){let i=Math.floor(Math.random()*(n+1));[s[n],s[i]]=[s[i],s[n]]}return s};var u=t,l="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");class e extends Ot{static get observedAttributes(){return["alphabet"]}get nanoapp(){return[]}get initial_state(){return{alphabet:[]}}get initial_component(){return[{tag:"h1",enterStyles:({state:n})=>({color:{to:"white"}}),attrsR:{},text:"Enter / Update / Exit / Restore pattern demo",context:["state"],enterProps:[function(n,i,o,a){Object.entries(i.enterStyles(o)).forEach(([r,h])=>{var T;if(Array.isArray(h))throw"not implemented";typeof h=="object"?(n._styleV[r]=h.to,a.animateCSS(n,r,h)):(n._styleV[r]=h,(T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h))})}],updateProps:[],Update_Tag:[function(n,i,o,a){return n}],enter:(n,i,o,a,r,h,T)=>{var w=T.createElement(n,i);return n.enterProps&&n.enterProps(w,n,a,T),n.text&&(typeof n.text=="function"?w.textContent=w.__lastText=n.text(a):w.textContent=w.__lastText=n.text),n.html&&(typeof n.html=="function"?w.innerHTML=w.__lastHTML=n.html(a):w.innerHTML=w.__lastHTML=n.html),T.insertElement(i,w,o),i.__i__[r]={exit:!1},w}},{tag:"b",key:n=>n,loop_fn:"state.alphabet",loop_alias:"letter",loop_key_alias:"i",enterStyles:({state:n,letter:i,i:o})=>({"font-size":{default:"12px",to:"48px"},color:{to:"#FF0000",duration:1500},opacity:{default:0,to:1,duration:1500},left:{default:"400px",to:400-n.alphabet.length*15+o*30+"px",ease:"easeInOutQuint",duration:1300+o*30},top:{default:"0px",to:"280px",ease:"easeInOutQuint",duration:1300+o*30}}),updateStyles:({state:n,letter:i,i:o})=>({color:{to:"#0088FF"},left:{to:400-n.alphabet.length*15+o*30+"px",ease:"easeOutBounce"}}),exitStyles:({state:n,letter:i,i:o})=>({"font-size":{to:"12px",duration:1e3},color:{to:"#CCCCCC",duration:1e3},top:{to:"550px",duration:3e3+Math.random()*2e3,ease:"easeOutBounce"}}),events:{click:async(n,{state:i,letter:o,i:a},r)=>{i.alphabet.splice(a,1),this.render()},mouseover:async(n,{state:i,letter:o,i:a},r)=>{i.alphabet.splice(a,1),this.render()}},attrsR:{},context:["state","letter","i"],loop:({state:n})=>n.alphabet,text:({state:n,letter:i,i:o})=>i,enterProps:[function(n,i,o,a){Object.entries(i.enterStyles(o)).forEach(([r,h])=>{var T;if(Array.isArray(h))throw"not implemented";typeof h=="object"?(n._styleV[r]=h.to,a.animateCSS(n,r,h)):(n._styleV[r]=h,(T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h))})},function(n,i,o,a){n.__datum={...o},Object.entries(i.events).forEach(([r,h])=>{n._events[r]=T=>h(T,n.__datum,n),n.addEventListener(r,n._events[r])})}],updateProps:[function(n,i,o,a){Object.entries(i.updateStyles(o)).forEach(([r,h])=>{var T;typeof h=="object"?n._styleV[r]!==h.to&&(h!=null&&h.skip||(n._styleV[r]=h.to,h!=null&&h.disabled?((T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h.to)):a.animateCSS(n,r,h))):n._styleV[r]!==h&&(n._styleV[r]=h,n.style.setProperty(r,h))})},function(n,i,o,a){n.__datum={...o}}],Update_Tag:[function(n,i,o,a){var r=i.text(o);if(!n){console.log("NOT element.__lastText",n),console.trace();return}n.__lastText!==r&&(n.textContent=n.__lastText=r)},function(n,i,o,a){Object.entries(i.updateStyles(o)).forEach(([r,h])=>{var T;typeof h=="object"?n._styleV[r]!==h.to&&(h!=null&&h.skip||(n._styleV[r]=h.to,h!=null&&h.disabled?((T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h.to)):a.animateCSS(n,r,h))):n._styleV[r]!==h&&(n._styleV[r]=h,n.style.setProperty(r,h))})},function(n,i,o,a){n.__datum={...o}},function(n,i,o,a){return n}],enter:(n,i,o,a,r,h,T)=>{var w={},R=new Map,A=[],v=o;return h.forEach((G,J)=>{var I=T.createElement(n,i);I.key=n.key(G,J),w[I.key]=!0,A.push(I),a[n.loop_alias]=G,n.loop_key_alias&&(a[n.loop_key_alias]=J),n.enterProps&&n.enterProps(I,n,a,T),n.children?T.Enter_Children(I,n.children,a):(n.text&&(typeof n.text=="function"?I.textContent=I.__lastText=n.text(a):I.textContent=I.__lastText=n.text),n.html&&(typeof n.html=="function"?I.innerHTML=I.__lastHTML=n.html(a):I.innerHTML=I.__lastHTML=n.html)),J===0&&!v?T.prependElement(i,I):v.after(I),v=I}),i.__i__[r]={length:h.length,exit:R,elements:A,keys:w},v}},{tag:"i",updateStyles:({state:n})=>({opacity:{from:0,to:1,duration:300,done:i=>{setTimeout(()=>{this.animateCSS("opacity",{element:i,from:1,to:0,duration:300})},1100)}}}),attrsR:{},context:["state"],text:({state:n})=>n.alphabet.join(""),enterProps:[],updateProps:[function(n,i,o,a){Object.entries(i.updateStyles(o)).forEach(([r,h])=>{var T;typeof h=="object"?n._styleV[r]!==h.to&&(h!=null&&h.skip||(n._styleV[r]=h.to,h!=null&&h.disabled?((T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h.to)):a.animateCSS(n,r,h))):n._styleV[r]!==h&&(n._styleV[r]=h,n.style.setProperty(r,h))})}],Update_Tag:[function(n,i,o,a){var r=i.text(o);if(!n){console.log("NOT element.__lastText",n),console.trace();return}n.__lastText!==r&&(n.textContent=n.__lastText=r)},function(n,i,o,a){Object.entries(i.updateStyles(o)).forEach(([r,h])=>{var T;typeof h=="object"?n._styleV[r]!==h.to&&(h!=null&&h.skip||(n._styleV[r]=h.to,h!=null&&h.disabled?((T=n._styles[r])!=null&&T.cancel&&n._styles[r].cancel(),n.style.setProperty(r,h.to)):a.animateCSS(n,r,h))):n._styleV[r]!==h&&(n._styleV[r]=h,n.style.setProperty(r,h))})},function(n,i,o,a){return n}],enter:(n,i,o,a,r,h,T)=>{var w=T.createElement(n,i);return n.enterProps&&n.enterProps(w,n,a,T),n.text&&(typeof n.text=="function"?w.textContent=w.__lastText=n.text(a):w.textContent=w.__lastText=n.text),n.html&&(typeof n.html=="function"?w.innerHTML=w.__lastHTML=n.html(a):w.innerHTML=w.__lastHTML=n.html),T.insertElement(i,w,o),i.__i__[r]={exit:!1},w}}]}get css(){return":host {\n        width:  100%;\n        height: 100%;\n        position: absolute;\n        top:  0;\n        left: 50%;\n        transform: translateX(-50%);\n        user-select: none;\n        -webkit-user-select: none;\n        background:black;\n    }\n    i {\n        position: absolute;\n        color: white;\n        top: 80px;\n        left: 50%;\n    }\n    b {\n        font-family: Courier New;\n        position: absolute;\n        text-align: center;\n        width: 30px;\n        display: block;\n        cursor: pointer;\n    }\n    h1 {\n        font-family: arial;\n        font-size: 12px;\n        opacity: 0.5;\n    }"}get __walt(){}get __src(){return"undefined"}connected(){this.state.alphabet=l,this.render(),setInterval(()=>{this.state.alphabet=t(l).slice(0,Math.floor(Math.random()*26)).sort(),this.render()},2e3)}}customElements.define("ui-7065157845591649",e),window.UIjs.tags["ui-7065157845591649"]=!0}})();(async()=>{if(!customElements.get("ui-6928163769489137")){let t=function(o,a,r,h,T,w){var R=0;for(let A=r;A<r+w;A++){if(A>=o.length)return;for(let v=h;v<Math.min(a,h+T);v++)o[A][v]||R++}if(R==T*w){for(let A=r;A<r+w;A++)for(let v=h;v<h+T;v++)o[A][v]=!0;return!0}},e=function(o,a,r,h){for(let T=0;T<o.length;T++)for(let w=0;w<Math.min(a,o[T].length);w++)if(!o[T][w]&&t(o,a,T,w,r,h))return{row:T,col:w};return o.push(new Array(a).fill(!1)),e(o,a,r,h)};var l=t,u=e;let s=(o,a,r,h,T)=>{if(!o.state.animation)return a.style.setProperty(r,h+"px");a._spring||(a._spring={}),a._spring[r]?a._spring[r].set(h):(a._spring[r]=new o.Spring({target:h,current:T||h,stiffness:o.state.enter_stiffness,damping:o.state.enter_damping,mass:o.state.enter_mass,delta:1,callback:w=>a.style.setProperty(r,w+"px"),done:()=>{a._spring[r]&&(delete a._spring[r].done,a._spring[r].stiffness=o.state.stiffness,a._spring[r].mass=o.state.mass,a._spring[r].damping=o.state.damping)}}),a.style.setProperty(r,h+"px"))},n=o=>{o.sections.forEach((a,r)=>Object.keys(a._spring).forEach(h=>{a._spring[h].stiffness=o.state.stiffness,a._spring[h].mass=o.state.mass,a._spring[h].damping=o.state.damping}))};class i extends Ot{static get observedAttributes(){return["width","padding","animation","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{width:200,padding:10,animation:!1,stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(a,r,h,T){return a}],enter:(a,r,h,T,w,R,A)=>{var v=A.createElement(a,r);return a.enterProps&&a.enterProps(v,a,T,A),a.text&&(typeof a.text=="function"?v.textContent=v.__lastText=a.text(T):v.textContent=v.__lastText=a.text),a.html&&(typeof a.html=="function"?v.innerHTML=v.__lastHTML=a.html(T):v.innerHTML=v.__lastHTML=a.html),A.insertElement(r,v,h),r.__i__[w]={exit:!1},v}}]}get css(){return":host {\n        display: block;\n        position: relative;\n        width: 100%;\n        box-sizing: border-box;\n    }\n    ::slotted(section) {\n        position: absolute;\n        box-sizing: border-box;\n        background: white;\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05), 0 6px 20px 0 rgba(0, 0, 0, 0.02);\n    }"}get __walt(){}get __src(){return"undefined"}redraw(){var A;if(!((A=this.sections)!=null&&A.length))return;let a=Number(this.state.width),r=Number(this.state.padding),h=this.element.offsetWidth-r,T=h>Number(this.state.width)?h/Math.floor(h/a):h,w=[],R=Math.floor(h/T);this.sections.forEach(v=>{var G=Number(v.getAttribute("w"))||1;let J=Number(v.getAttribute("h"))||1;G>R&&(G=R);let{col:I,row:b}=e(w,R,G,J),ct=G*T,gt=J*T,wt=I*T,_t=b*T,dt=wt+r,Tt=_t+r,vt=ct-r,Kt=gt-r,Ut=(ct-r)/2,Ht=(gt-r)/2;s(this,v,"left",dt,dt+Ut/2),s(this,v,"top",Tt,Tt+Ht/2),s(this,v,"width",vt,Ut),s(this,v,"height",Kt,Ht)}),this.lastColumnCount=R,this.element.style.setProperty("height",w.length*T+r+"px")}init(){this.MutationObserverOptions.attributes=!0}slotChange(){this.sections=this.slotted.filter(a=>a.nodeName==="SECTION"),this.sections.forEach((a,r)=>{let h=a.setAttribute;a.setAttribute=(T,w)=>{h.apply(a,[T,w]),(T==="h"||T==="w")&&this.redraw()}}),this.redraw()}changed(a){(a.width||a.padding)&&this.redraw(),["stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"].some(r=>a[r])&&n(this)}connected(){let a=(r,h)=>{let T,w=Date.now()-(h+1);return function(...R){let A=this;clearTimeout(T),T=setTimeout(()=>{r.apply(A,R),w=Date.now()},h-(Date.now()-w))}};this.on("resize",a(this.redraw,100)),this.slotChange()}}customElements.define("ui-6928163769489137",i),window.UIjs.tags["ui-6928163769489137"]=!0}})();(async()=>{if(!customElements.get("ui-7246167392638071")){class l extends Ot{static get observedAttributes(){return["padding","width","animation","flag","size","mysec","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{padding:10,width:200,animation:!0,flag:!0,size:1,mysec:[{name:"Swap 1",width:10,color:"#4be96e"},{name:"Swap 2",width:20,color:"#d78d2f"},{name:"Swap 3",width:40,color:"#319dba"}],stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"ui-6928163769489137",children:[{tag:"section",children:[{tag:"button",events:{click:async(t,{state:e},s)=>{e.animation=!e.animation,this.render()}},attrsR:{},context:["state"],text:({state:t})=>"Animation: "+t.animation,enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.flag=!e.flag,this.render()}},attrsR:{},text:"Toggle #3",context:["state"],enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{[e.mysec[0],e.mysec[1]]=[e.mysec[1],e.mysec[0]],this.render()}},attrsR:{},text:"Swap sections 1",context:["state"],enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{[e.mysec[0],e.mysec[2]]=[e.mysec[2],e.mysec[0]],this.render()}},attrsR:{},text:"Swap sections 2",context:["state"],enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.width=e.width==200?250:200,this.render()}},attrsR:{},context:["state"],text:({state:t})=>"Width: "+t.width,enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>4,value:({state:t})=>t.size},attrsB:{},attrsR:{value:"state.size"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.size=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>4,value:({state:t})=>t.size},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"#2 height = "+t.size,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>0,max:({state:t})=>20,value:({state:t})=>t.padding,step:({state:t})=>10},attrsB:{},attrsR:{value:"state.padding"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.padding=t.target.value}},attrs3:{min:({state:t})=>0,max:({state:t})=>20,value:({state:t})=>t.padding,step:({state:t})=>10},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"padding = "+t.padding,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}},{tag:"section",children:[{tag:"b",text:"Update animation settings",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.stiffness},attrsB:{},attrsR:{value:"state.stiffness"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.stiffness=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.stiffness},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Stiffness = "+t.stiffness,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.damping},attrsB:{},attrsR:{value:"state.damping"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.damping=t.target.value}},attrs3:{min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.damping},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Damping = "+t.damping,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.mass},attrsB:{},attrsR:{value:"state.mass"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.mass=t.target.value}},attrs3:{min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.mass},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Mass = "+t.mass,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"b",text:"Enter animation settings",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"button",events:{click:async(t,{state:e},s)=>{e.flag=!e.flag,this.render()}},attrsR:{},text:"Enter/exit #3",context:["state"],enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.enter_stiffness},attrsB:{},attrsR:{value:"state.enter_stiffness"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_stiffness=t.target.value}},attrs3:{min:({state:t})=>1,max:({state:t})=>10,step:({state:t})=>1,value:({state:t})=>t.enter_stiffness},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Stiffness = "+t.enter_stiffness,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.enter_damping},attrsB:{},attrsR:{value:"state.enter_damping"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_damping=t.target.value}},attrs3:{min:({state:t})=>.1,max:({state:t})=>2,step:({state:t})=>.1,value:({state:t})=>t.enter_damping},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Damping = "+t.enter_damping,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"input",attrs2:{type:"range",min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.enter_mass},attrsB:{},attrsR:{value:"state.enter_mass"},context:["state"],events:{input:(t,{state:e},s)=>{setTimeout(()=>this.render(),0),e.enter_mass=t.target.value}},attrs3:{min:({state:t})=>.05,max:({state:t})=>.5,step:({state:t})=>.05,value:({state:t})=>t.enter_mass},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"span",attrsR:{},context:["state"],text:({state:t})=>"Mass = "+t.enter_mass,enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"br",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}}],style:({state:t})=>({"text-align":"left"}),attrs2:{w:({state:t})=>2,h:({state:t})=>t.size},attrsB:{},attrsR:{},context:["state"],attrs3:{w:({state:t})=>2,h:({state:t})=>t.size},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]=o,t.style.setProperty(i,o)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]!==o&&(t._styleV[i]=o,t.style.setProperty(i,o))})}],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]!==o&&(t._styleV[i]=o,t.style.setProperty(i,o))})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}},{tag:"section",if:({state:t})=>t.flag,attrs2:{w:({state:t})=>3,h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #3\n    ",context:["state"],attrs3:{w:({state:t})=>3,h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{w:({state:t})=>4},attrsB:{},attrsR:{},text:"\n        #4\n    ",context:["state"],attrs3:{w:({state:t})=>4},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{w:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #5\n    ",context:["state"],attrs3:{w:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #6\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",key:t=>t.name,loop_fn:"state.mysec",loop_alias:"item",loop_key_alias:"i",style:({state:t,item:e,i:s})=>({background:e.color,border:e.width+"px dashed #00000033"}),attrsR:{},context:["state","item","i"],loop:({state:t})=>t.mysec,text:({state:t,item:e,i:s})=>e.name,enterProps:[function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]=o,t.style.setProperty(i,o)})}],updateProps:[function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]!==o&&(t._styleV[i]=o,t.style.setProperty(i,o))})}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){Object.entries(e.style(s)).forEach(([i,o])=>{t._styleV[i]!==o&&(t._styleV[i]=o,t.style.setProperty(i,o))})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r={},h=new Map,T=[],w=s;return o.forEach((R,A)=>{var v=a.createElement(t,e);v.key=t.key(R,A),r[v.key]=!0,T.push(v),n[t.loop_alias]=R,t.loop_key_alias&&(n[t.loop_key_alias]=A),t.enterProps&&t.enterProps(v,t,n,a),t.children?a.Enter_Children(v,t.children,n):(t.text&&(typeof t.text=="function"?v.textContent=v.__lastText=t.text(n):v.textContent=v.__lastText=t.text),t.html&&(typeof t.html=="function"?v.innerHTML=v.__lastHTML=t.html(n):v.innerHTML=v.__lastHTML=t.html)),A===0&&!w?a.prependElement(e,v):w.after(v),w=v}),e.__i__[i]={length:o.length,exit:h,elements:T,keys:r},w}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #8\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{w:({state:t})=>2,h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #9\n    ",context:["state"],attrs3:{w:({state:t})=>2,h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",text:"\n        #10\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",text:"\n        #11\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",attrs2:{h:({state:t})=>2},attrsB:{},attrsR:{},text:"\n        #12\n    ",context:["state"],attrs3:{h:({state:t})=>2},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"section",text:"\n        #13\n    ",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}}],attrs2:{width:({state:t})=>t.width,animation:({state:t})=>t.animation,padding:({state:t})=>t.padding,stiffness:({state:t})=>t.stiffness,damping:({state:t})=>t.damping,mass:({state:t})=>t.mass,enter_stiffness:({state:t})=>t.enter_stiffness,enter_damping:({state:t})=>t.enter_damping,enter_mass:({state:t})=>t.enter_mass},attrsB:{},attrsR:{},context:["state"],attrs3:{width:({state:t})=>t.width,animation:({state:t})=>t.animation,padding:({state:t})=>t.padding,stiffness:({state:t})=>t.stiffness,damping:({state:t})=>t.damping,mass:({state:t})=>t.mass,enter_stiffness:({state:t})=>t.enter_stiffness,enter_damping:({state:t})=>t.enter_damping,enter_mass:({state:t})=>t.enter_mass},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}}]}get css(){return':host {\n        display: block;\n        position: relative;\n        width: 100%;\n        min-height: 100%;\n        height: fit-content;\n        box-sizing: border-box;\n        font: 12px arial;\n    }\n    section {\n        padding: 5px;\n        text-align: center;\n        border-color: #00000033;\n        border-style: solid;\n        border-width: 10px;\n    }\n    input[type="range"] {\n        width: 70px;\n    }\n    button {\n        width: 100%;\n    }\n    section:nth-child(8n+1) { background-color: #75c18177; }\n    section:nth-child(8n+2) { background-color: #B5222D77; }\n    section:nth-child(8n+3) { background-color: #F88C3077; }\n    section:nth-child(8n+4) { background-color: #58bbee77; }\n    section:nth-child(8n+5) { background-color: #8A40A777; }\n    section:nth-child(8n+6) { background-color: #D4953C77; }\n    section:nth-child(8n+7) { background-color: #94816077; }\n    section:nth-child(8n+8) { background-color: #33949677; }'}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-7246167392638071",l),window.UIjs.tags["ui-7246167392638071"]=!0}})();(async()=>{if(!customElements.get("ui-303496780767565")){let t=function(o,a,r,h,T,w){var R=0;for(let A=r;A<r+w;A++){if(A>=o.length)return;for(let v=h;v<Math.min(a,h+T);v++)o[A][v]||R++}if(R==T*w){for(let A=r;A<r+w;A++)for(let v=h;v<h+T;v++)o[A][v]=!0;return!0}},e=function(o,a,r,h){for(let T=0;T<o.length;T++)for(let w=0;w<Math.min(a,o[T].length);w++)if(!o[T][w]&&t(o,a,T,w,r,h))return{row:T,col:w};return o.push(new Array(a).fill(!1)),e(o,a,r,h)};var l=t,u=e;let s=(o,a,r,h,T)=>{if(!o.state.animation)return a.style.setProperty(r,h+"px");a._spring||(a._spring={}),a._spring[r]?a._spring[r].set(h):(a._spring[r]=new o.Spring({target:h,current:T||h,stiffness:o.state.enter_stiffness,damping:o.state.enter_damping,mass:o.state.enter_mass,delta:1,callback:w=>a.style.setProperty(r,w+"px"),done:()=>{a._spring[r]&&(delete a._spring[r].done,a._spring[r].stiffness=o.state.stiffness,a._spring[r].mass=o.state.mass,a._spring[r].damping=o.state.damping)}}),a.style.setProperty(r,h+"px"))},n=o=>{o.sections.forEach((a,r)=>Object.keys(a._spring).forEach(h=>{a._spring[h].stiffness=o.state.stiffness,a._spring[h].mass=o.state.mass,a._spring[h].damping=o.state.damping}))};class i extends Ot{static get observedAttributes(){return["width","padding","animation","stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"]}get nanoapp(){return[]}get initial_state(){return{width:200,padding:10,animation:!1,stiffness:4,damping:.7,mass:.1,enter_stiffness:10,enter_damping:.8,enter_mass:.05}}get initial_component(){return[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(a,r,h,T){return a}],enter:(a,r,h,T,w,R,A)=>{var v=A.createElement(a,r);return a.enterProps&&a.enterProps(v,a,T,A),a.text&&(typeof a.text=="function"?v.textContent=v.__lastText=a.text(T):v.textContent=v.__lastText=a.text),a.html&&(typeof a.html=="function"?v.innerHTML=v.__lastHTML=a.html(T):v.innerHTML=v.__lastHTML=a.html),A.insertElement(r,v,h),r.__i__[w]={exit:!1},v}}]}get css(){return":host {\n        display: block;\n        position: relative;\n        width: 100%;\n        box-sizing: border-box;\n    }\n    ::slotted(section) {\n        position: absolute;\n        box-sizing: border-box;\n        background: white;\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05), 0 6px 20px 0 rgba(0, 0, 0, 0.02);\n    }"}get __walt(){}get __src(){return"undefined"}redraw(){var A;if(!((A=this.sections)!=null&&A.length))return;let a=Number(this.state.width),r=Number(this.state.padding),h=this.element.offsetWidth-r,T=h>Number(this.state.width)?h/Math.floor(h/a):h,w=[],R=Math.floor(h/T);this.sections.forEach(v=>{var G=Number(v.getAttribute("w"))||1;let J=Number(v.getAttribute("h"))||1;G>R&&(G=R);let{col:I,row:b}=e(w,R,G,J),ct=G*T,gt=J*T,wt=I*T,_t=b*T,dt=wt+r,Tt=_t+r,vt=ct-r,Kt=gt-r,Ut=(ct-r)/2,Ht=(gt-r)/2;s(this,v,"left",dt,dt+Ut/2),s(this,v,"top",Tt,Tt+Ht/2),s(this,v,"width",vt,Ut),s(this,v,"height",Kt,Ht)}),this.lastColumnCount=R,this.element.style.setProperty("height",w.length*T+r+"px")}init(){this.MutationObserverOptions.attributes=!0}slotChange(){this.sections=this.slotted.filter(a=>a.nodeName==="SECTION"),this.sections.forEach((a,r)=>{let h=a.setAttribute;a.setAttribute=(T,w)=>{h.apply(a,[T,w]),(T==="h"||T==="w")&&this.redraw()}}),this.redraw()}changed(a){(a.width||a.padding)&&this.redraw(),["stiffness","damping","mass","enter_stiffness","enter_damping","enter_mass"].some(r=>a[r])&&n(this)}connected(){let a=(r,h)=>{let T,w=Date.now()-(h+1);return function(...R){let A=this;clearTimeout(T),T=setTimeout(()=>{r.apply(A,R),w=Date.now()},h-(Date.now()-w))}};this.on("resize",a(this.redraw,100)),this.slotChange()}}customElements.define("ui-303496780767565",i),window.UIjs.tags["ui-303496780767565"]=!0}})();(async()=>{if(!customElements.get("ui-7740377049529222")){class l extends Ot{static get observedAttributes(){return["category","selected","menu"]}get nanoapp(){return[]}get initial_state(){return{category:void 0,selected:void 0,menu:[]}}get initial_component(){return[{tag:"aside",children:[{tag:"ul",children:[{tag:"li",children:[{tag:"header",events:{click:async(t,{state:e,category:s},n)=>{e.category=e.category!==s.caption?s.caption:void 0,this.render()}},attrsR:{},context:["state","category"],text:({state:t,category:e})=>e.caption,enterProps:[function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}},{tag:"ul",children:[{tag:"li",key:t=>t.url,loop_fn:"category.items",loop_alias:"item",enterStyles:({state:t,category:e,item:s})=>({"padding-left":{to:"50px",ease:"easeOutBounce"}}),events:{click:async(t,{state:e,category:s,item:n},i)=>{e.selected=n,this.emit("select",n),this.render()}},attrs2:{class:({state:t,category:e,item:s})=>t.selected===s&&"active"},attrsB:{},attrsR:{},context:["state","category","item"],loop:({state:t,category:e})=>e.items,text:({state:t,category:e,item:s})=>s.caption,attrs3:{class:({state:t,category:e,item:s})=>t.selected===s&&"active"},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})},function(t,e,s,n){Object.entries(e.enterStyles(s)).forEach(([i,o])=>{var a;if(Array.isArray(o))throw"not implemented";typeof o=="object"?(t._styleV[i]=o.to,n.animateCSS(t,i,o)):(t._styleV[i]=o,(a=t._styles[i])!=null&&a.cancel&&t._styles[i].cancel(),t.style.setProperty(i,o))})},function(t,e,s,n){t.__datum={...s},Object.entries(e.events).forEach(([i,o])=>{t._events[i]=a=>o(a,t.__datum,t),t.addEventListener(i,t._events[i])})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}}],Update_Tag:[function(t,e,s,n){var i=e.text(s);if(!t){console.log("NOT element.__lastText",t),console.trace();return}t.__lastText!==i&&(t.textContent=t.__lastText=i)},function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){t.__datum={...s}},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r={},h=new Map,T=[],w=s;return o.forEach((R,A)=>{var v=a.createElement(t,e);v.key=t.key(R,A),r[v.key]=!0,T.push(v),n[t.loop_alias]=R,t.loop_key_alias&&(n[t.loop_key_alias]=A),t.enterProps&&t.enterProps(v,t,n,a),t.children?a.Enter_Children(v,t.children,n):(t.text&&(typeof t.text=="function"?v.textContent=v.__lastText=t.text(n):v.textContent=v.__lastText=t.text),t.html&&(typeof t.html=="function"?v.innerHTML=v.__lastHTML=t.html(n):v.innerHTML=v.__lastHTML=t.html)),A===0&&!w?a.prependElement(e,v):w.after(v),w=v}),e.__i__[i]={length:o.length,exit:h,elements:T,keys:r},w}}],if:({state:t,category:e})=>e.caption===t.category,attrsR:{},context:["state","category"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}}],key:t=>t.caption,loop_fn:"state.menu",loop_alias:"category",attrs2:{class:({state:t,category:e})=>t.category===e.caption&&"active"},attrsB:{},attrsR:{},context:["state","category"],loop:({state:t})=>t.menu,attrs3:{class:({state:t,category:e})=>t.category===e.caption&&"active"},enterProps:[function(t,e,s,n){var i=e.attrs?e.attrs(s):{};e.attrs2&&Object.entries(e.attrs2).forEach(([o,a])=>{i[o]=typeof a=="function"?a(s):a}),Object.entries(i).forEach(([o,a])=>{n.enterAttribute(e,t,o,a)})}],updateProps:[function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})}],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){Object.entries(e.attrs3).forEach(([i,o])=>{n.updateAttribute(e,t,i,typeof o=="function"?o(s):o)})},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r={},h=new Map,T=[],w=s;return o.forEach((R,A)=>{var v=a.createElement(t,e);v.key=t.key(R,A),r[v.key]=!0,T.push(v),n[t.loop_alias]=R,t.loop_key_alias&&(n[t.loop_key_alias]=A),t.enterProps&&t.enterProps(v,t,n,a),t.children?a.Enter_Children(v,t.children,n):(t.text&&(typeof t.text=="function"?v.textContent=v.__lastText=t.text(n):v.textContent=v.__lastText=t.text),t.html&&(typeof t.html=="function"?v.innerHTML=v.__lastHTML=t.html(n):v.innerHTML=v.__lastHTML=t.html)),A===0&&!w?a.prependElement(e,v):w.after(v),w=v}),e.__i__[i]={length:o.length,exit:h,elements:T,keys:r},w}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}},{tag:"main",children:[{tag:"slot",context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),t.text&&(typeof t.text=="function"?r.textContent=r.__lastText=t.text(n):r.textContent=r.__lastText=t.text),t.html&&(typeof t.html=="function"?r.innerHTML=r.__lastHTML=t.html(n):r.innerHTML=r.__lastHTML=t.html),a.insertElement(e,r,s),e.__i__[i]={exit:!1},r}}],context:["state"],enterProps:[],updateProps:[],Update_Tag:[function(t,e,s,n){n.UPDATE_Chidldren(t,e.children,s)},function(t,e,s,n){return t}],enter:(t,e,s,n,i,o,a)=>{var r=a.createElement(t,e);return t.enterProps&&t.enterProps(r,t,n,a),a.insertElement(e,r,s),a.Enter_Children(r,t.children,n),e.__i__[i]={exit:!1},r}}]}get css(){return":host {\n        font-family: sans-serif;\n        padding: 0;\n        margin: 0;\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n    }\n    main {\n        position: absolute;\n        width: calc(100% - 240px);\n        height: 100%;\n        right:0;\n    }\n    aside {\n        color: white;\n        width: 240px;\n        height: 100%;\n        background: #558361;\n        position: absolute;\n        font-size: 14px;\n        user-select: none;\n        -webkit-user-select: none;\n    }\n    ul {\n        margin: 0;\n        padding: 0;\n    }\n    li {\n        margin-left: 0;\n        cursor: pointer;\n        list-style-type: none;\n        border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n    }\n    aside > ul > li > ul > li {\n        padding-left: 30px;\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-bottom: none;\n        opacity: 0.7;\n        background: #3b5943;\n    }\n    ul > li.active {\n        font-weight: bold;\n    }\n    aside > ul > li > ul > li.active {\n        opacity: 1;\n    }\n    aside > ul > li > ul > li:hover {\n        color: yellow;\n    }\n    header {\n        padding-top: 15px;\n        padding-bottom: 15px;\n        margin-left: 15px;\n    }"}get __walt(){}get __src(){return"undefined"}}customElements.define("ui-7740377049529222",l),window.UIjs.tags["ui-7740377049529222"]=!0}})();console.log("Hi \u{1F642}");
/*! Bundled license information:

@ui.js.org/ui/dist/ui.esm.js:
  (**
   * WASM types
   *
   * https://github.com/WebAssembly/spec/tree/master/interpreter#s-expression-syntax
   *
   * Plus some extra C type mappings
   *
   * @author arthrubuldauskas@gmail.com
   * @license MIT
   *)
  (**
   * min.css
   *
   * min.css is a tiny, fast and efficient JavaScript library for minifying CSS
   * files that really makes your website faster
   *
   * Site: https://github.com/w3core/min.css/
   * Online: https://w3core.github.io/min.css/
   *
   * @version 1.3.1
   *
   * @license BSD License
   * @author Max Chuhryaev
   *)
*/
